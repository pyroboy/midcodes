import{s as oe,C as G,D as x,E as he,F as ge,G as _e,H as ve,a as D,b as L,f as I,g as V,p as ie,j as P,d as E,k as i,i as Q,l as f,v as Te,y as J,aq as Oe,n as De,A as Ue,S as Je,t as ze,h as Se,U as it,m as Ve,w as ft,x as st,z as lt,B as $t,ar as nt,M as We,O as Ge,e as ut,a3 as kt,o as Jt,q as wt,c as mt}from"../chunks/scheduler.Bl--k1HL.js";import{S as ae,i as re,c as W,a as q,m as R,t as C,b as S,d as X,g as Ae,e as Me,f as Ye,h as ct}from"../chunks/index.DR8de1tj.js";import{s as Et}from"../chunks/supabaseClient.1oeZSPjs.js";import{e as je,u as Zt,o as xt}from"../chunks/each.En5UpT5R.js";import{w as en}from"../chunks/index.CtH2YV38.js";import{g as be,a as $e}from"../chunks/spread.CgU5AtxT.js";import{I as ke}from"../chunks/Icon.X1g8dxaz.js";import{C as tn}from"../chunks/chevrons-up-down.B8qy5SPL.js";import{C as nn,R as ln,S as sn,a as on,V as an,b as rn}from"../chunks/index.BkiOxIzK.js";import{I as Kt}from"../chunks/input.CkoDOh7A.js";import{a as Nt,f as yt}from"../chunks/index.NUNB5A5N.js";import"../chunks/index.D4E8IgGl.js";import{l as fn,g as Tt,f as un}from"../chunks/fonts.7XzQP8PC.js";import{B as at}from"../chunks/button.BqeWxtk_.js";import{X as cn}from"../chunks/x.CfuoG80Q.js";import{a as dn,g as mn}from"../chunks/entry.B5jMEGBp.js";import{T as pn}from"../chunks/trash-2.BXYXLL88.js";import{p as hn,s as gn}from"../chunks/auth.Curs6txW.js";function _n(o){let e;const s=o[2].default,t=he(s,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,n){t&&t.m(l,n),e=!0},p(l,n){t&&t.p&&(!e||n&8)&&ge(t,s,l,l[3],e?ve(s,l[3],n,null):_e(l[3]),null)},i(l){e||(C(t,l),e=!0)},o(l){S(t,l),e=!1},d(l){t&&t.d(l)}}}function vn(o){let e,s;const t=[{name:"align-center"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[_n]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)l=G(l,t[n]);return e=new ke({props:l}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,a){R(e,n,a),s=!0},p(n,[a]){const r=a&3?be(t,[t[0],a&2&&$e(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){s||(C(e.$$.fragment,n),s=!0)},o(n){S(e.$$.fragment,n),s=!1},d(n){X(e,n)}}}function bn(o,e,s){let{$$slots:t={},$$scope:l}=e;const n=[["path",{d:"M17 12H7"}],["path",{d:"M19 18H5"}],["path",{d:"M21 6H3"}]];return o.$$set=a=>{s(1,e=G(G({},e),x(a))),"$$scope"in a&&s(3,l=a.$$scope)},e=x(e),[n,e,t,l]}class $n extends ae{constructor(e){super(),re(this,e,bn,vn,oe,{})}}function kn(o){let e;const s=o[2].default,t=he(s,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,n){t&&t.m(l,n),e=!0},p(l,n){t&&t.p&&(!e||n&8)&&ge(t,s,l,l[3],e?ve(s,l[3],n,null):_e(l[3]),null)},i(l){e||(C(t,l),e=!0)},o(l){S(t,l),e=!1},d(l){t&&t.d(l)}}}function wn(o){let e,s;const t=[{name:"align-justify"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[kn]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)l=G(l,t[n]);return e=new ke({props:l}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,a){R(e,n,a),s=!0},p(n,[a]){const r=a&3?be(t,[t[0],a&2&&$e(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){s||(C(e.$$.fragment,n),s=!0)},o(n){S(e.$$.fragment,n),s=!1},d(n){X(e,n)}}}function En(o,e,s){let{$$slots:t={},$$scope:l}=e;const n=[["path",{d:"M3 12h18"}],["path",{d:"M3 18h18"}],["path",{d:"M3 6h18"}]];return o.$$set=a=>{s(1,e=G(G({},e),x(a))),"$$scope"in a&&s(3,l=a.$$scope)},e=x(e),[n,e,t,l]}class Nn extends ae{constructor(e){super(),re(this,e,En,wn,oe,{})}}function yn(o){let e;const s=o[2].default,t=he(s,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,n){t&&t.m(l,n),e=!0},p(l,n){t&&t.p&&(!e||n&8)&&ge(t,s,l,l[3],e?ve(s,l[3],n,null):_e(l[3]),null)},i(l){e||(C(t,l),e=!0)},o(l){S(t,l),e=!1},d(l){t&&t.d(l)}}}function Tn(o){let e,s;const t=[{name:"align-left"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[yn]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)l=G(l,t[n]);return e=new ke({props:l}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,a){R(e,n,a),s=!0},p(n,[a]){const r=a&3?be(t,[t[0],a&2&&$e(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){s||(C(e.$$.fragment,n),s=!0)},o(n){S(e.$$.fragment,n),s=!1},d(n){X(e,n)}}}function Dn(o,e,s){let{$$slots:t={},$$scope:l}=e;const n=[["path",{d:"M15 12H3"}],["path",{d:"M17 18H3"}],["path",{d:"M21 6H3"}]];return o.$$set=a=>{s(1,e=G(G({},e),x(a))),"$$scope"in a&&s(3,l=a.$$scope)},e=x(e),[n,e,t,l]}class In extends ae{constructor(e){super(),re(this,e,Dn,Tn,oe,{})}}function Cn(o){let e;const s=o[2].default,t=he(s,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,n){t&&t.m(l,n),e=!0},p(l,n){t&&t.p&&(!e||n&8)&&ge(t,s,l,l[3],e?ve(s,l[3],n,null):_e(l[3]),null)},i(l){e||(C(t,l),e=!0)},o(l){S(t,l),e=!1},d(l){t&&t.d(l)}}}function zn(o){let e,s;const t=[{name:"align-right"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[Cn]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)l=G(l,t[n]);return e=new ke({props:l}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,a){R(e,n,a),s=!0},p(n,[a]){const r=a&3?be(t,[t[0],a&2&&$e(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){s||(C(e.$$.fragment,n),s=!0)},o(n){S(e.$$.fragment,n),s=!1},d(n){X(e,n)}}}function Sn(o,e,s){let{$$slots:t={},$$scope:l}=e;const n=[["path",{d:"M21 12H9"}],["path",{d:"M21 18H7"}],["path",{d:"M21 6H3"}]];return o.$$set=a=>{s(1,e=G(G({},e),x(a))),"$$scope"in a&&s(3,l=a.$$scope)},e=x(e),[n,e,t,l]}class jn extends ae{constructor(e){super(),re(this,e,Sn,zn,oe,{})}}function An(o){let e;const s=o[2].default,t=he(s,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,n){t&&t.m(l,n),e=!0},p(l,n){t&&t.p&&(!e||n&8)&&ge(t,s,l,l[3],e?ve(s,l[3],n,null):_e(l[3]),null)},i(l){e||(C(t,l),e=!0)},o(l){S(t,l),e=!1},d(l){t&&t.d(l)}}}function Mn(o){let e,s;const t=[{name:"arrow-up-narrow-wide"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[An]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)l=G(l,t[n]);return e=new ke({props:l}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,a){R(e,n,a),s=!0},p(n,[a]){const r=a&3?be(t,[t[0],a&2&&$e(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){s||(C(e.$$.fragment,n),s=!0)},o(n){S(e.$$.fragment,n),s=!1},d(n){X(e,n)}}}function On(o,e,s){let{$$slots:t={},$$scope:l}=e;const n=[["path",{d:"m3 8 4-4 4 4"}],["path",{d:"M7 4v16"}],["path",{d:"M11 12h4"}],["path",{d:"M11 16h7"}],["path",{d:"M11 20h10"}]];return o.$$set=a=>{s(1,e=G(G({},e),x(a))),"$$scope"in a&&s(3,l=a.$$scope)},e=x(e),[n,e,t,l]}class Vn extends ae{constructor(e){super(),re(this,e,On,Mn,oe,{})}}function Un(o){let e;const s=o[2].default,t=he(s,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,n){t&&t.m(l,n),e=!0},p(l,n){t&&t.p&&(!e||n&8)&&ge(t,s,l,l[3],e?ve(s,l[3],n,null):_e(l[3]),null)},i(l){e||(C(t,l),e=!0)},o(l){S(t,l),e=!1},d(l){t&&t.d(l)}}}function Bn(o){let e,s;const t=[{name:"bold"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[Un]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)l=G(l,t[n]);return e=new ke({props:l}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,a){R(e,n,a),s=!0},p(n,[a]){const r=a&3?be(t,[t[0],a&2&&$e(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){s||(C(e.$$.fragment,n),s=!0)},o(n){S(e.$$.fragment,n),s=!1},d(n){X(e,n)}}}function Fn(o,e,s){let{$$slots:t={},$$scope:l}=e;const n=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8"}]];return o.$$set=a=>{s(1,e=G(G({},e),x(a))),"$$scope"in a&&s(3,l=a.$$scope)},e=x(e),[n,e,t,l]}class Ln extends ae{constructor(e){super(),re(this,e,Fn,Bn,oe,{})}}function Pn(o){let e;const s=o[2].default,t=he(s,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,n){t&&t.m(l,n),e=!0},p(l,n){t&&t.p&&(!e||n&8)&&ge(t,s,l,l[3],e?ve(s,l[3],n,null):_e(l[3]),null)},i(l){e||(C(t,l),e=!0)},o(l){S(t,l),e=!1},d(l){t&&t.d(l)}}}function Hn(o){let e,s;const t=[{name:"chevron-up"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[Pn]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)l=G(l,t[n]);return e=new ke({props:l}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,a){R(e,n,a),s=!0},p(n,[a]){const r=a&3?be(t,[t[0],a&2&&$e(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){s||(C(e.$$.fragment,n),s=!0)},o(n){S(e.$$.fragment,n),s=!1},d(n){X(e,n)}}}function Wn(o,e,s){let{$$slots:t={},$$scope:l}=e;const n=[["path",{d:"m18 15-6-6-6 6"}]];return o.$$set=a=>{s(1,e=G(G({},e),x(a))),"$$scope"in a&&s(3,l=a.$$scope)},e=x(e),[n,e,t,l]}class qn extends ae{constructor(e){super(),re(this,e,Wn,Hn,oe,{})}}function Rn(o){let e;const s=o[2].default,t=he(s,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,n){t&&t.m(l,n),e=!0},p(l,n){t&&t.p&&(!e||n&8)&&ge(t,s,l,l[3],e?ve(s,l[3],n,null):_e(l[3]),null)},i(l){e||(C(t,l),e=!0)},o(l){S(t,l),e=!1},d(l){t&&t.d(l)}}}function Xn(o){let e,s;const t=[{name:"copy"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[Rn]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)l=G(l,t[n]);return e=new ke({props:l}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,a){R(e,n,a),s=!0},p(n,[a]){const r=a&3?be(t,[t[0],a&2&&$e(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){s||(C(e.$$.fragment,n),s=!0)},o(n){S(e.$$.fragment,n),s=!1},d(n){X(e,n)}}}function Gn(o,e,s){let{$$slots:t={},$$scope:l}=e;const n=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]];return o.$$set=a=>{s(1,e=G(G({},e),x(a))),"$$scope"in a&&s(3,l=a.$$scope)},e=x(e),[n,e,t,l]}class Yn extends ae{constructor(e){super(),re(this,e,Gn,Xn,oe,{})}}function Jn(o){let e;const s=o[2].default,t=he(s,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,n){t&&t.m(l,n),e=!0},p(l,n){t&&t.p&&(!e||n&8)&&ge(t,s,l,l[3],e?ve(s,l[3],n,null):_e(l[3]),null)},i(l){e||(C(t,l),e=!0)},o(l){S(t,l),e=!1},d(l){t&&t.d(l)}}}function Kn(o){let e,s;const t=[{name:"eye-off"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[Jn]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)l=G(l,t[n]);return e=new ke({props:l}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,a){R(e,n,a),s=!0},p(n,[a]){const r=a&3?be(t,[t[0],a&2&&$e(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){s||(C(e.$$.fragment,n),s=!0)},o(n){S(e.$$.fragment,n),s=!1},d(n){X(e,n)}}}function Qn(o,e,s){let{$$slots:t={},$$scope:l}=e;const n=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143"}],["path",{d:"m2 2 20 20"}]];return o.$$set=a=>{s(1,e=G(G({},e),x(a))),"$$scope"in a&&s(3,l=a.$$scope)},e=x(e),[n,e,t,l]}class Zn extends ae{constructor(e){super(),re(this,e,Qn,Kn,oe,{})}}function xn(o){let e;const s=o[2].default,t=he(s,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,n){t&&t.m(l,n),e=!0},p(l,n){t&&t.p&&(!e||n&8)&&ge(t,s,l,l[3],e?ve(s,l[3],n,null):_e(l[3]),null)},i(l){e||(C(t,l),e=!0)},o(l){S(t,l),e=!1},d(l){t&&t.d(l)}}}function el(o){let e,s;const t=[{name:"eye"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[xn]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)l=G(l,t[n]);return e=new ke({props:l}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,a){R(e,n,a),s=!0},p(n,[a]){const r=a&3?be(t,[t[0],a&2&&$e(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){s||(C(e.$$.fragment,n),s=!0)},o(n){S(e.$$.fragment,n),s=!1},d(n){X(e,n)}}}function tl(o,e,s){let{$$slots:t={},$$scope:l}=e;const n=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}],["circle",{cx:"12",cy:"12",r:"3"}]];return o.$$set=a=>{s(1,e=G(G({},e),x(a))),"$$scope"in a&&s(3,l=a.$$scope)},e=x(e),[n,e,t,l]}class nl extends ae{constructor(e){super(),re(this,e,tl,el,oe,{})}}function ll(o){let e;const s=o[2].default,t=he(s,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,n){t&&t.m(l,n),e=!0},p(l,n){t&&t.p&&(!e||n&8)&&ge(t,s,l,l[3],e?ve(s,l[3],n,null):_e(l[3]),null)},i(l){e||(C(t,l),e=!0)},o(l){S(t,l),e=!1},d(l){t&&t.d(l)}}}function sl(o){let e,s;const t=[{name:"image"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[ll]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)l=G(l,t[n]);return e=new ke({props:l}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,a){R(e,n,a),s=!0},p(n,[a]){const r=a&3?be(t,[t[0],a&2&&$e(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){s||(C(e.$$.fragment,n),s=!0)},o(n){S(e.$$.fragment,n),s=!1},d(n){X(e,n)}}}function ol(o,e,s){let{$$slots:t={},$$scope:l}=e;const n=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}],["circle",{cx:"9",cy:"9",r:"2"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"}]];return o.$$set=a=>{s(1,e=G(G({},e),x(a))),"$$scope"in a&&s(3,l=a.$$scope)},e=x(e),[n,e,t,l]}let al=class extends ae{constructor(e){super(),re(this,e,ol,sl,oe,{})}};function rl(o){let e;const s=o[2].default,t=he(s,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,n){t&&t.m(l,n),e=!0},p(l,n){t&&t.p&&(!e||n&8)&&ge(t,s,l,l[3],e?ve(s,l[3],n,null):_e(l[3]),null)},i(l){e||(C(t,l),e=!0)},o(l){S(t,l),e=!1},d(l){t&&t.d(l)}}}function il(o){let e,s;const t=[{name:"italic"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[rl]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)l=G(l,t[n]);return e=new ke({props:l}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,a){R(e,n,a),s=!0},p(n,[a]){const r=a&3?be(t,[t[0],a&2&&$e(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){s||(C(e.$$.fragment,n),s=!0)},o(n){S(e.$$.fragment,n),s=!1},d(n){X(e,n)}}}function fl(o,e,s){let{$$slots:t={},$$scope:l}=e;const n=[["line",{x1:"19",x2:"10",y1:"4",y2:"4"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20"}]];return o.$$set=a=>{s(1,e=G(G({},e),x(a))),"$$scope"in a&&s(3,l=a.$$scope)},e=x(e),[n,e,t,l]}class ul extends ae{constructor(e){super(),re(this,e,fl,il,oe,{})}}function cl(o){let e;const s=o[2].default,t=he(s,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,n){t&&t.m(l,n),e=!0},p(l,n){t&&t.p&&(!e||n&8)&&ge(t,s,l,l[3],e?ve(s,l[3],n,null):_e(l[3]),null)},i(l){e||(C(t,l),e=!0)},o(l){S(t,l),e=!1},d(l){t&&t.d(l)}}}function dl(o){let e,s;const t=[{name:"minus"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[cl]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)l=G(l,t[n]);return e=new ke({props:l}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,a){R(e,n,a),s=!0},p(n,[a]){const r=a&3?be(t,[t[0],a&2&&$e(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){s||(C(e.$$.fragment,n),s=!0)},o(n){S(e.$$.fragment,n),s=!1},d(n){X(e,n)}}}function ml(o,e,s){let{$$slots:t={},$$scope:l}=e;const n=[["path",{d:"M5 12h14"}]];return o.$$set=a=>{s(1,e=G(G({},e),x(a))),"$$scope"in a&&s(3,l=a.$$scope)},e=x(e),[n,e,t,l]}class pl extends ae{constructor(e){super(),re(this,e,ml,dl,oe,{})}}function hl(o){let e;const s=o[2].default,t=he(s,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,n){t&&t.m(l,n),e=!0},p(l,n){t&&t.p&&(!e||n&8)&&ge(t,s,l,l[3],e?ve(s,l[3],n,null):_e(l[3]),null)},i(l){e||(C(t,l),e=!0)},o(l){S(t,l),e=!1},d(l){t&&t.d(l)}}}function gl(o){let e,s;const t=[{name:"move-horizontal"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[hl]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)l=G(l,t[n]);return e=new ke({props:l}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,a){R(e,n,a),s=!0},p(n,[a]){const r=a&3?be(t,[t[0],a&2&&$e(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){s||(C(e.$$.fragment,n),s=!0)},o(n){S(e.$$.fragment,n),s=!1},d(n){X(e,n)}}}function _l(o,e,s){let{$$slots:t={},$$scope:l}=e;const n=[["path",{d:"m18 8 4 4-4 4"}],["path",{d:"M2 12h20"}],["path",{d:"m6 8-4 4 4 4"}]];return o.$$set=a=>{s(1,e=G(G({},e),x(a))),"$$scope"in a&&s(3,l=a.$$scope)},e=x(e),[n,e,t,l]}class vl extends ae{constructor(e){super(),re(this,e,_l,gl,oe,{})}}function bl(o){let e;const s=o[2].default,t=he(s,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,n){t&&t.m(l,n),e=!0},p(l,n){t&&t.p&&(!e||n&8)&&ge(t,s,l,l[3],e?ve(s,l[3],n,null):_e(l[3]),null)},i(l){e||(C(t,l),e=!0)},o(l){S(t,l),e=!1},d(l){t&&t.d(l)}}}function $l(o){let e,s;const t=[{name:"plus"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[bl]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)l=G(l,t[n]);return e=new ke({props:l}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,a){R(e,n,a),s=!0},p(n,[a]){const r=a&3?be(t,[t[0],a&2&&$e(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){s||(C(e.$$.fragment,n),s=!0)},o(n){S(e.$$.fragment,n),s=!1},d(n){X(e,n)}}}function kl(o,e,s){let{$$slots:t={},$$scope:l}=e;const n=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];return o.$$set=a=>{s(1,e=G(G({},e),x(a))),"$$scope"in a&&s(3,l=a.$$scope)},e=x(e),[n,e,t,l]}class wl extends ae{constructor(e){super(),re(this,e,kl,$l,oe,{})}}function El(o){let e;const s=o[2].default,t=he(s,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,n){t&&t.m(l,n),e=!0},p(l,n){t&&t.p&&(!e||n&8)&&ge(t,s,l,l[3],e?ve(s,l[3],n,null):_e(l[3]),null)},i(l){e||(C(t,l),e=!0)},o(l){S(t,l),e=!1},d(l){t&&t.d(l)}}}function Nl(o){let e,s;const t=[{name:"square-pen"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[El]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)l=G(l,t[n]);return e=new ke({props:l}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,a){R(e,n,a),s=!0},p(n,[a]){const r=a&3?be(t,[t[0],a&2&&$e(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){s||(C(e.$$.fragment,n),s=!0)},o(n){S(e.$$.fragment,n),s=!1},d(n){X(e,n)}}}function yl(o,e,s){let{$$slots:t={},$$scope:l}=e;const n=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"}]];return o.$$set=a=>{s(1,e=G(G({},e),x(a))),"$$scope"in a&&s(3,l=a.$$scope)},e=x(e),[n,e,t,l]}class Tl extends ae{constructor(e){super(),re(this,e,yl,Nl,oe,{})}}function Dl(o){let e;const s=o[2].default,t=he(s,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,n){t&&t.m(l,n),e=!0},p(l,n){t&&t.p&&(!e||n&8)&&ge(t,s,l,l[3],e?ve(s,l[3],n,null):_e(l[3]),null)},i(l){e||(C(t,l),e=!0)},o(l){S(t,l),e=!1},d(l){t&&t.d(l)}}}function Il(o){let e,s;const t=[{name:"type"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[Dl]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)l=G(l,t[n]);return e=new ke({props:l}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,a){R(e,n,a),s=!0},p(n,[a]){const r=a&3?be(t,[t[0],a&2&&$e(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){s||(C(e.$$.fragment,n),s=!0)},o(n){S(e.$$.fragment,n),s=!1},d(n){X(e,n)}}}function Cl(o,e,s){let{$$slots:t={},$$scope:l}=e;const n=[["polyline",{points:"4 7 4 4 20 4 20 7"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20"}]];return o.$$set=a=>{s(1,e=G(G({},e),x(a))),"$$scope"in a&&s(3,l=a.$$scope)},e=x(e),[n,e,t,l]}class zl extends ae{constructor(e){super(),re(this,e,Cl,Il,oe,{})}}function Sl(o){let e;const s=o[2].default,t=he(s,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,n){t&&t.m(l,n),e=!0},p(l,n){t&&t.p&&(!e||n&8)&&ge(t,s,l,l[3],e?ve(s,l[3],n,null):_e(l[3]),null)},i(l){e||(C(t,l),e=!0)},o(l){S(t,l),e=!1},d(l){t&&t.d(l)}}}function jl(o){let e,s;const t=[{name:"underline"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[Sl]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)l=G(l,t[n]);return e=new ke({props:l}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,a){R(e,n,a),s=!0},p(n,[a]){const r=a&3?be(t,[t[0],a&2&&$e(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){s||(C(e.$$.fragment,n),s=!0)},o(n){S(e.$$.fragment,n),s=!1},d(n){X(e,n)}}}function Al(o,e,s){let{$$slots:t={},$$scope:l}=e;const n=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20"}]];return o.$$set=a=>{s(1,e=G(G({},e),x(a))),"$$scope"in a&&s(3,l=a.$$scope)},e=x(e),[n,e,t,l]}class Ml extends ae{constructor(e){super(),re(this,e,Al,jl,oe,{})}}function Ol(o){let e;const s=o[2].default,t=he(s,o,o[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,n){t&&t.m(l,n),e=!0},p(l,n){t&&t.p&&(!e||n&8)&&ge(t,s,l,l[3],e?ve(s,l[3],n,null):_e(l[3]),null)},i(l){e||(C(t,l),e=!0)},o(l){S(t,l),e=!1},d(l){t&&t.d(l)}}}function Vl(o){let e,s;const t=[{name:"upload"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[Ol]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)l=G(l,t[n]);return e=new ke({props:l}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,a){R(e,n,a),s=!0},p(n,[a]){const r=a&3?be(t,[t[0],a&2&&$e(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){s||(C(e.$$.fragment,n),s=!0)},o(n){S(e.$$.fragment,n),s=!1},d(n){X(e,n)}}}function Ul(o,e,s){let{$$slots:t={},$$scope:l}=e;const n=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],["polyline",{points:"17 8 12 3 7 8"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15"}]];return o.$$set=a=>{s(1,e=G(G({},e),x(a))),"$$scope"in a&&s(3,l=a.$$scope)},e=x(e),[n,e,t,l]}class Bl extends ae{constructor(e){super(),re(this,e,Ul,Vl,oe,{})}}function Fl(){const{subscribe:o,set:e,update:s}=en({id:"",user_id:"",name:"",front_background:"",back_background:"",orientation:"landscape",template_elements:[],created_at:new Date().toISOString(),org_id:""});return{subscribe:o,set:e,update:s,select:t=>{e(t)},reset:()=>e({id:"",user_id:"",name:"",front_background:"",back_background:"",orientation:"landscape",template_elements:[],created_at:new Date().toISOString(),org_id:""})}}const rt=Fl();function Ll(o){let e,s,t,l,n="X",a,r,d,c,u,g="Y",k,h,m,v,z,j,$="W",w,A,N,y,b,O="H",U,B,Y,_;return{c(){e=D("div"),s=D("div"),t=D("label"),l=D("span"),l.textContent=n,a=L(),r=D("input"),d=L(),c=D("label"),u=D("span"),u.textContent=g,k=L(),h=D("input"),m=L(),v=D("div"),z=D("label"),j=D("span"),j.textContent=$,w=L(),A=D("input"),N=L(),y=D("label"),b=D("span"),b.textContent=O,U=L(),B=D("input"),this.h()},l(p){e=I(p,"DIV",{class:!0});var T=V(e);s=I(T,"DIV",{class:!0});var H=V(s);t=I(H,"LABEL",{class:!0});var K=V(t);l=I(K,"SPAN",{class:!0,"data-svelte-h":!0}),ie(l)!=="svelte-1v9swg2"&&(l.textContent=n),a=P(K),r=I(K,"INPUT",{type:!0,class:!0}),K.forEach(E),d=P(H),c=I(H,"LABEL",{class:!0});var Z=V(c);u=I(Z,"SPAN",{class:!0,"data-svelte-h":!0}),ie(u)!=="svelte-1hnuauz"&&(u.textContent=g),k=P(Z),h=I(Z,"INPUT",{type:!0,class:!0}),Z.forEach(E),H.forEach(E),m=P(T),v=I(T,"DIV",{class:!0});var ee=V(v);z=I(ee,"LABEL",{class:!0});var we=V(z);j=I(we,"SPAN",{class:!0,"data-svelte-h":!0}),ie(j)!=="svelte-5gv2t1"&&(j.textContent=$),w=P(we),A=I(we,"INPUT",{type:!0,class:!0}),we.forEach(E),N=P(ee),y=I(ee,"LABEL",{class:!0});var M=V(y);b=I(M,"SPAN",{class:!0,"data-svelte-h":!0}),ie(b)!=="svelte-uejiwi"&&(b.textContent=O),U=P(M),B=I(M,"INPUT",{type:!0,class:!0}),M.forEach(E),ee.forEach(E),T.forEach(E),this.h()},h(){i(l,"class","svelte-1xu16u1"),i(r,"type","number"),i(r,"class","svelte-1xu16u1"),i(t,"class","svelte-1xu16u1"),i(u,"class","svelte-1xu16u1"),i(h,"type","number"),i(h,"class","svelte-1xu16u1"),i(c,"class","svelte-1xu16u1"),i(s,"class","input-group position-group svelte-1xu16u1"),i(j,"class","svelte-1xu16u1"),i(A,"type","number"),i(A,"class","svelte-1xu16u1"),i(z,"class","svelte-1xu16u1"),i(b,"class","svelte-1xu16u1"),i(B,"type","number"),i(B,"class","svelte-1xu16u1"),i(y,"class","svelte-1xu16u1"),i(v,"class","input-group position-group svelte-1xu16u1"),i(e,"class","position-container svelte-1xu16u1")},m(p,T){Q(p,e,T),f(e,s),f(s,t),f(t,l),f(t,a),f(t,r),Te(r,o[0]),f(s,d),f(s,c),f(c,u),f(c,k),f(c,h),Te(h,o[1]),f(e,m),f(e,v),f(v,z),f(z,j),f(z,w),f(z,A),Te(A,o[2]),f(v,N),f(v,y),f(y,b),f(y,U),f(y,B),Te(B,o[3]),Y||(_=[J(r,"input",o[5]),J(r,"input",o[4]),J(h,"input",o[6]),J(h,"input",o[4]),J(A,"input",o[7]),J(A,"input",o[4]),J(B,"input",o[8]),J(B,"input",o[4])],Y=!0)},p(p,[T]){T&1&&Oe(r.value)!==p[0]&&Te(r,p[0]),T&2&&Oe(h.value)!==p[1]&&Te(h,p[1]),T&4&&Oe(A.value)!==p[2]&&Te(A,p[2]),T&8&&Oe(B.value)!==p[3]&&Te(B,p[3])},i:De,o:De,d(p){p&&E(e),Y=!1,Ue(_)}}}function Pl(o,e,s){let{x:t}=e,{y:l}=e,{width:n}=e,{height:a}=e;function r(){d("update",{x:t,y:l,width:n,height:a})}const d=Je();function c(){t=Oe(this.value),s(0,t)}function u(){l=Oe(this.value),s(1,l)}function g(){n=Oe(this.value),s(2,n)}function k(){a=Oe(this.value),s(3,a)}return o.$$set=h=>{"x"in h&&s(0,t=h.x),"y"in h&&s(1,l=h.y),"width"in h&&s(2,n=h.width),"height"in h&&s(3,a=h.height)},[t,l,n,a,r,c,u,g,k]}class Hl extends ae{constructor(e){super(),re(this,e,Pl,Ll,oe,{x:0,y:1,width:2,height:3})}}function Wl(o){let e,s;return e=new Zn({props:{size:18}}),{c(){W(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,l){R(e,t,l),s=!0},i(t){s||(C(e.$$.fragment,t),s=!0)},o(t){S(e.$$.fragment,t),s=!1},d(t){X(e,t)}}}function ql(o){let e,s;return e=new nl({props:{size:18}}),{c(){W(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,l){R(e,t,l),s=!0},i(t){s||(C(e.$$.fragment,t),s=!0)},o(t){S(e.$$.fragment,t),s=!1},d(t){X(e,t)}}}function Rl(o){let e,s,t,l,n,a,r,d,c,u,g,k,h,m,v,z,j,$,w,A,N;const y=[ql,Wl],b=[];function O(U,B){return U[2]?0:1}return m=O(o),v=b[m]=y[m](o),$=new pl({props:{size:18}}),{c(){e=D("div"),s=D("div"),t=D("div"),l=L(),n=D("input"),a=L(),r=D("input"),d=L(),c=D("span"),u=ze(o[1]),g=ze("%"),k=L(),h=D("button"),v.c(),z=L(),j=D("button"),W($.$$.fragment),this.h()},l(U){e=I(U,"DIV",{class:!0});var B=V(e);s=I(B,"DIV",{class:!0});var Y=V(s);t=I(Y,"DIV",{class:!0,style:!0}),V(t).forEach(E),l=P(Y),n=I(Y,"INPUT",{type:!0,class:!0}),Y.forEach(E),a=P(B),r=I(B,"INPUT",{type:!0,maxlength:!0,class:!0}),d=P(B),c=I(B,"SPAN",{class:!0});var _=V(c);u=Se(_,o[1]),g=Se(_,"%"),_.forEach(E),k=P(B),h=I(B,"BUTTON",{class:!0});var p=V(h);v.l(p),p.forEach(E),z=P(B),j=I(B,"BUTTON",{class:!0});var T=V(j);q($.$$.fragment,T),T.forEach(E),B.forEach(E),this.h()},h(){i(t,"class","color-preview svelte-1gqx1v5"),it(t,"background-color",o[0]),i(n,"type","color"),n.value=o[0],i(n,"class","color-picker svelte-1gqx1v5"),i(s,"class","color-preview-wrapper svelte-1gqx1v5"),i(r,"type","text"),i(r,"maxlength","7"),i(r,"class","svelte-1gqx1v5"),i(c,"class","opacity svelte-1gqx1v5"),i(h,"class","icon-button svelte-1gqx1v5"),i(j,"class","icon-button svelte-1gqx1v5"),i(e,"class","color-input svelte-1gqx1v5")},m(U,B){Q(U,e,B),f(e,s),f(s,t),f(s,l),f(s,n),f(e,a),f(e,r),Te(r,o[0]),f(e,d),f(e,c),f(c,u),f(c,g),f(e,k),f(e,h),b[m].m(h,null),f(e,z),f(e,j),R($,j,null),w=!0,A||(N=[J(n,"input",o[5]),J(r,"input",o[6]),J(r,"input",o[7]),J(h,"click",o[4])],A=!0)},p(U,[B]){(!w||B&1)&&it(t,"background-color",U[0]),(!w||B&1)&&(n.value=U[0]),B&1&&r.value!==U[0]&&Te(r,U[0]),(!w||B&2)&&Ve(u,U[1]);let Y=m;m=O(U),m!==Y&&(Ae(),S(b[Y],1,1,()=>{b[Y]=null}),Me(),v=b[m],v||(v=b[m]=y[m](U),v.c()),C(v,1),v.m(h,null))},i(U){w||(C(v),C($.$$.fragment,U),w=!0)},o(U){S(v),S($.$$.fragment,U),w=!1},d(U){U&&E(e),b[m].d(),X($),A=!1,Ue(N)}}}function Xl(o,e,s){let{color:t="#000000"}=e,{opacity:l=100}=e,{visible:n=!0}=e;const a=Je();function r(k){s(0,t=k),a("update",{color:t,opacity:l,visible:n})}function d(){s(2,n=!n),a("update",{color:t,opacity:l,visible:n})}function c(k){const h=k.target;h&&r(h.value)}function u(){t=this.value,s(0,t)}const g=()=>r(t);return o.$$set=k=>{"color"in k&&s(0,t=k.color),"opacity"in k&&s(1,l=k.opacity),"visible"in k&&s(2,n=k.visible)},[t,l,n,r,d,c,u,g]}class Gl extends ae{constructor(e){super(),re(this,e,Xl,Rl,oe,{color:0,opacity:1,visible:2})}}function Dt(o,e,s){const t=o.slice();return t[20]=e[s],t}function It(o,e,s){const t=o.slice();return t[23]=e[s],t}function Ct(o){let e,s=o[23]+"",t,l;return{c(){e=D("option"),t=ze(s),this.h()},l(n){e=I(n,"OPTION",{});var a=V(e);t=Se(a,s),a.forEach(E),this.h()},h(){e.__value=l=o[23],Te(e,e.__value)},m(n,a){Q(n,e,a),f(e,t)},p(n,a){a&2&&s!==(s=n[23]+"")&&Ve(t,s),a&2&&l!==(l=n[23])&&(e.__value=l,Te(e,e.__value))},d(n){n&&E(e)}}}function zt(o){let e,s=o[20]+"",t;return{c(){e=D("option"),t=ze(s),this.h()},l(l){e=I(l,"OPTION",{});var n=V(e);t=Se(n,s),n.forEach(E),this.h()},h(){e.__value=o[20],Te(e,e.__value)},m(l,n){Q(l,e,n),f(e,t)},p:De,d(l){l&&E(e)}}}function Yl(o){let e,s,t,l,n,a,r,d,c,u,g,k,h,m,v,z,j,$,w,A,N,y,b,O,U,B,Y,_,p,T,H,K,Z,ee,we,M,te,fe,de,Ie,le,ue,Ce,ce,me,Be,dt,pt,qe=je(o[1]),Ee=[];for(let F=0;F<qe.length;F+=1)Ee[F]=Ct(It(o,qe,F));let Re=je(o[2]),Ne=[];for(let F=0;F<Re.length;F+=1)Ne[F]=zt(Dt(o,Re,F));return g=new In({props:{size:18,color:o[0].alignment==="left"?"#ffffff":"#888888"}}),m=new $n({props:{size:18,color:o[0].alignment==="center"?"#ffffff":"#888888"}}),j=new jn({props:{size:18,color:o[0].alignment==="right"?"#ffffff":"#888888"}}),A=new Nn({props:{size:18,color:o[0].alignment==="justify"?"#ffffff":"#888888"}}),b=new Ln({props:{size:18,color:o[0].fontWeight==="bold"?"#ffffff":"#888888"}}),B=new ul({props:{size:18,color:o[0].fontStyle==="italic"?"#ffffff":"#888888"}}),p=new Ml({props:{size:18,color:o[0].textDecoration==="underline"?"#ffffff":"#888888"}}),Z=new vl({props:{size:18,color:"#888888"}}),M=new Vn({props:{size:18,color:"#888888"}}),de=new zl({props:{size:18,color:o[0].textTransform==="uppercase"?"#ffffff":"#888888"}}),ue=new tn({props:{size:18,color:"#888888"}}),me=new Gl({props:{color:o[0].color,opacity:o[0].opacity?o[0].opacity*100:100,visible:o[0].visible!==!1}}),me.$on("update",o[7]),{c(){e=D("div"),s=D("div"),t=D("select");for(let F=0;F<Ee.length;F+=1)Ee[F].c();l=L(),n=D("input"),a=L(),r=D("select");for(let F=0;F<Ne.length;F+=1)Ne[F].c();d=L(),c=D("div"),u=D("button"),W(g.$$.fragment),k=L(),h=D("button"),W(m.$$.fragment),v=L(),z=D("button"),W(j.$$.fragment),$=L(),w=D("button"),W(A.$$.fragment),N=L(),y=D("button"),W(b.$$.fragment),O=L(),U=D("button"),W(B.$$.fragment),Y=L(),_=D("button"),W(p.$$.fragment),T=L(),H=D("div"),K=D("button"),W(Z.$$.fragment),ee=L(),we=D("button"),W(M.$$.fragment),te=L(),fe=D("button"),W(de.$$.fragment),Ie=L(),le=D("button"),W(ue.$$.fragment),Ce=L(),ce=D("div"),W(me.$$.fragment),this.h()},l(F){e=I(F,"DIV",{class:!0});var ne=V(e);s=I(ne,"DIV",{class:!0});var pe=V(s);t=I(pe,"SELECT",{class:!0});var Ke=V(t);for(let He=0;He<Ee.length;He+=1)Ee[He].l(Ke);Ke.forEach(E),l=P(pe),n=I(pe,"INPUT",{type:!0,class:!0}),a=P(pe),r=I(pe,"SELECT",{class:!0});var Qe=V(r);for(let He=0;He<Ne.length;He+=1)Ne[He].l(Qe);Qe.forEach(E),pe.forEach(E),d=P(ne),c=I(ne,"DIV",{class:!0});var ye=V(c);u=I(ye,"BUTTON",{class:!0});var Ze=V(u);q(g.$$.fragment,Ze),Ze.forEach(E),k=P(ye),h=I(ye,"BUTTON",{class:!0});var xe=V(h);q(m.$$.fragment,xe),xe.forEach(E),v=P(ye),z=I(ye,"BUTTON",{class:!0});var et=V(z);q(j.$$.fragment,et),et.forEach(E),$=P(ye),w=I(ye,"BUTTON",{class:!0});var tt=V(w);q(A.$$.fragment,tt),tt.forEach(E),N=P(ye),y=I(ye,"BUTTON",{class:!0});var Pe=V(y);q(b.$$.fragment,Pe),Pe.forEach(E),O=P(ye),U=I(ye,"BUTTON",{class:!0});var se=V(U);q(B.$$.fragment,se),se.forEach(E),Y=P(ye),_=I(ye,"BUTTON",{class:!0});var Fe=V(_);q(p.$$.fragment,Fe),Fe.forEach(E),ye.forEach(E),T=P(ne),H=I(ne,"DIV",{class:!0});var Le=V(H);K=I(Le,"BUTTON",{class:!0});var ht=V(K);q(Z.$$.fragment,ht),ht.forEach(E),ee=P(Le),we=I(Le,"BUTTON",{class:!0});var gt=V(we);q(M.$$.fragment,gt),gt.forEach(E),te=P(Le),fe=I(Le,"BUTTON",{class:!0});var _t=V(fe);q(de.$$.fragment,_t),_t.forEach(E),Ie=P(Le),le=I(Le,"BUTTON",{class:!0});var vt=V(le);q(ue.$$.fragment,vt),vt.forEach(E),Le.forEach(E),Ce=P(ne),ce=I(ne,"DIV",{class:!0});var bt=V(ce);q(me.$$.fragment,bt),bt.forEach(E),ne.forEach(E),this.h()},h(){i(t,"class","svelte-1jpi4ea"),o[0].font===void 0&&ft(()=>o[8].call(t)),i(n,"type","number"),i(n,"class","svelte-1jpi4ea"),i(r,"class","svelte-1jpi4ea"),o[0].fontWeight===void 0&&ft(()=>o[12].call(r)),i(s,"class","settings-row svelte-1jpi4ea"),i(u,"class","icon-button svelte-1jpi4ea"),i(h,"class","icon-button svelte-1jpi4ea"),i(z,"class","icon-button svelte-1jpi4ea"),i(w,"class","icon-button svelte-1jpi4ea"),i(y,"class","icon-button svelte-1jpi4ea"),i(U,"class","icon-button svelte-1jpi4ea"),i(_,"class","icon-button svelte-1jpi4ea"),i(c,"class","settings-row svelte-1jpi4ea"),i(K,"class","icon-button svelte-1jpi4ea"),i(we,"class","icon-button svelte-1jpi4ea"),i(fe,"class","icon-button svelte-1jpi4ea"),i(le,"class","icon-button svelte-1jpi4ea"),i(H,"class","settings-row svelte-1jpi4ea"),i(ce,"class","settings-row svelte-1jpi4ea"),i(e,"class","font-settings svelte-1jpi4ea")},m(F,ne){Q(F,e,ne),f(e,s),f(s,t);for(let pe=0;pe<Ee.length;pe+=1)Ee[pe]&&Ee[pe].m(t,null);st(t,o[0].font,!0),f(s,l),f(s,n),Te(n,o[0].size),f(s,a),f(s,r);for(let pe=0;pe<Ne.length;pe+=1)Ne[pe]&&Ne[pe].m(r,null);st(r,o[0].fontWeight,!0),f(e,d),f(e,c),f(c,u),R(g,u,null),f(c,k),f(c,h),R(m,h,null),f(c,v),f(c,z),R(j,z,null),f(c,$),f(c,w),R(A,w,null),f(c,N),f(c,y),R(b,y,null),f(c,O),f(c,U),R(B,U,null),f(c,Y),f(c,_),R(p,_,null),f(e,T),f(e,H),f(H,K),R(Z,K,null),f(H,ee),f(H,we),R(M,we,null),f(H,te),f(H,fe),R(de,fe,null),f(H,Ie),f(H,le),R(ue,le,null),f(e,Ce),f(e,ce),R(me,ce,null),Be=!0,dt||(pt=[J(t,"change",o[8]),J(t,"change",o[9]),J(n,"input",o[10]),J(n,"input",o[11]),J(r,"change",o[12]),J(r,"change",o[13]),J(u,"click",o[14]),J(h,"click",o[15]),J(z,"click",o[16]),J(w,"click",o[17]),J(y,"click",o[4]),J(U,"click",o[5]),J(_,"click",o[6]),J(fe,"click",o[18])],dt=!0)},p(F,[ne]){if(ne&2){qe=je(F[1]);let se;for(se=0;se<qe.length;se+=1){const Fe=It(F,qe,se);Ee[se]?Ee[se].p(Fe,ne):(Ee[se]=Ct(Fe),Ee[se].c(),Ee[se].m(t,null))}for(;se<Ee.length;se+=1)Ee[se].d(1);Ee.length=qe.length}if(ne&3&&st(t,F[0].font),ne&3&&Oe(n.value)!==F[0].size&&Te(n,F[0].size),ne&4){Re=je(F[2]);let se;for(se=0;se<Re.length;se+=1){const Fe=Dt(F,Re,se);Ne[se]?Ne[se].p(Fe,ne):(Ne[se]=zt(Fe),Ne[se].c(),Ne[se].m(r,null))}for(;se<Ne.length;se+=1)Ne[se].d(1);Ne.length=Re.length}ne&3&&st(r,F[0].fontWeight);const pe={};ne&1&&(pe.color=F[0].alignment==="left"?"#ffffff":"#888888"),g.$set(pe);const Ke={};ne&1&&(Ke.color=F[0].alignment==="center"?"#ffffff":"#888888"),m.$set(Ke);const Qe={};ne&1&&(Qe.color=F[0].alignment==="right"?"#ffffff":"#888888"),j.$set(Qe);const ye={};ne&1&&(ye.color=F[0].alignment==="justify"?"#ffffff":"#888888"),A.$set(ye);const Ze={};ne&1&&(Ze.color=F[0].fontWeight==="bold"?"#ffffff":"#888888"),b.$set(Ze);const xe={};ne&1&&(xe.color=F[0].fontStyle==="italic"?"#ffffff":"#888888"),B.$set(xe);const et={};ne&1&&(et.color=F[0].textDecoration==="underline"?"#ffffff":"#888888"),p.$set(et);const tt={};ne&1&&(tt.color=F[0].textTransform==="uppercase"?"#ffffff":"#888888"),de.$set(tt);const Pe={};ne&1&&(Pe.color=F[0].color),ne&1&&(Pe.opacity=F[0].opacity?F[0].opacity*100:100),ne&1&&(Pe.visible=F[0].visible!==!1),me.$set(Pe)},i(F){Be||(C(g.$$.fragment,F),C(m.$$.fragment,F),C(j.$$.fragment,F),C(A.$$.fragment,F),C(b.$$.fragment,F),C(B.$$.fragment,F),C(p.$$.fragment,F),C(Z.$$.fragment,F),C(M.$$.fragment,F),C(de.$$.fragment,F),C(ue.$$.fragment,F),C(me.$$.fragment,F),Be=!0)},o(F){S(g.$$.fragment,F),S(m.$$.fragment,F),S(j.$$.fragment,F),S(A.$$.fragment,F),S(b.$$.fragment,F),S(B.$$.fragment,F),S(p.$$.fragment,F),S(Z.$$.fragment,F),S(M.$$.fragment,F),S(de.$$.fragment,F),S(ue.$$.fragment,F),S(me.$$.fragment,F),Be=!1},d(F){F&&E(e),lt(Ee,F),lt(Ne,F),X(g),X(m),X(j),X(A),X(b),X(B),X(p),X(Z),X(M),X(de),X(ue),X(me),dt=!1,Ue(pt)}}}function Jl(o,e,s){let{element:t}=e,{fontOptions:l}=e;const n=Je(),a=["normal","bold","100","200","300","400","500","600","700","800","900"];function r(b){n("update",{...t,...b})}function d(){const b=t.fontWeight==="bold"?"normal":"bold";r({fontWeight:b})}function c(){const b=t.fontStyle==="italic"?"normal":"italic";r({fontStyle:b})}function u(){const b=t.textDecoration==="underline"?"none":"underline";r({textDecoration:b})}function g(b){const{color:O,opacity:U,visible:B}=b.detail;r({color:O,opacity:U/100,visible:B})}function k(){t.font=$t(this),s(0,t),s(1,l)}const h=()=>r({font:t.font});function m(){t.size=Oe(this.value),s(0,t),s(1,l)}const v=()=>r({size:t.size});function z(){t.fontWeight=$t(this),s(0,t),s(1,l)}const j=()=>r({fontWeight:t.fontWeight}),$=()=>r({alignment:"left"}),w=()=>r({alignment:"center"}),A=()=>r({alignment:"right"}),N=()=>r({alignment:"justify"}),y=()=>r({textTransform:t.textTransform==="uppercase"?"none":"uppercase"});return o.$$set=b=>{"element"in b&&s(0,t=b.element),"fontOptions"in b&&s(1,l=b.fontOptions)},[t,l,a,r,d,c,u,g,k,h,m,v,z,j,$,w,A,N,y]}class Qt extends ae{constructor(e){super(),re(this,e,Jl,Yl,oe,{element:0,fontOptions:1})}}function St(o,e,s){const t=o.slice();return t[26]=e[s],t[27]=e,t[28]=s,t}function jt(o,e,s){const t=o.slice();return t[29]=e[s],t}function Kl(o){let e,s;return e=new nn({props:{size:16}}),{c(){W(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,l){R(e,t,l),s=!0},i(t){s||(C(e.$$.fragment,t),s=!0)},o(t){S(e.$$.fragment,t),s=!1},d(t){X(e,t)}}}function Ql(o){let e,s;return e=new qn({props:{size:16}}),{c(){W(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,l){R(e,t,l),s=!0},i(t){s||(C(e.$$.fragment,t),s=!0)},o(t){S(e.$$.fragment,t),s=!1},d(t){X(e,t)}}}function At(o){let e,s,t,l="Variable Name",n,a,r,d,c,u,g,k,h,m;function v(y){o[12](y,o[26])}function z(){return o[13](o[28],o[26])}let j={id:"variable-name-"+o[28]};o[26].variableName!==void 0&&(j.value=o[26].variableName),a=new Kt({props:j}),We.push(()=>Ye(a,"value",v)),a.$on("input",z);const $=[xl,Zl],w=[];function A(y,b){return y[26].type==="text"?0:y[26].type==="selection"?1:-1}~(c=A(o))&&(u=w[c]=$[c](o));function N(...y){return o[20](o[28],...y)}return k=new Hl({props:{x:o[26].x,y:o[26].y,width:o[26].width,height:o[26].height}}),k.$on("update",N),{c(){e=D("div"),s=D("div"),t=D("label"),t.textContent=l,n=L(),W(a.$$.fragment),d=L(),u&&u.c(),g=L(),W(k.$$.fragment),this.h()},l(y){e=I(y,"DIV",{class:!0});var b=V(e);s=I(b,"DIV",{class:!0});var O=V(s);t=I(O,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ie(t)!=="svelte-cf0lhb"&&(t.textContent=l),n=P(O),q(a.$$.fragment,O),O.forEach(E),d=P(b),u&&u.l(b),g=P(b),q(k.$$.fragment,b),b.forEach(E),this.h()},h(){i(t,"for","variable-name-"+o[28]),i(t,"class","svelte-1nfhjcz"),i(s,"class","input-group svelte-1nfhjcz"),i(e,"class","element-inputs svelte-1nfhjcz")},m(y,b){Q(y,e,b),f(e,s),f(s,t),f(s,n),R(a,s,null),f(e,d),~c&&w[c].m(e,null),f(e,g),R(k,e,null),m=!0},p(y,b){o=y;const O={};!r&&b[0]&1&&(r=!0,O.value=o[26].variableName,Ge(()=>r=!1)),a.$set(O);let U=c;c=A(o),c===U?~c&&w[c].p(o,b):(u&&(Ae(),S(w[U],1,1,()=>{w[U]=null}),Me()),~c?(u=w[c],u?u.p(o,b):(u=w[c]=$[c](o),u.c()),C(u,1),u.m(e,g)):u=null);const B={};b[0]&1&&(B.x=o[26].x),b[0]&1&&(B.y=o[26].y),b[0]&1&&(B.width=o[26].width),b[0]&1&&(B.height=o[26].height),k.$set(B)},i(y){m||(C(a.$$.fragment,y),C(u),C(k.$$.fragment,y),y&&ft(()=>{m&&(h||(h=ct(e,Nt,{duration:200},!0)),h.run(1))}),m=!0)},o(y){S(a.$$.fragment,y),S(u),S(k.$$.fragment,y),y&&(h||(h=ct(e,Nt,{duration:200},!1)),h.run(0)),m=!1},d(y){y&&E(e),X(a),~c&&w[c].d(),X(k),y&&h&&h.end()}}}function Zl(o){let e,s,t="Options",l,n,a,r,d,c="Edit Options (one per line)",u,g,k,h,m,v,z,j;function $(...N){return o[17](o[28],...N)}n=new ln({props:{selected:Vt(o[26]),onSelectedChange:$,$$slots:{default:[ls]},$$scope:{ctx:o}}});function w(...N){return o[18](o[28],...N)}function A(...N){return o[19](o[28],...N)}return m=new Qt({props:{element:o[26],fontOptions:o[1]}}),m.$on("update",A),{c(){e=D("div"),s=D("label"),s.textContent=t,l=L(),W(n.$$.fragment),a=L(),r=D("div"),d=D("label"),d.textContent=c,u=L(),g=D("textarea"),h=L(),W(m.$$.fragment),this.h()},l(N){e=I(N,"DIV",{class:!0});var y=V(e);s=I(y,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ie(s)!=="svelte-hl3ii6"&&(s.textContent=t),l=P(y),q(n.$$.fragment,y),y.forEach(E),a=P(N),r=I(N,"DIV",{class:!0});var b=V(r);d=I(b,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ie(d)!=="svelte-lhfsq2"&&(d.textContent=c),u=P(b),g=I(b,"TEXTAREA",{id:!0,class:!0,rows:!0}),V(g).forEach(E),b.forEach(E),h=P(N),q(m.$$.fragment,N),this.h()},h(){i(s,"for","select-"+o[28]),i(s,"class","svelte-1nfhjcz"),i(e,"class","input-group svelte-1nfhjcz"),i(d,"for","options-"+o[28]),i(d,"class","svelte-1nfhjcz"),i(g,"id","options-"+o[28]),i(g,"class","options-textarea svelte-1nfhjcz"),g.value=k=Ut(o[26].options),i(g,"rows","4"),i(r,"class","input-group svelte-1nfhjcz")},m(N,y){Q(N,e,y),f(e,s),f(e,l),R(n,e,null),Q(N,a,y),Q(N,r,y),f(r,d),f(r,u),f(r,g),Q(N,h,y),R(m,N,y),v=!0,z||(j=J(g,"input",w),z=!0)},p(N,y){o=N;const b={};y[0]&1&&(b.selected=Vt(o[26])),y[0]&1|y[1]&2&&(b.$$scope={dirty:y,ctx:o}),n.$set(b),(!v||y[0]&1&&k!==(k=Ut(o[26].options)))&&(g.value=k);const O={};y[0]&1&&(O.element=o[26]),y[0]&2&&(O.fontOptions=o[1]),m.$set(O)},i(N){v||(C(n.$$.fragment,N),C(m.$$.fragment,N),v=!0)},o(N){S(n.$$.fragment,N),S(m.$$.fragment,N),v=!1},d(N){N&&(E(e),E(a),E(r),E(h)),X(n),X(m,N),z=!1,j()}}}function xl(o){let e,s,t="Text",l,n,a,r,d,c;function u(m){o[14](m,o[26])}function g(){return o[15](o[28],o[26])}let k={id:"text-content-"+o[28]};o[26].content!==void 0&&(k.value=o[26].content),n=new Kt({props:k}),We.push(()=>Ye(n,"value",u)),n.$on("input",g);function h(...m){return o[16](o[28],...m)}return d=new Qt({props:{element:o[26],fontOptions:o[1]}}),d.$on("update",h),{c(){e=D("div"),s=D("label"),s.textContent=t,l=L(),W(n.$$.fragment),r=L(),W(d.$$.fragment),this.h()},l(m){e=I(m,"DIV",{class:!0});var v=V(e);s=I(v,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ie(s)!=="svelte-6wmv7c"&&(s.textContent=t),l=P(v),q(n.$$.fragment,v),v.forEach(E),r=P(m),q(d.$$.fragment,m),this.h()},h(){i(s,"for","text-content-"+o[28]),i(s,"class","svelte-1nfhjcz"),i(e,"class","input-group svelte-1nfhjcz")},m(m,v){Q(m,e,v),f(e,s),f(e,l),R(n,e,null),Q(m,r,v),R(d,m,v),c=!0},p(m,v){o=m;const z={};!a&&v[0]&1&&(a=!0,z.value=o[26].content,Ge(()=>a=!1)),n.$set(z);const j={};v[0]&1&&(j.element=o[26]),v[0]&2&&(j.fontOptions=o[1]),d.$set(j)},i(m){c||(C(n.$$.fragment,m),C(d.$$.fragment,m),c=!0)},o(m){S(n.$$.fragment,m),S(d.$$.fragment,m),c=!1},d(m){m&&(E(e),E(r)),X(n),X(d,m)}}}function es(o){let e,s;return e=new an({props:{placeholder:"Select option"}}),{c(){W(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,l){R(e,t,l),s=!0},p:De,i(t){s||(C(e.$$.fragment,t),s=!0)},o(t){S(e.$$.fragment,t),s=!1},d(t){X(e,t)}}}function ts(o){let e=o[29]+"",s,t;return{c(){s=ze(e),t=L()},l(l){s=Se(l,e),t=P(l)},m(l,n){Q(l,s,n),Q(l,t,n)},p(l,n){n[0]&1&&e!==(e=l[29]+"")&&Ve(s,e)},d(l){l&&(E(s),E(t))}}}function Mt(o){let e,s;return e=new rn({props:{value:o[29],label:o[29],$$slots:{default:[ts]},$$scope:{ctx:o}}}),{c(){W(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,l){R(e,t,l),s=!0},p(t,l){const n={};l[0]&1&&(n.value=t[29]),l[0]&1&&(n.label=t[29]),l[0]&1|l[1]&2&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){s||(C(e.$$.fragment,t),s=!0)},o(t){S(e.$$.fragment,t),s=!1},d(t){X(e,t)}}}function ns(o){let e,s,t=je(o[26].options||[]),l=[];for(let a=0;a<t.length;a+=1)l[a]=Mt(jt(o,t,a));const n=a=>S(l[a],1,1,()=>{l[a]=null});return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=ut()},l(a){for(let r=0;r<l.length;r+=1)l[r].l(a);e=ut()},m(a,r){for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(a,r);Q(a,e,r),s=!0},p(a,r){if(r[0]&1){t=je(a[26].options||[]);let d;for(d=0;d<t.length;d+=1){const c=jt(a,t,d);l[d]?(l[d].p(c,r),C(l[d],1)):(l[d]=Mt(c),l[d].c(),C(l[d],1),l[d].m(e.parentNode,e))}for(Ae(),d=t.length;d<l.length;d+=1)n(d);Me()}},i(a){if(!s){for(let r=0;r<t.length;r+=1)C(l[r]);s=!0}},o(a){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)S(l[r]);s=!1},d(a){a&&E(e),lt(l,a)}}}function ls(o){let e,s,t,l;return e=new sn({props:{id:"select-"+o[28],$$slots:{default:[es]},$$scope:{ctx:o}}}),t=new on({props:{$$slots:{default:[ns]},$$scope:{ctx:o}}}),{c(){W(e.$$.fragment),s=L(),W(t.$$.fragment)},l(n){q(e.$$.fragment,n),s=P(n),q(t.$$.fragment,n)},m(n,a){R(e,n,a),Q(n,s,a),R(t,n,a),l=!0},p(n,a){const r={};a[1]&2&&(r.$$scope={dirty:a,ctx:n}),e.$set(r);const d={};a[0]&1|a[1]&2&&(d.$$scope={dirty:a,ctx:n}),t.$set(d)},i(n){l||(C(e.$$.fragment,n),C(t.$$.fragment,n),l=!0)},o(n){S(e.$$.fragment,n),S(t.$$.fragment,n),l=!1},d(n){n&&E(s),X(e,n),X(t,n)}}}function Ot(o){let e,s,t,l,n,a,r,d,c=o[26].type.charAt(0).toUpperCase()+o[26].type.slice(1)+"",u,g,k,h=o[26].variableName+"",m,v,z,j="×",$,w,A,N;const y=[Ql,Kl],b=[];function O(p,T){return p[2]===p[28]?0:1}n=O(o),a=b[n]=y[n](o);function U(){return o[9](o[28])}function B(){return o[10](o[28])}function Y(...p){return o[11](o[28],...p)}let _=o[2]===o[28]&&At(o);return{c(){e=D("div"),s=D("div"),t=D("div"),l=D("span"),a.c(),r=L(),d=D("span"),u=ze(c),g=L(),k=D("span"),m=ze(h),v=L(),z=D("button"),z.textContent=j,$=L(),_&&_.c(),this.h()},l(p){e=I(p,"DIV",{class:!0});var T=V(e);s=I(T,"DIV",{class:!0,role:!0,tabindex:!0});var H=V(s);t=I(H,"DIV",{class:!0});var K=V(t);l=I(K,"SPAN",{class:!0});var Z=V(l);a.l(Z),Z.forEach(E),r=P(K),d=I(K,"SPAN",{class:!0});var ee=V(d);u=Se(ee,c),ee.forEach(E),g=P(K),k=I(K,"SPAN",{class:!0});var we=V(k);m=Se(we,h),we.forEach(E),K.forEach(E),v=P(H),z=I(H,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(z)!=="svelte-1n0i2hj"&&(z.textContent=j),H.forEach(E),$=P(T),_&&_.l(T),T.forEach(E),this.h()},h(){i(l,"class","chevron svelte-1nfhjcz"),i(d,"class","element-type svelte-1nfhjcz"),i(k,"class","element-name svelte-1nfhjcz"),i(t,"class","header-content svelte-1nfhjcz"),i(z,"class","remove-element svelte-1nfhjcz"),i(s,"class","element-header svelte-1nfhjcz"),i(s,"role","button"),i(s,"tabindex","0"),i(e,"class","element-item svelte-1nfhjcz")},m(p,T){Q(p,e,T),f(e,s),f(s,t),f(t,l),b[n].m(l,null),f(t,r),f(t,d),f(d,u),f(t,g),f(t,k),f(k,m),f(s,v),f(s,z),f(e,$),_&&_.m(e,null),w=!0,A||(N=[J(z,"click",nt(U)),J(s,"click",B),J(s,"keydown",Y)],A=!0)},p(p,T){o=p;let H=n;n=O(o),n!==H&&(Ae(),S(b[H],1,1,()=>{b[H]=null}),Me(),a=b[n],a||(a=b[n]=y[n](o),a.c()),C(a,1),a.m(l,null)),(!w||T[0]&1)&&c!==(c=o[26].type.charAt(0).toUpperCase()+o[26].type.slice(1)+"")&&Ve(u,c),(!w||T[0]&1)&&h!==(h=o[26].variableName+"")&&Ve(m,h),o[2]===o[28]?_?(_.p(o,T),T[0]&4&&C(_,1)):(_=At(o),_.c(),C(_,1),_.m(e,null)):_&&(Ae(),S(_,1,1,()=>{_=null}),Me())},i(p){w||(C(a),C(_),w=!0)},o(p){S(a),S(_),w=!1},d(p){p&&E(e),b[n].d(),_&&_.d(),A=!1,Ue(N)}}}function ss(o){let e,s,t,l,n="Add Text",a,r,d="Add Photo",c,u,g="Add Signature",k,h,m="Add Selection",v,z,j,$=je(o[0]),w=[];for(let N=0;N<$.length;N+=1)w[N]=Ot(St(o,$,N));const A=N=>S(w[N],1,1,()=>{w[N]=null});return{c(){e=D("div");for(let N=0;N<w.length;N+=1)w[N].c();s=L(),t=D("div"),l=D("button"),l.textContent=n,a=L(),r=D("button"),r.textContent=d,c=L(),u=D("button"),u.textContent=g,k=L(),h=D("button"),h.textContent=m,this.h()},l(N){e=I(N,"DIV",{class:!0});var y=V(e);for(let O=0;O<w.length;O+=1)w[O].l(y);s=P(y),t=I(y,"DIV",{class:!0});var b=V(t);l=I(b,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(l)!=="svelte-h9l97v"&&(l.textContent=n),a=P(b),r=I(b,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(r)!=="svelte-5vusuf"&&(r.textContent=d),c=P(b),u=I(b,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(u)!=="svelte-6em3f3"&&(u.textContent=g),k=P(b),h=I(b,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(h)!=="svelte-1uazowf"&&(h.textContent=m),b.forEach(E),y.forEach(E),this.h()},h(){i(l,"class","svelte-1nfhjcz"),i(r,"class","svelte-1nfhjcz"),i(u,"class","svelte-1nfhjcz"),i(h,"class","svelte-1nfhjcz"),i(t,"class","add-elements svelte-1nfhjcz"),i(e,"class","element-list svelte-1nfhjcz")},m(N,y){Q(N,e,y);for(let b=0;b<w.length;b+=1)w[b]&&w[b].m(e,null);f(e,s),f(e,t),f(t,l),f(t,a),f(t,r),f(t,c),f(t,u),f(t,k),f(t,h),v=!0,z||(j=[J(l,"click",o[21]),J(r,"click",o[22]),J(u,"click",o[23]),J(h,"click",o[24])],z=!0)},p(N,y){if(y[0]&223){$=je(N[0]);let b;for(b=0;b<$.length;b+=1){const O=St(N,$,b);w[b]?(w[b].p(O,y),C(w[b],1)):(w[b]=Ot(O),w[b].c(),C(w[b],1),w[b].m(e,s))}for(Ae(),b=$.length;b<w.length;b+=1)A(b);Me()}},i(N){if(!v){for(let y=0;y<$.length;y+=1)C(w[y]);v=!0}},o(N){w=w.filter(Boolean);for(let y=0;y<w.length;y+=1)S(w[y]);v=!1},d(N){N&&E(e),lt(w,N),z=!1,Ue(j)}}}function os(o){return typeof o=="string"}function Vt(o){return o.content?{value:o.content,label:o.content}:{value:"",label:"Select option"}}function Ut(o){return(o==null?void 0:o.join(`
`))||""}function as(o,e,s){let{elements:t}=e,{fontOptions:l}=e,{side:n}=e;const a=Je();function r(p,T){s(0,t[p]={...t[p],...T},t),a("update",{elements:t})}function d(p){s(0,t=t.filter((T,H)=>H!==p)),a("update",{elements:t})}function c(p){const T={id:`new_${p}_${Date.now()}`,variableName:`new_${p}_${Date.now()}`,type:p,x:10,y:10,width:100,height:100,side:n,...p==="text"?{content:"New Text",fontFamily:"Arial",fontSize:16,color:"#ffffff",textAlign:"left"}:p==="selection"?{options:["Option 1","Option 2","Option 3"],fontFamily:"Arial",fontSize:16,color:"#ffffff",textAlign:"left"}:{}};s(0,t=[...t,T]),a("update",{elements:t})}function u(p,T){const K=p.target.value.split(`
`).map(Z=>Z.trim()).filter(Z=>Z.length>0);r(T,{options:K})}let g=null;function k(p){s(2,g=g===p?null:p)}const h=p=>d(p),m=p=>k(p),v=(p,T)=>{(T.key==="Enter"||T.key===" ")&&(T.preventDefault(),k(p))};function z(p,T){o.$$.not_equal(T.variableName,p)&&(T.variableName=p,s(0,t))}const j=(p,T)=>r(p,{variableName:T.variableName});function $(p,T){o.$$.not_equal(T.content,p)&&(T.content=p,s(0,t))}const w=(p,T)=>r(p,{content:T.content}),A=(p,T)=>r(p,T.detail),N=(p,T)=>{T&&os(T.value)&&r(p,{content:T.value})},y=(p,T)=>u(T,p),b=(p,T)=>r(p,T.detail),O=(p,{detail:T})=>r(p,T),U=()=>c("text"),B=()=>c("photo"),Y=()=>c("signature"),_=()=>c("selection");return o.$$set=p=>{"elements"in p&&s(0,t=p.elements),"fontOptions"in p&&s(1,l=p.fontOptions),"side"in p&&s(8,n=p.side)},[t,l,g,r,d,c,u,k,n,h,m,v,z,j,$,w,A,N,y,b,O,U,B,Y,_]}class rs extends ae{constructor(e){super(),re(this,e,as,ss,oe,{elements:0,fontOptions:1,side:8},null,[-1,-1])}}function Bt(o,e,s){const t=o.slice();return t[34]=e[s],t[36]=s,t}function is(o){let e,s,t,l=je(o[0]),n=[];for(let a=0;a<l.length;a+=1)n[a]=Ft(Bt(o,l,a));return s=new at({props:{variant:"destructive",size:"icon",class:"remove-image",$$slots:{default:[ms]},$$scope:{ctx:o}}}),s.$on("click",o[8]),{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=L(),W(s.$$.fragment)},l(a){for(let r=0;r<n.length;r+=1)n[r].l(a);e=P(a),q(s.$$.fragment,a)},m(a,r){for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(a,r);Q(a,e,r),R(s,a,r),t=!0},p(a,r){if(r[0]&609){l=je(a[0]);let c;for(c=0;c<l.length;c+=1){const u=Bt(a,l,c);n[c]?n[c].p(u,r):(n[c]=Ft(u),n[c].c(),n[c].m(e.parentNode,e))}for(;c<n.length;c+=1)n[c].d(1);n.length=l.length}const d={};r[1]&64&&(d.$$scope={dirty:r,ctx:a}),s.$set(d)},i(a){t||(C(s.$$.fragment,a),t=!0)},o(a){S(s.$$.fragment,a),t=!1},d(a){a&&E(e),lt(n,a),X(s,a)}}}function fs(o){let e,s,t,l,n,a,r,d,c="Add Template Background",u,g,k="Recommended size: 1013x638 pixels",h,m,v,z,j,$,w,A,N,y,b,O;return l=new al({props:{class:"w-8 h-8 mb-2 text-muted-foreground/40"}}),a=new wl({props:{class:"w-4 h-4 text-primary absolute -right-1 -bottom-1"}}),$=new Bl({props:{class:"w-4 h-4 mr-2"}}),{c(){e=D("div"),s=D("div"),t=D("div"),W(l.$$.fragment),n=L(),W(a.$$.fragment),r=L(),d=D("h3"),d.textContent=c,u=L(),g=D("p"),g.textContent=k,h=L(),m=D("label"),v=D("input"),z=L(),j=D("span"),W($.$$.fragment),w=ze(`
                                    Choose File`),A=L(),N=D("div"),this.h()},l(U){e=I(U,"DIV",{class:!0});var B=V(e);s=I(B,"DIV",{class:!0});var Y=V(s);t=I(Y,"DIV",{class:!0});var _=V(t);q(l.$$.fragment,_),n=P(_),q(a.$$.fragment,_),_.forEach(E),r=P(Y),d=I(Y,"H3",{class:!0,"data-svelte-h":!0}),ie(d)!=="svelte-1odu6oj"&&(d.textContent=c),u=P(Y),g=I(Y,"P",{class:!0,"data-svelte-h":!0}),ie(g)!=="svelte-1poenk3"&&(g.textContent=k),h=P(Y),m=I(Y,"LABEL",{class:!0});var p=V(m);v=I(p,"INPUT",{type:!0,accept:!0,class:!0}),z=P(p),j=I(p,"SPAN",{class:!0});var T=V(j);q($.$$.fragment,T),w=Se(T,`
                                    Choose File`),T.forEach(E),p.forEach(E),Y.forEach(E),A=P(B),N=I(B,"DIV",{class:!0}),V(N).forEach(E),B.forEach(E),this.h()},h(){i(t,"class","icon-container svelte-l6fbf7"),i(d,"class","text-lg font-medium text-foreground/80 mb-1"),i(g,"class","text-sm text-muted-foreground mb-4"),i(v,"type","file"),i(v,"accept","image/*"),i(v,"class","svelte-l6fbf7"),i(j,"class","upload-text svelte-l6fbf7"),i(m,"class","upload-button svelte-l6fbf7"),i(s,"class","placeholder-content svelte-l6fbf7"),i(N,"class","placeholder-grid svelte-l6fbf7"),i(e,"class","placeholder-design svelte-l6fbf7")},m(U,B){Q(U,e,B),f(e,s),f(s,t),R(l,t,null),f(t,n),R(a,t,null),f(s,r),f(s,d),f(s,u),f(s,g),f(s,h),f(s,m),f(m,v),f(m,z),f(m,j),R($,j,null),f(j,w),f(e,A),f(e,N),y=!0,b||(O=J(v,"change",o[7]),b=!0)},p:De,i(U){y||(C(l.$$.fragment,U),C(a.$$.fragment,U),C($.$$.fragment,U),y=!0)},o(U){S(l.$$.fragment,U),S(a.$$.fragment,U),S($.$$.fragment,U),y=!1},d(U){U&&E(e),X(l),X(a),X($),b=!1,O()}}}function us(o){let e,s='<span class="svelte-l6fbf7">Signature Area</span>';return{c(){e=D("div"),e.innerHTML=s,this.h()},l(t){e=I(t,"DIV",{class:!0,"data-svelte-h":!0}),ie(e)!=="svelte-1971piw"&&(e.innerHTML=s),this.h()},h(){i(e,"class","placeholder signature-placeholder svelte-l6fbf7")},m(t,l){Q(t,e,l)},p:De,d(t){t&&E(e)}}}function cs(o){let e,s='<span class="svelte-l6fbf7">Photo Area</span>';return{c(){e=D("div"),e.innerHTML=s,this.h()},l(t){e=I(t,"DIV",{class:!0,"data-svelte-h":!0}),ie(e)!=="svelte-ebwc1s"&&(e.innerHTML=s),this.h()},h(){i(e,"class","placeholder photo-placeholder svelte-l6fbf7")},m(t,l){Q(t,e,l)},p:De,d(t){t&&E(e)}}}function ds(o){var n;let e,s=(o[34].type==="selection"?o[34].content||((n=o[34].options)==null?void 0:n[0])||"Select option":o[34].content)+"",t,l;return{c(){e=D("span"),t=ze(s),this.h()},l(a){e=I(a,"SPAN",{style:!0,class:!0});var r=V(e);t=Se(r,s),r.forEach(E),this.h()},h(){i(e,"style",l=Object.entries(o[5](o[34])).map(Pt).join(";")),i(e,"class","svelte-l6fbf7")},m(a,r){Q(a,e,r),f(e,t)},p(a,r){var d;r[0]&1&&s!==(s=(a[34].type==="selection"?a[34].content||((d=a[34].options)==null?void 0:d[0])||"Select option":a[34].content)+"")&&Ve(t,s),r[0]&33&&l!==(l=Object.entries(a[5](a[34])).map(Pt).join(";"))&&i(e,"style",l)},d(a){a&&E(e)}}}function Ft(o){let e,s,t,l,n,a,r,d,c,u,g,k,h,m,v;function z(O,U){if(O[34].type==="text"||O[34].type==="selection")return ds;if(O[34].type==="photo")return cs;if(O[34].type==="signature")return us}let j=z(o),$=j&&j(o);function w(...O){return o[14](o[36],...O)}function A(...O){return o[15](o[36],...O)}function N(...O){return o[16](o[36],...O)}function y(...O){return o[17](o[36],...O)}function b(...O){return o[18](o[36],...O)}return{c(){e=D("div"),$&&$.c(),s=L(),t=D("div"),l=D("div"),n=L(),a=D("div"),r=L(),d=D("div"),c=L(),u=D("div"),this.h()},l(O){e=I(O,"DIV",{class:!0,style:!0,role:!0,tabindex:!0,"aria-label":!0});var U=V(e);$&&$.l(U),s=P(U),t=I(U,"DIV",{class:!0});var B=V(t);l=I(B,"DIV",{class:!0,role:!0,tabindex:!0,"aria-label":!0}),V(l).forEach(E),n=P(B),a=I(B,"DIV",{class:!0,role:!0,tabindex:!0,"aria-label":!0}),V(a).forEach(E),r=P(B),d=I(B,"DIV",{class:!0,role:!0,tabindex:!0,"aria-label":!0}),V(d).forEach(E),c=P(B),u=I(B,"DIV",{class:!0,role:!0,tabindex:!0,"aria-label":!0}),V(u).forEach(E),B.forEach(E),U.forEach(E),this.h()},h(){i(l,"class","resize-handle top-left svelte-l6fbf7"),i(l,"role","button"),i(l,"tabindex","0"),i(l,"aria-label","Resize top left"),i(a,"class","resize-handle top-right svelte-l6fbf7"),i(a,"role","button"),i(a,"tabindex","0"),i(a,"aria-label","Resize top right"),i(d,"class","resize-handle bottom-left svelte-l6fbf7"),i(d,"role","button"),i(d,"tabindex","0"),i(d,"aria-label","Resize bottom left"),i(u,"class","resize-handle bottom-right svelte-l6fbf7"),i(u,"role","button"),i(u,"tabindex","0"),i(u,"aria-label","Resize bottom right"),i(t,"class","resize-handles"),i(e,"class",g="template-element "+o[34].type+" svelte-l6fbf7"),i(e,"style",k=Object.entries(o[6](o[34])).map(Ht).join(";")),i(e,"role","button"),i(e,"tabindex","0"),i(e,"aria-label",h=o[34].type+" element")},m(O,U){Q(O,e,U),$&&$.m(e,null),f(e,s),f(e,t),f(t,l),f(t,n),f(t,a),f(t,r),f(t,d),f(t,c),f(t,u),m||(v=[J(l,"mousedown",nt(w)),J(a,"mousedown",nt(A)),J(d,"mousedown",nt(N)),J(u,"mousedown",nt(y)),J(e,"mousedown",b)],m=!0)},p(O,U){o=O,j===(j=z(o))&&$?$.p(o,U):($&&$.d(1),$=j&&j(o),$&&($.c(),$.m(e,s))),U[0]&1&&g!==(g="template-element "+o[34].type+" svelte-l6fbf7")&&i(e,"class",g),U[0]&65&&k!==(k=Object.entries(o[6](o[34])).map(Ht).join(";"))&&i(e,"style",k),U[0]&1&&h!==(h=o[34].type+" element")&&i(e,"aria-label",h)},d(O){O&&E(e),$&&$.d(),m=!1,Ue(v)}}}function ms(o){let e,s;return e=new cn({props:{class:"w-4 h-4"}}),{c(){W(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,l){R(e,t,l),s=!0},p:De,i(t){s||(C(e.$$.fragment,t),s=!0)},o(t){S(e.$$.fragment,t),s=!1},d(t){X(e,t)}}}function Lt(o){let e,s;return e=new rs({props:{elements:o[0],fontOptions:o[4],side:o[1]}}),e.$on("update",o[12]),{c(){W(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,l){R(e,t,l),s=!0},p(t,l){const n={};l[0]&1&&(n.elements=t[0]),l[0]&16&&(n.fontOptions=t[4]),l[0]&2&&(n.side=t[1]),e.$set(n)},i(t){s||(C(e.$$.fragment,t),s=!0)},o(t){S(e.$$.fragment,t),s=!1},d(t){X(e,t)}}}function ps(o){let e,s,t=o[1].charAt(0).toUpperCase()+o[1].slice(1)+"",l,n,a,r,d,c,u,g,k,h,m,v,z;const j=[fs,is],$=[];function w(N,y){return N[2]?1:0}u=w(o),g=$[u]=j[u](o);let A=o[2]&&Lt(o);return{c(){e=D("div"),s=D("h2"),l=ze(t),n=ze(" Template"),a=L(),r=D("div"),d=D("div"),c=D("div"),g.c(),h=L(),A&&A.c(),this.h()},l(N){e=I(N,"DIV",{class:!0});var y=V(e);s=I(y,"H2",{class:!0});var b=V(s);l=Se(b,t),n=Se(b," Template"),b.forEach(E),a=P(y),r=I(y,"DIV",{class:!0});var O=V(r);d=I(O,"DIV",{class:!0});var U=V(d);c=I(U,"DIV",{class:!0,style:!0});var B=V(c);g.l(B),B.forEach(E),U.forEach(E),h=P(O),A&&A.l(O),O.forEach(E),y.forEach(E),this.h()},h(){i(s,"class","text-2xl font-semibold mb-4 text-foreground"),i(c,"class",k="template-container "+o[1]+" group svelte-l6fbf7"),it(c,"background-image",o[2]?`url('${o[2]}')`:"none"),kt(c,"has-preview",o[2]),i(d,"class","preview-container svelte-l6fbf7"),i(r,"class","template-layout svelte-l6fbf7"),i(e,"class","template-section svelte-l6fbf7")},m(N,y){Q(N,e,y),f(e,s),f(s,l),f(s,n),f(e,a),f(e,r),f(r,d),f(d,c),$[u].m(c,null),o[19](c),f(r,h),A&&A.m(r,null),m=!0,v||(z=[J(window,"mousemove",o[10]),J(window,"mouseup",o[11])],v=!0)},p(N,y){(!m||y[0]&2)&&t!==(t=N[1].charAt(0).toUpperCase()+N[1].slice(1)+"")&&Ve(l,t);let b=u;u=w(N),u===b?$[u].p(N,y):(Ae(),S($[b],1,1,()=>{$[b]=null}),Me(),g=$[u],g?g.p(N,y):(g=$[u]=j[u](N),g.c()),C(g,1),g.m(c,null)),(!m||y[0]&2&&k!==(k="template-container "+N[1]+" group svelte-l6fbf7"))&&i(c,"class",k),(!m||y[0]&4)&&it(c,"background-image",N[2]?`url('${N[2]}')`:"none"),(!m||y[0]&6)&&kt(c,"has-preview",N[2]),N[2]?A?(A.p(N,y),y[0]&4&&C(A,1)):(A=Lt(N),A.c(),C(A,1),A.m(r,null)):A&&(Ae(),S(A,1,1,()=>{A=null}),Me())},i(N){m||(C(g),C(A),m=!0)},o(N){S(g),S(A),m=!1},d(N){N&&E(e),$[u].d(),o[19](null),A&&A.d(),v=!1,Ue(z)}}}const Xe=506.5,ot=319,Pt=([o,e])=>`${o}: ${e}`,Ht=([o,e])=>`${o}: ${e}`;function hs(o,e,s){let t,l,{side:n}=e,{preview:a=null}=e,{elements:r=[]}=e;const d=Je();let c=!1,u=!1,g,k,h=null,m=null,v,z=[],j={width:Xe,height:ot,scale:1};function $(){if(!(v!=null&&v.parentElement))return;const M=v.parentElement.offsetWidth,te=Math.min(M,Xe),fe=te/Xe*ot,de=te/Xe;return s(13,j={width:te,height:fe,scale:de}),j}Jt(()=>{r.length===0&&(s(0,r=n==="front"?[..._]:[...p]),A()),fn().then(()=>{s(4,z=Tt())}).catch(te=>{console.error("Error loading some Google Fonts:",te),s(4,z=Tt())});const M=new ResizeObserver(()=>{$()});return v!=null&&v.parentElement&&(M.observe(v.parentElement),$()),()=>M.disconnect()});function w(M){const te=un.find(fe=>fe.family===M);return(te==null?void 0:te.category)||"sans-serif"}function A(){rt.update(M=>{const te=M.template_elements.filter(fe=>fe.side!==n);return{...M,template_elements:[...te,...r.map(fe=>({...fe,side:n}))],fonts:z}})}function N(M,te,fe,de,Ie,le){s(0,r=r.map((ue,Ce)=>{if(Ce===M){let ce={...ue,side:n};if(v){const me=Xe-(ce.width||0),Be=ot-(ce.height||0);ce.x=Math.min(Math.max(te,0),me),ce.y=Math.min(Math.max(fe,0),Be),(ue.type==="photo"||ue.type==="signature")&&de&&Ie?(ce.width=Math.max(20,Math.round(de)),ce.height=Math.max(20,Math.round(Ie))):ue.type==="text"&&le&&(ce.width=Math.max(20,Math.round(le.width/j.scale)))}return ce}return ue})),A(),d("update",{elements:r,side:n})}function y(M){d("imageUpload",{event:M,side:n})}function b(){d("removeImage",{side:n})}function O(M,te,fe=null){fe?(u=!0,m=fe):c=!0,h=te,g=M.clientX,k=M.clientY,M.preventDefault()}function U(M){if(!c&&!u||h===null)return;const te=M.clientX-g,fe=M.clientY-k,de=te/j.scale,Ie=fe/j.scale,le=r[h];if(le){if(u&&le.width!==void 0&&le.height!==void 0){let ue=le.width,Ce=le.height,ce=le.x||0,me=le.y||0;switch(m){case"top-left":ue-=de,Ce-=Ie,ce+=de,me+=Ie;break;case"top-right":ue+=de,Ce-=Ie,me+=Ie;break;case"bottom-left":ue-=de,Ce+=Ie,ce+=de;break;case"bottom-right":ue+=de,Ce+=Ie;break}ce=Math.max(0,Math.min(ce,Xe-ue)),me=Math.max(0,Math.min(me,ot-Ce)),le.x=ce,le.y=me,le.width=Math.max(20,ue),le.height=Math.max(20,Ce)}else{const ue=(le.x||0)+de,Ce=(le.y||0)+Ie,me=document.createElement("canvas").getContext("2d");if(me){me.font=`${le.size||16}px ${le.font||"Arial"}`;const Be=me.measureText(le.content||"");N(h,ue,Ce,le.width,le.height,Be)}}g=M.clientX,k=M.clientY,A()}}function B(){c=!1,u=!1,h=null,m=null}function Y(M){s(0,r=M.detail.elements),A(),d("update",{elements:r,side:n})}const _=[{id:"licenseNo",variableName:"licenseNo",type:"text",content:"75-005-24",x:293,y:159,width:100,height:20,fontFamily:"Arial",fontSize:16,color:"#000000",textAlign:"left",side:"front"},{id:"valid",variableName:"valid",type:"text",content:"01/01/2026",x:295,y:179,width:100,height:20,fontFamily:"Arial",fontSize:16,color:"#000000",textAlign:"left",side:"front"},{id:"name",variableName:"name",type:"text",content:"Junifer D. Oban",x:256,y:246,width:100,height:20,fontFamily:"Arial",fontSize:21,color:"#000000",textAlign:"left",side:"front"},{id:"photo",variableName:"photo",type:"photo",x:50,y:131,width:119,height:158,side:"front"},{id:"signature",variableName:"signature",type:"signature",x:263,y:196,width:152,height:65,side:"front"},{id:"idType",variableName:"idType",type:"selection",options:["Ministerial License","Ordination License","Local License"],x:198,y:131,width:100,height:20,fontFamily:"Arial",fontSize:16,color:"#000000",textAlign:"left",side:"front"},{id:"position",variableName:"position",type:"selection",options:["General Treasurer","General Secretary","District Superintendent","Pastor"],x:276,y:270,width:100,height:20,fontFamily:"Arial",fontSize:16,color:"#000000",textAlign:"left",side:"front"}],p=[{id:"contactName",variableName:"contactName",type:"text",content:"Ralph Steven D. Trigo",x:113,y:36,width:100,height:20,fontFamily:"Arial",fontSize:13,color:"#000000",textAlign:"left",side:"back"},{id:"addresss",variableName:"addresss",type:"text",content:"San Isidro District",x:112,y:55,width:100,height:20,fontFamily:"Arial",fontSize:13,color:"#000000",textAlign:"left",side:"back"},{id:"contactNo",variableName:"contactNo",type:"text",content:"9478920644",x:112,y:74,width:100,height:20,fontFamily:"Arial",fontSize:13,color:"#000000",textAlign:"left",side:"back"},{id:"tin",variableName:"tin",type:"text",content:"943-403-393",x:133,y:115,width:100,height:20,fontFamily:"Arial",fontSize:13,color:"#000000",textAlign:"left",side:"back"},{id:"sss",variableName:"sss",type:"text",content:"943-403-393",x:133,y:138,width:100,height:20,fontFamily:"Arial",fontSize:13,color:"#000000",textAlign:"left",side:"back"}],T=(M,te)=>O(te,M,"top-left"),H=(M,te)=>O(te,M,"top-right"),K=(M,te)=>O(te,M,"bottom-left"),Z=(M,te)=>O(te,M,"bottom-right"),ee=(M,te)=>O(te,M);function we(M){We[M?"unshift":"push"](()=>{v=M,s(3,v)})}return o.$$set=M=>{"side"in M&&s(1,n=M.side),"preview"in M&&s(2,a=M.preview),"elements"in M&&s(0,r=M.elements)},o.$$.update=()=>{o.$$.dirty[0]&7&&r&&console.log(`📝 TemplateForm [${n}]:`,{preview:a?"present":"none",elements:{count:r.length,details:r.map(M=>({name:M.variableName,type:M.type,content:M.content,position:{x:M.x,y:M.y},style:{font:M.font,size:M.size,color:M.color}}))}}),o.$$.dirty[0]&7&&console.log(`🔄 TemplateForm (${n}):`,{preview:a,elements:r==null?void 0:r.map(M=>({name:M.variableName,content:M.content,x:M.x,y:M.y}))}),o.$$.dirty[0]&8192&&s(6,t=M=>({left:`${(M.x||0)*j.scale}px`,top:`${(M.y||0)*j.scale}px`,width:`${(M.width||0)*j.scale}px`,height:`${(M.height||0)*j.scale}px`})),o.$$.dirty[0]&8192&&s(5,l=M=>({"font-family":`"${M.font||"Arial"}", ${w(M.font||"Arial")}`,"font-weight":M.fontWeight||"400","font-style":M.fontStyle||"normal","font-size":`${(M.size||16)*j.scale}px`,color:M.color||"#000000","text-align":M.alignment||"left","text-transform":M.textTransform||"none","text-decoration":M.textDecoration||"none","letter-spacing":M.letterSpacing?`${M.letterSpacing*j.scale}px`:"normal","line-height":M.lineHeight||"normal",opacity:M.opacity||1,display:"block",width:"100%"}))},[r,n,a,v,z,l,t,y,b,O,U,B,Y,j,T,H,K,Z,ee,we]}class Wt extends ae{constructor(e){super(),re(this,e,hs,ps,oe,{side:1,preview:2,elements:0},null,[-1,-1])}}function qt(o,e,s){const t=o.slice();return t[16]=e[s],t}function gs(o){let e,s='<span class="text-muted-foreground dark:text-gray-400">No preview</span>';return{c(){e=D("div"),e.innerHTML=s,this.h()},l(t){e=I(t,"DIV",{class:!0,"data-svelte-h":!0}),ie(e)!=="svelte-14ndu9n"&&(e.innerHTML=s),this.h()},h(){i(e,"class","aspect-[1.6/1] w-full flex items-center justify-center bg-muted dark:bg-gray-700")},m(t,l){Q(t,e,l)},p:De,d(t){t&&E(e)}}}function _s(o){let e,s,t;return{c(){e=D("img"),this.h()},l(l){e=I(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){wt(e.src,s=o[16].front_background)||i(e,"src",s),i(e,"alt",t=o[16].name),i(e,"class","aspect-[1.6/1] w-full object-cover")},m(l,n){Q(l,e,n)},p(l,n){n&1&&!wt(e.src,s=l[16].front_background)&&i(e,"src",s),n&1&&t!==(t=l[16].name)&&i(e,"alt",t)},d(l){l&&E(e)}}}function vs(o){let e,s;return e=new Tl({props:{class:"h-4 w-4"}}),{c(){W(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,l){R(e,t,l),s=!0},p:De,i(t){s||(C(e.$$.fragment,t),s=!0)},o(t){S(e.$$.fragment,t),s=!1},d(t){X(e,t)}}}function bs(o){let e,s;return e=new Yn({props:{class:"h-4 w-4"}}),{c(){W(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,l){R(e,t,l),s=!0},p:De,i(t){s||(C(e.$$.fragment,t),s=!0)},o(t){S(e.$$.fragment,t),s=!1},d(t){X(e,t)}}}function $s(o){let e,s;return e=new pn({props:{class:"h-4 w-4"}}),{c(){W(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,l){R(e,t,l),s=!0},p:De,i(t){s||(C(e.$$.fragment,t),s=!0)},o(t){S(e.$$.fragment,t),s=!1},d(t){X(e,t)}}}function Rt(o,e){let s,t,l,n,a,r=e[16].name+"",d,c,u,g,k,h,m,v,z,j,$,w,A,N;function y(p,T){return p[16].front_background?_s:gs}let b=y(e),O=b(e);function U(...p){return e[4](e[16],...p)}k=new at({props:{variant:"ghost",size:"sm",class:"h-8 w-8 p-0 hover:bg-gray-200 dark:hover:bg-gray-700 text-foreground dark:text-gray-200","aria-label":`Edit ${e[16].name}`,$$slots:{default:[vs]},$$scope:{ctx:e}}}),k.$on("click",U);function B(...p){return e[5](e[16],...p)}m=new at({props:{variant:"ghost",size:"sm",class:"h-8 w-8 p-0 hover:bg-gray-200 dark:hover:bg-gray-700 text-foreground dark:text-gray-200","aria-label":`Duplicate ${e[16].name}`,$$slots:{default:[bs]},$$scope:{ctx:e}}}),m.$on("click",B);function Y(...p){return e[6](e[16],...p)}z=new at({props:{variant:"ghost",size:"sm",class:"h-8 w-8 p-0 hover:bg-gray-200 dark:hover:bg-gray-700 text-foreground dark:text-gray-200","aria-label":`Delete ${e[16].name}`,$$slots:{default:[$s]},$$scope:{ctx:e}}}),z.$on("click",Y);function _(){return e[7](e[16])}return{key:o,first:null,c(){s=D("div"),t=D("a"),O.c(),l=L(),n=D("div"),a=D("h3"),d=ze(r),u=L(),g=D("div"),W(k.$$.fragment),h=L(),W(m.$$.fragment),v=L(),W(z.$$.fragment),j=L(),this.h()},l(p){s=I(p,"DIV",{class:!0,role:!0,"aria-label":!0});var T=V(s);t=I(T,"A",{href:!0,class:!0,"data-sveltekit-preload-data":!0,"data-sveltekit-noscroll":!0,"data-sveltekit-reload":!0});var H=V(t);O.l(H),l=P(H),n=I(H,"DIV",{class:!0});var K=V(n);a=I(K,"H3",{class:!0});var Z=V(a);d=Se(Z,r),Z.forEach(E),K.forEach(E),H.forEach(E),u=P(T),g=I(T,"DIV",{class:!0});var ee=V(g);q(k.$$.fragment,ee),h=P(ee),q(m.$$.fragment,ee),v=P(ee),q(z.$$.fragment,ee),ee.forEach(E),j=P(T),T.forEach(E),this.h()},h(){i(a,"class","text-sm font-medium text-foreground dark:text-gray-200"),i(n,"class","p-3 text-center"),i(t,"href",c="/id-gen/use-template/"+e[16].id),i(t,"class","block w-full text-left"),i(t,"data-sveltekit-preload-data","hover"),i(t,"data-sveltekit-noscroll",""),i(t,"data-sveltekit-reload","off"),i(g,"class","absolute right-2 top-2 flex gap-1 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-md p-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200"),i(s,"class","bg-card text-card-foreground dark:bg-gray-800 rounded-lg shadow-md overflow-hidden relative group"),i(s,"role","article"),i(s,"aria-label",$=`Template card for ${e[16].name}`),this.first=s},m(p,T){Q(p,s,T),f(s,t),O.m(t,null),f(t,l),f(t,n),f(n,a),f(a,d),f(s,u),f(s,g),R(k,g,null),f(g,h),R(m,g,null),f(g,v),R(z,g,null),f(s,j),w=!0,A||(N=[J(s,"mouseenter",_),J(s,"mouseleave",e[8])],A=!0)},p(p,T){e=p,b===(b=y(e))&&O?O.p(e,T):(O.d(1),O=b(e),O&&(O.c(),O.m(t,l))),(!w||T&1)&&r!==(r=e[16].name+"")&&Ve(d,r),(!w||T&1&&c!==(c="/id-gen/use-template/"+e[16].id))&&i(t,"href",c);const H={};T&1&&(H["aria-label"]=`Edit ${e[16].name}`),T&524288&&(H.$$scope={dirty:T,ctx:e}),k.$set(H);const K={};T&1&&(K["aria-label"]=`Duplicate ${e[16].name}`),T&524288&&(K.$$scope={dirty:T,ctx:e}),m.$set(K);const Z={};T&1&&(Z["aria-label"]=`Delete ${e[16].name}`),T&524288&&(Z.$$scope={dirty:T,ctx:e}),z.$set(Z),(!w||T&1&&$!==($=`Template card for ${e[16].name}`))&&i(s,"aria-label",$)},i(p){w||(C(k.$$.fragment,p),C(m.$$.fragment,p),C(z.$$.fragment,p),w=!0)},o(p){S(k.$$.fragment,p),S(m.$$.fragment,p),S(z.$$.fragment,p),w=!1},d(p){p&&E(s),O.d(),X(k),X(m),X(z),A=!1,Ue(N)}}}function Xt(o){let e,s,t,l;return{c(){e=D("div"),s=ze(o[1]),this.h()},l(n){e=I(n,"DIV",{class:!0});var a=V(e);s=Se(a,o[1]),a.forEach(E),this.h()},h(){i(e,"class","fixed bottom-4 right-4 z-50 rounded-lg bg-primary px-4 py-2 text-primary-foreground shadow-lg")},m(n,a){Q(n,e,a),f(e,s),l=!0},p(n,a){(!l||a&2)&&Ve(s,n[1])},i(n){l||(n&&ft(()=>{l&&(t||(t=ct(e,yt,{},!0)),t.run(1))}),l=!0)},o(n){n&&(t||(t=ct(e,yt,{},!1)),t.run(0)),l=!1},d(n){n&&E(e),n&&t&&t.end()}}}function ks(o){let e,s,t='<h2 class="text-2xl font-bold tracking-tight">Templates</h2>',l,n,a=[],r=new Map,d,c,u,g=je(o[0]);const k=m=>m[16].id;for(let m=0;m<g.length;m+=1){let v=qt(o,g,m),z=k(v);r.set(z,a[m]=Rt(z,v))}let h=o[1]&&Xt(o);return{c(){e=D("div"),s=D("div"),s.innerHTML=t,l=L(),n=D("div");for(let m=0;m<a.length;m+=1)a[m].c();d=L(),h&&h.c(),c=ut(),this.h()},l(m){e=I(m,"DIV",{class:!0});var v=V(e);s=I(v,"DIV",{class:!0,"data-svelte-h":!0}),ie(s)!=="svelte-1h5r9op"&&(s.innerHTML=t),l=P(v),n=I(v,"DIV",{class:!0});var z=V(n);for(let j=0;j<a.length;j+=1)a[j].l(z);z.forEach(E),v.forEach(E),d=P(m),h&&h.l(m),c=ut(),this.h()},h(){i(s,"class","mb-8"),i(n,"class","grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"),i(e,"class","h-full w-full overflow-y-auto bg-background p-6")},m(m,v){Q(m,e,v),f(e,s),f(e,l),f(e,n);for(let z=0;z<a.length;z+=1)a[z]&&a[z].m(n,null);Q(m,d,v),h&&h.m(m,v),Q(m,c,v),u=!0},p(m,[v]){v&13&&(g=je(m[0]),Ae(),a=Zt(a,v,k,1,m,g,r,n,xt,Rt,null,qt),Me()),m[1]?h?(h.p(m,v),v&2&&C(h,1)):(h=Xt(m),h.c(),C(h,1),h.m(c.parentNode,c)):h&&(Ae(),S(h,1,1,()=>{h=null}),Me())},i(m){if(!u){for(let v=0;v<g.length;v+=1)C(a[v]);C(h),u=!0}},o(m){for(let v=0;v<a.length;v+=1)S(a[v]);S(h),u=!1},d(m){m&&(E(e),E(d),E(c));for(let v=0;v<a.length;v+=1)a[v].d();h&&h.d(m)}}}function ws(o,e,s){let{templates:t=[]}=e,l=null,n=null;const a=Je();async function r($){try{if(!confirm(`Are you sure you want to delete "${$.name}"?`))return;const w=new FormData;if(w.append("templateId",$.id),!(await fetch("/id-gen/templates?/delete",{method:"POST",body:w})).ok)throw new Error("Failed to delete template");s(0,t=t.filter(N=>N.id!==$.id)),u("Template deleted successfully")}catch(w){console.error("Error deleting template:",w),u("Error deleting template")}}async function d($){try{if(!$||!$.id)throw new Error("Invalid template data");const w={...$,id:crypto.randomUUID(),name:`Copy of ${$.name}`,created_at:new Date().toISOString(),user_id:$.user_id,org_id:$.org_id};console.log("Duplicating template:",{originalId:$.id,newId:w.id,org_id:w.org_id});const A=new FormData;A.append("templateData",JSON.stringify(w));const N=await fetch("/id-gen/templates?/create",{method:"POST",body:A});if(!N.ok)throw new Error("Failed to duplicate template");const y=await N.json();s(0,t=[y.data,...t]),u("Template duplicated successfully"),await dn("app:templates")}catch(w){console.error("Error duplicating template:",w),u("Error duplicating template")}}function c($){mn(`/id-gen/use-template/${$}`,{replaceState:!1})}function u($){s(1,l=$),setTimeout(()=>{s(1,l=null)},3e3)}function g($){console.log(" TemplateList: Template selected:",$.id),a("select",{id:$.id})}function k($,w,A){switch($.stopPropagation(),A){case"edit":g(w);break;case"use":c(w.id);break;case"duplicate":d(w);break;case"delete":r(w);break}}const h=($,w)=>k(w,$,"edit"),m=($,w)=>k(w,$,"duplicate"),v=($,w)=>k(w,$,"delete"),z=$=>s(2,n=$.id),j=()=>s(2,n=null);return o.$$set=$=>{"templates"in $&&s(0,t=$.templates)},[t,l,n,k,h,m,v,z,j]}class Es extends ae{constructor(e){super(),re(this,e,ws,ks,oe,{templates:0})}}async function Gt(o,e,s){const t=o.name.split(".").pop(),l=`${s}/${e}_${Date.now()}.${t}`,{error:n}=await Et.storage.from("templates").upload(l,o);if(n)throw n;const{data:a}=Et.storage.from("templates").getPublicUrl(l);return a.publicUrl}function Ns(o){let e,s,t,l=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-6 h-6 mr-2" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M19 12H5M12 19l-7-7 7-7"></path></svg>
                        Back`,n,a,r,d="Edit Template",c,u,g,k,h,m;const v=[Ds,Ts],z=[];function j($,w){return $[6]?0:1}return u=j(o),g=z[u]=v[u](o),{c(){e=D("div"),s=D("div"),t=D("button"),t.innerHTML=l,n=L(),a=D("div"),r=D("h1"),r.textContent=d,c=L(),g.c(),this.h()},l($){e=I($,"DIV",{class:!0});var w=V(e);s=I(w,"DIV",{class:!0});var A=V(s);t=I(A,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(t)!=="svelte-1h7t0ql"&&(t.innerHTML=l),A.forEach(E),n=P(w),a=I(w,"DIV",{class:!0});var N=V(a);r=I(N,"H1",{class:!0,"data-svelte-h":!0}),ie(r)!=="svelte-1sp2y6e"&&(r.textContent=d),c=P(N),g.l(N),N.forEach(E),w.forEach(E),this.h()},h(){i(t,"class","back-button inline-flex items-center text-lg dark:text-gray-300 text-gray-700 hover:text-primary dark:hover:text-primary-400 svelte-178m0vk"),i(s,"class","back-button-container svelte-178m0vk"),i(r,"class","text-2xl font-bold mb-6"),i(a,"class","template-content svelte-178m0vk"),i(e,"class","template-form-container active svelte-178m0vk")},m($,w){Q($,e,w),f(e,s),f(s,t),f(e,n),f(e,a),f(a,r),f(a,c),z[u].m(a,null),k=!0,h||(m=J(t,"click",o[12]),h=!0)},p($,w){let A=u;u=j($),u===A?z[u].p($,w):(Ae(),S(z[A],1,1,()=>{z[A]=null}),Me(),g=z[u],g?g.p($,w):(g=z[u]=v[u]($),g.c()),C(g,1),g.m(a,null))},i($){k||(C(g),k=!0)},o($){S(g),k=!1},d($){$&&E(e),z[u].d(),h=!1,m()}}}function ys(o){let e,s;return e=new Es({props:{templates:o[0].templates}}),e.$on("select",o[11]),{c(){W(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,l){R(e,t,l),s=!0},p(t,l){const n={};l&1&&(n.templates=t[0].templates),e.$set(n)},i(t){s||(C(e.$$.fragment,t),s=!0)},o(t){S(e.$$.fragment,t),s=!1},d(t){X(e,t)}}}function Ts(o){let e,s,t,l,n,a,r,d,c,u,g,k,h,m="Save Template",v,z,j="Clear Form",$,w,A;function N(_){o[15](_)}function y(_){o[16](_)}let b={side:"front"};o[1]!==void 0&&(b.elements=o[1]),o[3]!==void 0&&(b.preview=o[3]),s=new Wt({props:b}),We.push(()=>Ye(s,"elements",N)),We.push(()=>Ye(s,"preview",y)),s.$on("imageUpload",o[9]),s.$on("removeImage",o[10]);function O(_){o[17](_)}function U(_){o[18](_)}let B={side:"back"};o[2]!==void 0&&(B.elements=o[2]),o[4]!==void 0&&(B.preview=o[4]),r=new Wt({props:B}),We.push(()=>Ye(r,"elements",O)),We.push(()=>Ye(r,"preview",U)),r.$on("imageUpload",o[9]),r.$on("removeImage",o[10]);let Y=o[5]&&Yt(o);return{c(){e=D("div"),W(s.$$.fragment),n=L(),a=D("div"),W(r.$$.fragment),u=L(),Y&&Y.c(),g=L(),k=D("div"),h=D("button"),h.textContent=m,v=L(),z=D("button"),z.textContent=j,this.h()},l(_){e=I(_,"DIV",{class:!0});var p=V(e);q(s.$$.fragment,p),p.forEach(E),n=P(_),a=I(_,"DIV",{class:!0});var T=V(a);q(r.$$.fragment,T),T.forEach(E),u=P(_),Y&&Y.l(_),g=P(_),k=I(_,"DIV",{class:!0});var H=V(k);h=I(H,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(h)!=="svelte-1fnm2f5"&&(h.textContent=m),v=P(H),z=I(H,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(z)!=="svelte-i6bgc1"&&(z.textContent=j),H.forEach(E),this.h()},h(){i(e,"class","template-form"),i(a,"class","template-form"),i(h,"class","inline-flex justify-center rounded-md border-0 bg-blue-600 dark:bg-blue-500 px-4 py-2 text-sm font-medium text-white shadow-md hover:bg-blue-700 dark:hover:bg-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900 dark:focus:ring-blue-400 transition-colors duration-200 dark:shadow-blue-900/30"),i(z,"class","inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"),i(k,"class","mt-6 flex gap-4")},m(_,p){Q(_,e,p),R(s,e,null),Q(_,n,p),Q(_,a,p),R(r,a,null),Q(_,u,p),Y&&Y.m(_,p),Q(_,g,p),Q(_,k,p),f(k,h),f(k,v),f(k,z),$=!0,w||(A=[J(h,"click",o[8]),J(z,"click",o[13])],w=!0)},p(_,p){const T={};!t&&p&2&&(t=!0,T.elements=_[1],Ge(()=>t=!1)),!l&&p&8&&(l=!0,T.preview=_[3],Ge(()=>l=!1)),s.$set(T);const H={};!d&&p&4&&(d=!0,H.elements=_[2],Ge(()=>d=!1)),!c&&p&16&&(c=!0,H.preview=_[4],Ge(()=>c=!1)),r.$set(H),_[5]?Y?Y.p(_,p):(Y=Yt(_),Y.c(),Y.m(g.parentNode,g)):Y&&(Y.d(1),Y=null)},i(_){$||(C(s.$$.fragment,_),C(r.$$.fragment,_),$=!0)},o(_){S(s.$$.fragment,_),S(r.$$.fragment,_),$=!1},d(_){_&&(E(e),E(n),E(a),E(u),E(g),E(k)),X(s),X(r),Y&&Y.d(_),w=!1,Ue(A)}}}function Ds(o){let e,s='<div class="space-y-4"><div class="h-8 bg-gray-200 rounded w-1/4"></div> <div class="h-64 bg-gray-200 rounded"></div> <div class="space-y-2"><div class="h-4 bg-gray-200 rounded w-1/3"></div> <div class="h-4 bg-gray-200 rounded w-1/4"></div></div></div> <div class="space-y-4"><div class="h-8 bg-gray-200 rounded w-1/4"></div> <div class="h-64 bg-gray-200 rounded"></div> <div class="space-y-2"><div class="h-4 bg-gray-200 rounded w-1/3"></div> <div class="h-4 bg-gray-200 rounded w-1/4"></div></div></div>';return{c(){e=D("div"),e.innerHTML=s,this.h()},l(t){e=I(t,"DIV",{class:!0,"data-svelte-h":!0}),ie(e)!=="svelte-24wsap"&&(e.innerHTML=s),this.h()},h(){i(e,"class","animate-pulse space-y-8")},m(t,l){Q(t,e,l)},p:De,i:De,o:De,d(t){t&&E(e)}}}function Yt(o){let e,s;return{c(){e=D("p"),s=ze(o[5]),this.h()},l(t){e=I(t,"P",{class:!0});var l=V(e);s=Se(l,o[5]),l.forEach(E),this.h()},h(){i(e,"class","mt-4 text-sm text-red-600")},m(t,l){Q(t,e,l),f(e,s)},p(t,l){l&32&&Ve(s,t[5])},d(t){t&&E(e)}}}function Is(o){let e,s,t,l,n,a;const r=[ys,Ns],d=[];function c(u,g){return u[7]?1:0}return t=c(o),l=d[t]=r[t](o),{c(){e=D("main"),s=D("div"),l.c(),this.h()},l(u){e=I(u,"MAIN",{class:!0});var g=V(e);s=I(g,"DIV",{class:!0});var k=V(s);l.l(k),k.forEach(E),g.forEach(E),this.h()},h(){i(s,"class",n="edit-template-container "+(o[7]?"edit-mode":"")+" svelte-178m0vk"),i(e,"class","h-full")},m(u,g){Q(u,e,g),f(e,s),d[t].m(s,null),a=!0},p(u,[g]){let k=t;t=c(u),t===k?d[t].p(u,g):(Ae(),S(d[k],1,1,()=>{d[k]=null}),Me(),l=d[t],l?l.p(u,g):(l=d[t]=r[t](u),l.c()),C(l,1),l.m(s,null)),(!a||g&128&&n!==(n="edit-template-container "+(u[7]?"edit-mode":"")+" svelte-178m0vk"))&&i(s,"class",n)},i(u){a||(C(l),a=!0)},o(u){S(l),a=!1},d(u){u&&E(e),d[t].d()}}}function Cs(o,e,s){let t,l,n;mt(o,rt,_=>s(14,t=_)),mt(o,hn,_=>s(21,l=_)),mt(o,gn,_=>s(22,n=_));let{data:a}=e,r=null,d=null,c=null,u=null,g="",k=[],h=[],m=!1,v=!1;Jt(async()=>{n||(window.location.href="/login")});async function z(){return!r&&!c||!d&&!u?(s(5,g="Both front and back backgrounds are required. Please ensure both are present."),!1):!(r&&!await j(r,"front")||d&&!await j(d,"back"))}async function j(_,p){try{const T=URL.createObjectURL(_),H=new Image;return await new Promise((K,Z)=>{H.onload=K,H.onerror=Z,H.src=T}),H.width!==1013||H.height!==638?(s(5,g=`${p.charAt(0).toUpperCase()+p.slice(1)} background must be exactly 1013x638 pixels.`),!1):!0}catch{return s(5,g=`Error validating ${p} background image. Please try again.`),!1}}async function $(){if(console.log("📝 Starting template save...",{frontElementsCount:k.length,backElementsCount:h.length,authStatus:{hasSession:!!n,hasUser:!!l,userId:l==null?void 0:l.id}}),!n||!l){console.error("❌ Auth check failed:",{session:!!n,user:!!l}),s(5,g="User is not authenticated.");return}if(!await z()){console.error("❌ Background validation failed");return}try{let _=c,p=u;console.log("🖼️ Processing backgrounds:",{hasFrontBackground:!!r,hasBackBackground:!!d,currentFrontUrl:_,currentBackUrl:p}),r&&(_=await Gt(r,"front",l.id),console.log("✅ Front background uploaded:",_)),d&&(p=await Gt(d,"back",l.id),console.log("✅ Back background uploaded:",p));const T={id:t.id||crypto.randomUUID(),user_id:(l==null?void 0:l.id)??"",name:t.name,front_background:t.front_background,back_background:t.back_background,orientation:t.orientation,template_elements:t.template_elements,created_at:t.created_at||new Date().toISOString(),org_id:(l==null?void 0:l.org_id)??""};if(console.log("📋 Template data to save:",{id:T.id,name:T.name,userId:T.user_id,elementsCount:T.template_elements.length,frontElements:k.map(ee=>({type:ee.type,name:ee.variableName})),backElements:h.map(ee=>({type:ee.type,name:ee.variableName}))}),T.template_elements.length===0)throw console.error("❌ No template elements found"),new Error("No template elements provided");console.log("💾 Saving to database...");const H=new FormData;H.append("templateData",JSON.stringify(T));const K=await fetch("?/create",{method:"POST",body:H}),Z=await K.json();if(!K.ok)throw console.error("❌ Server action failed:",Z),new Error(Z.message||"Failed to save template");console.log("✅ Template saved successfully:",{savedData:Z.data}),alert("Template saved successfully!"),window.location.reload()}catch(_){console.error("❌ Error saving template:",_),s(5,g=`Error saving template: ${_ instanceof Error?_.message:JSON.stringify(_)}`)}}async function w(_){const{event:p,side:T}=_.detail,H=p.target;if(!H.files||H.files.length===0)return;const K=H.files[0];if(!K.type.startsWith("image/")){s(5,g="Please upload an image file.");return}await j(K,T)&&(T==="front"?(r=K,s(3,c=URL.createObjectURL(K))):(d=K,s(4,u=URL.createObjectURL(K))),s(5,g=""))}function A(_){const{side:p}=_.detail;p==="front"?(r=null,s(3,c=null),s(1,k=[])):(d=null,s(4,u=null),s(2,h=[]))}async function N(_){var T,H,K;const p=_.detail.id;console.log("🔄 EditTemplate: Template select event received:",_.detail),s(7,v=!0),s(6,m=!0);try{const Z=await fetch(`/api/templates/${p}`,{method:"GET",headers:{Accept:"application/json"},credentials:"include"});if(!Z.ok){const we=await Z.text();throw console.error("❌ EditTemplate: Server response:",we),new Error("Failed to fetch template. Please try again.")}const ee=await Z.json();console.log("📥 EditTemplate: Template data fetched:",{id:ee.id,name:ee.name,elements:((T=ee.template_elements)==null?void 0:T.length)||0,frontBackground:((H=ee.front_background)==null?void 0:H.substring(0,50))+"...",backBackground:((K=ee.back_background)==null?void 0:K.substring(0,50))+"..."}),rt.select(ee),r=null,d=null,s(5,g="")}catch(Z){const ee=Z;console.error("❌ EditTemplate: Error:",ee),s(5,g=ee.message||"An unexpected error occurred. Please try again."),s(7,v=!1)}finally{s(6,m=!1)}}function y(){s(7,v=!1),b()}function b(){console.log("🔄 EditTemplate: Clearing form"),r=null,d=null,s(3,c=null),s(4,u=null),s(1,k=[]),s(2,h=[]),s(5,g=""),rt.set({id:"",user_id:(l==null?void 0:l.id)??"",name:"",front_background:"",back_background:"",orientation:"landscape",template_elements:[],created_at:new Date().toISOString(),org_id:(l==null?void 0:l.org_id)??""}),console.log("✅ EditTemplate: Form cleared")}function O(_){k=_,s(1,k),s(14,t),s(2,h)}function U(_){c=_,s(3,c),s(14,t),s(1,k),s(2,h)}function B(_){h=_,s(2,h),s(14,t),s(1,k)}function Y(_){u=_,s(4,u),s(14,t),s(1,k),s(2,h)}return o.$$set=_=>{"data"in _&&s(0,a=_.data)},o.$$.update=()=>{o.$$.dirty&16390&&t&&t.template_elements&&(s(1,k=t.template_elements.filter(_=>_.side==="front")),s(2,h=t.template_elements.filter(_=>_.side==="back")),s(3,c=t.front_background),s(4,u=t.back_background),console.log("📋 EditTemplate: Elements filtered:",{front:{count:k.length,elements:k.map(_=>({name:_.variableName,type:_.type,position:{x:_.x,y:_.y}}))},back:{count:h.length,elements:h.map(_=>({name:_.variableName,type:_.type,position:{x:_.x,y:_.y}}))}}))},[a,k,h,c,u,g,m,v,$,w,A,N,y,b,t,O,U,B,Y]}class Js extends ae{constructor(e){super(),re(this,e,Cs,Is,oe,{data:0})}}export{Js as component};
