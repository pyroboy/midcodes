import{s as sl,M as Ue,a as y,b as C,f as N,g as T,j as A,d as _,k as w,i as d,l as p,r as vl,O as qe,S as kl,c as gt,v as Rt,y as wl,t as v,h as k,m as B,p as Te,e as q,z as ht,n as Le}from"../chunks/scheduler.Bl--k1HL.js";import{S as rl,i as fl,f as Ge,c as D,a as S,m as V,t as h,b as E,d as R,g as Me,e as He}from"../chunks/index.DR8de1tj.js";import{e as Oe}from"../chunks/each.En5UpT5R.js";import{s as El}from"../chunks/formData.IVesd0ZS.js";import"../chunks/string.DBeRn4Bt.js";import{z as Cl}from"../chunks/zod.DtCsYocE.js";import{B as vt}from"../chunks/button.BqeWxtk_.js";import{I as Je}from"../chunks/input.CkoDOh7A.js";import{L as Re}from"../chunks/label.BX-RGDB2.js";import{R as Tt,S as ul,a as ol,V as cl,G as _l,b as ml}from"../chunks/index.BkiOxIzK.js";import{B as kt}from"../chunks/index.CvjD20Hh.js";import{z as U}from"../chunks/index.D4CdqmV7.js";import{T as Al}from"../chunks/textarea.DlhKioee.js";import{C as Pl}from"../chunks/card.Di3vQaZg.js";import{C as yl}from"../chunks/card-content.h6m9fR2F.js";import{C as Nl}from"../chunks/card-description.BVu8R1QC.js";import{C as Il,a as Dl}from"../chunks/card-title.DkwblUMR.js";const Sl=U.enum(["CASH","BANK","GCASH","OTHER"]);U.enum(["PENDING","PARTIAL","PAID","OVERDUE"]);U.enum(["RENT","UTILITY","PENALTY","MAINTENANCE","SERVICE"]);U.enum(["ELECTRICITY","WATER","INTERNET"]);U.enum(["super_admin","org_admin","user","event_admin","event_qr_checker","property_admin","property_manager","property_accountant","property_maintenance","property_utility","property_frontdesk","property_tenant","property_guest","id_gen_admin","id_gen_user"]);const Vl=U.object({id:U.number().optional(),billing_id:U.number(),amount:U.number().min(0,"Amount must be 0 or greater").transform(a=>Number(a.toFixed(2))),method:Sl,reference_number:U.string().optional().nullable(),receipt_url:U.string().url({message:"Must be a valid URL"}).optional().nullable(),paid_by:U.string().min(1,"Paid by is required"),paid_at:U.string().datetime({message:"Must be a valid UTC datetime"}),notes:U.string().optional().nullable(),created_by:U.string().uuid().optional(),updated_by:U.string().uuid().optional(),created_at:U.string().datetime().optional(),updated_at:U.string().datetime().optional()});function Lt(a,e,t){const n=a.slice();return n[25]=e[t],n}function Bt(a,e,t){const n=a.slice();return n[28]=e[t],n}function Mt(a){let e,t,n;return{c(){e=y("input"),this.h()},l(l){e=N(l,"INPUT",{type:!0,name:!0}),this.h()},h(){w(e,"type","hidden"),w(e,"name","id")},m(l,i){d(l,e,i),Rt(e,a[2].id),t||(n=wl(e,"input",a[13]),t=!0)},p(l,i){i[0]&4&&Rt(e,l[2].id)},d(l){l&&_(e),t=!1,n()}}}function Rl(a){let e;return{c(){e=v("Billing")},l(t){e=k(t,"Billing")},m(t,n){d(t,e,n)},d(t){t&&_(e)}}}function Tl(a){let e;return{c(){e=v("Select a billing")},l(t){e=k(t,"Select a billing")},m(t,n){d(t,e,n)},p:Le,d(t){t&&_(e)}}}function Ll(a){let e=a[3].lease.name+"",t,n,l=a[3].type+"",i,s,f=ze(a[3].balance)+"",r;return{c(){t=v(e),n=v(" - "),i=v(l),s=v(" - "),r=v(f)},l(u){t=k(u,e),n=k(u," - "),i=k(u,l),s=k(u," - "),r=k(u,f)},m(u,o){d(u,t,o),d(u,n,o),d(u,i,o),d(u,s,o),d(u,r,o)},p(u,o){o[0]&8&&e!==(e=u[3].lease.name+"")&&B(t,e),o[0]&8&&l!==(l=u[3].type+"")&&B(i,l),o[0]&8&&f!==(f=ze(u[3].balance)+"")&&B(r,f)},d(u){u&&(_(t),_(n),_(i),_(s),_(r))}}}function Bl(a){let e;function t(i,s){return i[3]?Ll:Tl}let n=t(a),l=n(a);return{c(){l.c(),e=q()},l(i){l.l(i),e=q()},m(i,s){l.m(i,s),d(i,e,s)},p(i,s){n===(n=t(i))&&l?l.p(i,s):(l.d(1),l=n(i),l&&(l.c(),l.m(e.parentNode,e)))},d(i){i&&_(e),l.d(i)}}}function Ml(a){let e,t;return e=new cl({props:{$$slots:{default:[Bl]},$$scope:{ctx:a}}}),{c(){D(e.$$.fragment)},l(n){S(e.$$.fragment,n)},m(n,l){V(e,n,l),t=!0},p(n,l){const i={};l[0]&8|l[1]&1&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function Hl(a){let e=a[28].lease.name+"",t,n,l=a[28].type+"",i,s,f=ze(a[28].balance)+"",r,u;return{c(){t=v(e),n=v(" - "),i=v(l),s=v(" - "),r=v(f),u=C()},l(o){t=k(o,e),n=k(o," - "),i=k(o,l),s=k(o," - "),r=k(o,f),u=A(o)},m(o,m){d(o,t,m),d(o,n,m),d(o,i,m),d(o,s,m),d(o,r,m),d(o,u,m)},p(o,m){m[0]&1&&e!==(e=o[28].lease.name+"")&&B(t,e),m[0]&1&&l!==(l=o[28].type+"")&&B(i,l),m[0]&1&&f!==(f=ze(o[28].balance)+"")&&B(r,f)},d(o){o&&(_(t),_(n),_(i),_(s),_(r),_(u))}}}function Ht(a){let e,t;function n(){return a[14](a[28])}return e=new ml({props:{value:a[28].id,$$slots:{default:[Hl]},$$scope:{ctx:a}}}),e.$on("click",n),{c(){D(e.$$.fragment)},l(l){S(e.$$.fragment,l)},m(l,i){V(e,l,i),t=!0},p(l,i){a=l;const s={};i[0]&1&&(s.value=a[28].id),i[0]&1|i[1]&1&&(s.$$scope={dirty:i,ctx:a}),e.$set(s)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Fl(a){let e,t,n=Oe(a[0]),l=[];for(let s=0;s<n.length;s+=1)l[s]=Ht(Bt(a,n,s));const i=s=>E(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=q()},l(s){for(let f=0;f<l.length;f+=1)l[f].l(s);e=q()},m(s,f){for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(s,f);d(s,e,f),t=!0},p(s,f){if(f[0]&129){n=Oe(s[0]);let r;for(r=0;r<n.length;r+=1){const u=Bt(s,n,r);l[r]?(l[r].p(u,f),h(l[r],1)):(l[r]=Ht(u),l[r].c(),h(l[r],1),l[r].m(e.parentNode,e))}for(Me(),r=n.length;r<l.length;r+=1)i(r);He()}},i(s){if(!t){for(let f=0;f<n.length;f+=1)h(l[f]);t=!0}},o(s){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)E(l[f]);t=!1},d(s){s&&_(e),ht(l,s)}}}function jl(a){let e,t;return e=new _l({props:{$$slots:{default:[Fl]},$$scope:{ctx:a}}}),{c(){D(e.$$.fragment)},l(n){S(e.$$.fragment,n)},m(n,l){V(e,n,l),t=!0},p(n,l){const i={};l[0]&1|l[1]&1&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function Ul(a){let e,t,n,l;return e=new ul({props:{id:"billing_id",disabled:!a[4]||a[1],class:"w-full",$$slots:{default:[Ml]},$$scope:{ctx:a}}}),n=new ol({props:{$$slots:{default:[jl]},$$scope:{ctx:a}}}),{c(){D(e.$$.fragment),t=C(),D(n.$$.fragment)},l(i){S(e.$$.fragment,i),t=A(i),S(n.$$.fragment,i)},m(i,s){V(e,i,s),d(i,t,s),V(n,i,s),l=!0},p(i,s){const f={};s[0]&18&&(f.disabled=!i[4]||i[1]),s[0]&8|s[1]&1&&(f.$$scope={dirty:s,ctx:i}),e.$set(f);const r={};s[0]&1|s[1]&1&&(r.$$scope={dirty:s,ctx:i}),n.$set(r)},i(i){l||(h(e.$$.fragment,i),h(n.$$.fragment,i),l=!0)},o(i){E(e.$$.fragment,i),E(n.$$.fragment,i),l=!1},d(i){i&&_(t),R(e,i),R(n,i)}}}function Ft(a){let e,t=a[5].billing_id+"",n;return{c(){e=y("p"),n=v(t),this.h()},l(l){e=N(l,"P",{class:!0});var i=T(e);n=k(i,t),i.forEach(_),this.h()},h(){w(e,"class","text-sm text-destructive")},m(l,i){d(l,e,i),p(e,n)},p(l,i){i[0]&32&&t!==(t=l[5].billing_id+"")&&B(n,t)},d(l){l&&_(e)}}}function ql(a){let e;return{c(){e=v("Amount")},l(t){e=k(t,"Amount")},m(t,n){d(t,e,n)},d(t){t&&_(e)}}}function jt(a){let e,t=a[5].amount+"",n;return{c(){e=y("p"),n=v(t),this.h()},l(l){e=N(l,"P",{class:!0});var i=T(e);n=k(i,t),i.forEach(_),this.h()},h(){w(e,"class","text-sm text-destructive")},m(l,i){d(l,e,i),p(e,n)},p(l,i){i[0]&32&&t!==(t=l[5].amount+"")&&B(n,t)},d(l){l&&_(e)}}}function Ut(a){let e,t,n=ze(a[3].balance)+"",l,i,s=a[2].amount>a[3].balance&&qt();return{c(){e=y("p"),t=v("Balance: "),l=v(n),i=C(),s&&s.c(),this.h()},l(f){e=N(f,"P",{class:!0});var r=T(e);t=k(r,"Balance: "),l=k(r,n),i=A(r),s&&s.l(r),r.forEach(_),this.h()},h(){w(e,"class","text-sm text-muted-foreground")},m(f,r){d(f,e,r),p(e,t),p(e,l),p(e,i),s&&s.m(e,null)},p(f,r){r[0]&8&&n!==(n=ze(f[3].balance)+"")&&B(l,n),f[2].amount>f[3].balance?s||(s=qt(),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(f){f&&_(e),s&&s.d()}}}function qt(a){let e,t="Amount exceeds balance";return{c(){e=y("span"),e.textContent=t,this.h()},l(n){e=N(n,"SPAN",{class:!0,"data-svelte-h":!0}),Te(e)!=="svelte-pkv5fw"&&(e.textContent=t),this.h()},h(){w(e,"class","text-destructive")},m(n,l){d(n,e,l)},d(n){n&&_(e)}}}function Gl(a){let e;return{c(){e=v("Payment Method")},l(t){e=k(t,"Payment Method")},m(t,n){d(t,e,n)},d(t){t&&_(e)}}}function Ol(a){let e;return{c(){e=v("Select payment method")},l(t){e=k(t,"Select payment method")},m(t,n){d(t,e,n)},p:Le,i:Le,o:Le,d(t){t&&_(e)}}}function zl(a){let e,t;return e=new kt({props:{variant:bt(a[2].method),$$slots:{default:[Kl]},$$scope:{ctx:a}}}),{c(){D(e.$$.fragment)},l(n){S(e.$$.fragment,n)},m(n,l){V(e,n,l),t=!0},p(n,l){const i={};l[0]&4&&(i.variant=bt(n[2].method)),l[0]&4|l[1]&1&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function Kl(a){let e=a[2].method+"",t;return{c(){t=v(e)},l(n){t=k(n,e)},m(n,l){d(n,t,l)},p(n,l){l[0]&4&&e!==(e=n[2].method+"")&&B(t,e)},d(n){n&&_(t)}}}function Yl(a){let e,t,n,l;const i=[zl,Ol],s=[];function f(r,u){return r[2].method?0:1}return e=f(a),t=s[e]=i[e](a),{c(){t.c(),n=q()},l(r){t.l(r),n=q()},m(r,u){s[e].m(r,u),d(r,n,u),l=!0},p(r,u){let o=e;e=f(r),e===o?s[e].p(r,u):(Me(),E(s[o],1,1,()=>{s[o]=null}),He(),t=s[e],t?t.p(r,u):(t=s[e]=i[e](r),t.c()),h(t,1),t.m(n.parentNode,n))},i(r){l||(h(t),l=!0)},o(r){E(t),l=!1},d(r){r&&_(n),s[e].d(r)}}}function Wl(a){let e,t;return e=new cl({props:{$$slots:{default:[Yl]},$$scope:{ctx:a}}}),{c(){D(e.$$.fragment)},l(n){S(e.$$.fragment,n)},m(n,l){V(e,n,l),t=!0},p(n,l){const i={};l[0]&4|l[1]&1&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function Jl(a){let e;return{c(){e=v(a[25])},l(t){e=k(t,a[25])},m(t,n){d(t,e,n)},p:Le,d(t){t&&_(e)}}}function Ql(a){let e,t,n;return e=new kt({props:{variant:bt(a[25]),$$slots:{default:[Jl]},$$scope:{ctx:a}}}),{c(){D(e.$$.fragment),t=C()},l(l){S(e.$$.fragment,l),t=A(l)},m(l,i){V(e,l,i),d(l,t,i),n=!0},p(l,i){const s={};i[1]&1&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){n||(h(e.$$.fragment,l),n=!0)},o(l){E(e.$$.fragment,l),n=!1},d(l){l&&_(t),R(e,l)}}}function Gt(a){let e,t;function n(){return a[16](a[25])}return e=new ml({props:{value:a[25],$$slots:{default:[Ql]},$$scope:{ctx:a}}}),e.$on("click",n),{c(){D(e.$$.fragment)},l(l){S(e.$$.fragment,l)},m(l,i){V(e,l,i),t=!0},p(l,i){a=l;const s={};i[1]&1&&(s.$$scope={dirty:i,ctx:a}),e.$set(s)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function Xl(a){let e,t,n=Oe(["CASH","BANK","GCASH","OTHER"]),l=[];for(let s=0;s<4;s+=1)l[s]=Gt(Lt(a,n,s));const i=s=>E(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<4;s+=1)l[s].c();e=q()},l(s){for(let f=0;f<4;f+=1)l[f].l(s);e=q()},m(s,f){for(let r=0;r<4;r+=1)l[r]&&l[r].m(s,f);d(s,e,f),t=!0},p(s,f){if(f[0]&128){n=Oe(["CASH","BANK","GCASH","OTHER"]);let r;for(r=0;r<4;r+=1){const u=Lt(s,n,r);l[r]?(l[r].p(u,f),h(l[r],1)):(l[r]=Gt(u),l[r].c(),h(l[r],1),l[r].m(e.parentNode,e))}for(Me(),r=4;r<4;r+=1)i(r);He()}},i(s){if(!t){for(let f=0;f<4;f+=1)h(l[f]);t=!0}},o(s){l=l.filter(Boolean);for(let f=0;f<4;f+=1)E(l[f]);t=!1},d(s){s&&_(e),ht(l,s)}}}function Zl(a){let e,t;return e=new _l({props:{$$slots:{default:[Xl]},$$scope:{ctx:a}}}),{c(){D(e.$$.fragment)},l(n){S(e.$$.fragment,n)},m(n,l){V(e,n,l),t=!0},p(n,l){const i={};l[1]&1&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function xl(a){let e,t,n,l;return e=new ul({props:{id:"method",disabled:!a[4],class:"w-full",$$slots:{default:[Wl]},$$scope:{ctx:a}}}),n=new ol({props:{$$slots:{default:[Zl]},$$scope:{ctx:a}}}),{c(){D(e.$$.fragment),t=C(),D(n.$$.fragment)},l(i){S(e.$$.fragment,i),t=A(i),S(n.$$.fragment,i)},m(i,s){V(e,i,s),d(i,t,s),V(n,i,s),l=!0},p(i,s){const f={};s[0]&16&&(f.disabled=!i[4]),s[0]&4|s[1]&1&&(f.$$scope={dirty:s,ctx:i}),e.$set(f);const r={};s[1]&1&&(r.$$scope={dirty:s,ctx:i}),n.$set(r)},i(i){l||(h(e.$$.fragment,i),h(n.$$.fragment,i),l=!0)},o(i){E(e.$$.fragment,i),E(n.$$.fragment,i),l=!1},d(i){i&&_(t),R(e,i),R(n,i)}}}function Ot(a){let e,t=a[5].method+"",n;return{c(){e=y("p"),n=v(t),this.h()},l(l){e=N(l,"P",{class:!0});var i=T(e);n=k(i,t),i.forEach(_),this.h()},h(){w(e,"class","text-sm text-destructive")},m(l,i){d(l,e,i),p(e,n)},p(l,i){i[0]&32&&t!==(t=l[5].method+"")&&B(n,t)},d(l){l&&_(e)}}}function en(a){let e;return{c(){e=v("Reference Number")},l(t){e=k(t,"Reference Number")},m(t,n){d(t,e,n)},d(t){t&&_(e)}}}function zt(a){let e,t=a[5].reference_number+"",n;return{c(){e=y("p"),n=v(t),this.h()},l(l){e=N(l,"P",{class:!0});var i=T(e);n=k(i,t),i.forEach(_),this.h()},h(){w(e,"class","text-sm text-destructive")},m(l,i){d(l,e,i),p(e,n)},p(l,i){i[0]&32&&t!==(t=l[5].reference_number+"")&&B(n,t)},d(l){l&&_(e)}}}function tn(a){let e;return{c(){e=v("Receipt URL")},l(t){e=k(t,"Receipt URL")},m(t,n){d(t,e,n)},d(t){t&&_(e)}}}function Kt(a){let e,t,n;return{c(){e=y("a"),t=v("View"),this.h()},l(l){e=N(l,"A",{href:!0,target:!0,rel:!0,class:!0});var i=T(e);t=k(i,"View"),i.forEach(_),this.h()},h(){w(e,"href",n=a[2].receipt_url),w(e,"target","_blank"),w(e,"rel","noopener noreferrer"),w(e,"class","inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring bg-primary text-primary-foreground shadow hover:bg-primary/90 h-9 px-4 py-2")},m(l,i){d(l,e,i),p(e,t)},p(l,i){i[0]&4&&n!==(n=l[2].receipt_url)&&w(e,"href",n)},d(l){l&&_(e)}}}function Yt(a){let e,t=a[5].receipt_url+"",n;return{c(){e=y("p"),n=v(t),this.h()},l(l){e=N(l,"P",{class:!0});var i=T(e);n=k(i,t),i.forEach(_),this.h()},h(){w(e,"class","text-sm text-destructive")},m(l,i){d(l,e,i),p(e,n)},p(l,i){i[0]&32&&t!==(t=l[5].receipt_url+"")&&B(n,t)},d(l){l&&_(e)}}}function ln(a){let e;return{c(){e=v("Paid By")},l(t){e=k(t,"Paid By")},m(t,n){d(t,e,n)},d(t){t&&_(e)}}}function Wt(a){let e,t=a[5].paid_by+"",n;return{c(){e=y("p"),n=v(t),this.h()},l(l){e=N(l,"P",{class:!0});var i=T(e);n=k(i,t),i.forEach(_),this.h()},h(){w(e,"class","text-sm text-destructive")},m(l,i){d(l,e,i),p(e,n)},p(l,i){i[0]&32&&t!==(t=l[5].paid_by+"")&&B(n,t)},d(l){l&&_(e)}}}function nn(a){let e;return{c(){e=v("Payment Date")},l(t){e=k(t,"Payment Date")},m(t,n){d(t,e,n)},d(t){t&&_(e)}}}function Jt(a){let e,t=a[5].paid_at+"",n;return{c(){e=y("p"),n=v(t),this.h()},l(l){e=N(l,"P",{class:!0});var i=T(e);n=k(i,t),i.forEach(_),this.h()},h(){w(e,"class","text-sm text-destructive")},m(l,i){d(l,e,i),p(e,n)},p(l,i){i[0]&32&&t!==(t=l[5].paid_at+"")&&B(n,t)},d(l){l&&_(e)}}}function an(a){let e;return{c(){e=v("Notes")},l(t){e=k(t,"Notes")},m(t,n){d(t,e,n)},d(t){t&&_(e)}}}function Qt(a){let e,t=a[5].notes+"",n;return{c(){e=y("p"),n=v(t),this.h()},l(l){e=N(l,"P",{class:!0});var i=T(e);n=k(i,t),i.forEach(_),this.h()},h(){w(e,"class","text-sm text-destructive")},m(l,i){d(l,e,i),p(e,n)},p(l,i){i[0]&32&&t!==(t=l[5].notes+"")&&B(n,t)},d(l){l&&_(e)}}}function sn(a){let e;return{c(){e=v("Create Payment")},l(t){e=k(t,"Create Payment")},m(t,n){d(t,e,n)},d(t){t&&_(e)}}}function rn(a){let e;return{c(){e=v("Update Payment")},l(t){e=k(t,"Update Payment")},m(t,n){d(t,e,n)},d(t){t&&_(e)}}}function fn(a){let e;return{c(){e=v("Processing...")},l(t){e=k(t,"Processing...")},m(t,n){d(t,e,n)},d(t){t&&_(e)}}}function un(a){let e;function t(i,s){return i[6]?fn:i[1]?rn:sn}let n=t(a),l=n(a);return{c(){l.c(),e=q()},l(i){l.l(i),e=q()},m(i,s){l.m(i,s),d(i,e,s)},p(i,s){n!==(n=t(i))&&(l.d(1),l=n(i),l&&(l.c(),l.m(e.parentNode,e)))},d(i){i&&_(e),l.d(i)}}}function on(a){var It;let e,t,n,l,i,s,f,r,u,o,m,b,I,P,L,G,de,O,M,ae,se,he,re,H,ne,ve,g,$e,z,F,j,fe,Ne,ue,ie,Fe,Xe,Ze,xe,oe,Ie,et,ke,tt,lt,nt,ce,De,it,we,at,st,rt,_e,Se,ft,Ee,ut,ot,ct,je,Ve,Qe,Ke,_t,wt,K=a[1]&&Mt(a);l=new Re({props:{for:"billing_id",$$slots:{default:[Rl]},$$scope:{ctx:a}}}),s=new Tt({props:{$$slots:{default:[Ul]},$$scope:{ctx:a}}});let Y=a[5].billing_id&&Ft(a);o=new Re({props:{for:"amount",$$slots:{default:[ql]},$$scope:{ctx:a}}});function pl(c){a[15](c)}let Et={type:"number",id:"amount",name:"amount",min:"0",step:"0.01",disabled:!a[4],style:a[2].amount>(((It=a[3])==null?void 0:It.balance)||0)?"border-color: var(--destructive)":""};a[2].amount!==void 0&&(Et.value=a[2].amount),I=new Je({props:Et}),Ue.push(()=>Ge(I,"value",pl));let W=a[5].amount&&jt(a),J=a[3]&&Ut(a);M=new Re({props:{for:"method",$$slots:{default:[Gl]},$$scope:{ctx:a}}}),se=new Tt({props:{$$slots:{default:[xl]},$$scope:{ctx:a}}});let Q=a[5].method&&Ot(a);ne=new Re({props:{for:"reference_number",$$slots:{default:[en]},$$scope:{ctx:a}}});function dl(c){a[17](c)}let Ct={type:"text",id:"reference_number",name:"reference_number",disabled:!a[4],placeholder:"Enter reference number"};a[2].reference_number!==void 0&&(Ct.value=a[2].reference_number),g=new Je({props:Ct}),Ue.push(()=>Ge(g,"value",dl));let X=a[5].reference_number&&zt(a);fe=new Re({props:{for:"receipt_url",$$slots:{default:[tn]},$$scope:{ctx:a}}});function $l(c){a[18](c)}let At={type:"url",id:"receipt_url",name:"receipt_url",placeholder:"https://example.com/receipt.pdf",disabled:!a[4]};a[2].receipt_url!==void 0&&(At.value=a[2].receipt_url),ie=new Je({props:At}),Ue.push(()=>Ge(ie,"value",$l));let Z=a[2].receipt_url&&Kt(a),x=a[5].receipt_url&&Yt(a);Ie=new Re({props:{for:"paid_by",$$slots:{default:[ln]},$$scope:{ctx:a}}});function gl(c){a[19](c)}let Pt={type:"text",id:"paid_by",name:"paid_by",disabled:!a[4],placeholder:"Enter payer's name"};a[2].paid_by!==void 0&&(Pt.value=a[2].paid_by),ke=new Je({props:Pt}),Ue.push(()=>Ge(ke,"value",gl));let ee=a[5].paid_by&&Wt(a);De=new Re({props:{for:"paid_at",$$slots:{default:[nn]},$$scope:{ctx:a}}});function bl(c){a[20](c)}let yt={type:"datetime-local",id:"paid_at",name:"paid_at",disabled:!a[4]};a[2].paid_at!==void 0&&(yt.value=a[2].paid_at),we=new Je({props:yt}),Ue.push(()=>Ge(we,"value",bl));let te=a[5].paid_at&&Jt(a);Se=new Re({props:{for:"notes",$$slots:{default:[an]},$$scope:{ctx:a}}});function hl(c){a[21](c)}let Nt={id:"notes",name:"notes",rows:cn,disabled:!a[4],placeholder:"Enter any additional notes"};a[2].notes!==void 0&&(Nt.value=a[2].notes),Ee=new Al({props:Nt}),Ue.push(()=>Ge(Ee,"value",hl));let le=a[5].notes&&Qt(a);return Ve=new vt({props:{type:"submit",disabled:!a[4]||a[6],$$slots:{default:[un]},$$scope:{ctx:a}}}),{c(){e=y("form"),K&&K.c(),t=C(),n=y("div"),D(l.$$.fragment),i=C(),D(s.$$.fragment),f=C(),Y&&Y.c(),r=C(),u=y("div"),D(o.$$.fragment),m=C(),b=y("div"),D(I.$$.fragment),L=C(),W&&W.c(),G=C(),J&&J.c(),de=C(),O=y("div"),D(M.$$.fragment),ae=C(),D(se.$$.fragment),he=C(),Q&&Q.c(),re=C(),H=y("div"),D(ne.$$.fragment),ve=C(),D(g.$$.fragment),z=C(),X&&X.c(),F=C(),j=y("div"),D(fe.$$.fragment),Ne=C(),ue=y("div"),D(ie.$$.fragment),Xe=C(),Z&&Z.c(),Ze=C(),x&&x.c(),xe=C(),oe=y("div"),D(Ie.$$.fragment),et=C(),D(ke.$$.fragment),lt=C(),ee&&ee.c(),nt=C(),ce=y("div"),D(De.$$.fragment),it=C(),D(we.$$.fragment),st=C(),te&&te.c(),rt=C(),_e=y("div"),D(Se.$$.fragment),ft=C(),D(Ee.$$.fragment),ot=C(),le&&le.c(),ct=C(),je=y("div"),D(Ve.$$.fragment),this.h()},l(c){e=N(c,"FORM",{method:!0,action:!0,class:!0});var $=T(e);K&&K.l($),t=A($),n=N($,"DIV",{class:!0});var Ce=T(n);S(l.$$.fragment,Ce),i=A(Ce),S(s.$$.fragment,Ce),f=A(Ce),Y&&Y.l(Ce),Ce.forEach(_),r=A($),u=N($,"DIV",{class:!0});var me=T(u);S(o.$$.fragment,me),m=A(me),b=N(me,"DIV",{class:!0});var Ye=T(b);S(I.$$.fragment,Ye),Ye.forEach(_),L=A(me),W&&W.l(me),G=A(me),J&&J.l(me),me.forEach(_),de=A($),O=N($,"DIV",{class:!0});var pe=T(O);S(M.$$.fragment,pe),ae=A(pe),S(se.$$.fragment,pe),he=A(pe),Q&&Q.l(pe),pe.forEach(_),re=A($),H=N($,"DIV",{class:!0});var Ae=T(H);S(ne.$$.fragment,Ae),ve=A(Ae),S(g.$$.fragment,Ae),z=A(Ae),X&&X.l(Ae),Ae.forEach(_),F=A($),j=N($,"DIV",{class:!0});var Pe=T(j);S(fe.$$.fragment,Pe),Ne=A(Pe),ue=N(Pe,"DIV",{class:!0});var Be=T(ue);S(ie.$$.fragment,Be),Xe=A(Be),Z&&Z.l(Be),Be.forEach(_),Ze=A(Pe),x&&x.l(Pe),Pe.forEach(_),xe=A($),oe=N($,"DIV",{class:!0});var ge=T(oe);S(Ie.$$.fragment,ge),et=A(ge),S(ke.$$.fragment,ge),lt=A(ge),ee&&ee.l(ge),ge.forEach(_),nt=A($),ce=N($,"DIV",{class:!0});var ye=T(ce);S(De.$$.fragment,ye),it=A(ye),S(we.$$.fragment,ye),st=A(ye),te&&te.l(ye),ye.forEach(_),rt=A($),_e=N($,"DIV",{class:!0});var be=T(_e);S(Se.$$.fragment,be),ft=A(be),S(Ee.$$.fragment,be),ot=A(be),le&&le.l(be),be.forEach(_),ct=A($),je=N($,"DIV",{class:!0});var We=T(je);S(Ve.$$.fragment,We),We.forEach(_),$.forEach(_),this.h()},h(){w(n,"class","space-y-2"),w(b,"class","relative"),w(u,"class","space-y-2"),w(O,"class","space-y-2"),w(H,"class","space-y-2"),w(ue,"class","flex gap-2"),w(j,"class","space-y-2"),w(oe,"class","space-y-2"),w(ce,"class","space-y-2"),w(_e,"class","space-y-2"),w(je,"class","flex justify-end"),w(e,"method","POST"),w(e,"action",Qe=a[1]?"?/update":"?/create"),w(e,"class","space-y-4 w-full max-w-xl mx-auto p-4 bg-card rounded-lg border shadow")},m(c,$){d(c,e,$),K&&K.m(e,null),p(e,t),p(e,n),V(l,n,null),p(n,i),V(s,n,null),p(n,f),Y&&Y.m(n,null),p(e,r),p(e,u),V(o,u,null),p(u,m),p(u,b),V(I,b,null),p(u,L),W&&W.m(u,null),p(u,G),J&&J.m(u,null),p(e,de),p(e,O),V(M,O,null),p(O,ae),V(se,O,null),p(O,he),Q&&Q.m(O,null),p(e,re),p(e,H),V(ne,H,null),p(H,ve),V(g,H,null),p(H,z),X&&X.m(H,null),p(e,F),p(e,j),V(fe,j,null),p(j,Ne),p(j,ue),V(ie,ue,null),p(ue,Xe),Z&&Z.m(ue,null),p(j,Ze),x&&x.m(j,null),p(e,xe),p(e,oe),V(Ie,oe,null),p(oe,et),V(ke,oe,null),p(oe,lt),ee&&ee.m(oe,null),p(e,nt),p(e,ce),V(De,ce,null),p(ce,it),V(we,ce,null),p(ce,st),te&&te.m(ce,null),p(e,rt),p(e,_e),V(Se,_e,null),p(_e,ft),V(Ee,_e,null),p(_e,ot),le&&le.m(_e,null),p(e,ct),p(e,je),V(Ve,je,null),Ke=!0,_t||(wt=vl(a[9].call(null,e)),_t=!0)},p(c,$){var Vt;c[1]?K?K.p(c,$):(K=Mt(c),K.c(),K.m(e,t)):K&&(K.d(1),K=null);const Ce={};$[1]&1&&(Ce.$$scope={dirty:$,ctx:c}),l.$set(Ce);const me={};$[0]&27|$[1]&1&&(me.$$scope={dirty:$,ctx:c}),s.$set(me),c[5].billing_id?Y?Y.p(c,$):(Y=Ft(c),Y.c(),Y.m(n,null)):Y&&(Y.d(1),Y=null);const Ye={};$[1]&1&&(Ye.$$scope={dirty:$,ctx:c}),o.$set(Ye);const pe={};$[0]&16&&(pe.disabled=!c[4]),$[0]&12&&(pe.style=c[2].amount>(((Vt=c[3])==null?void 0:Vt.balance)||0)?"border-color: var(--destructive)":""),!P&&$[0]&4&&(P=!0,pe.value=c[2].amount,qe(()=>P=!1)),I.$set(pe),c[5].amount?W?W.p(c,$):(W=jt(c),W.c(),W.m(u,G)):W&&(W.d(1),W=null),c[3]?J?J.p(c,$):(J=Ut(c),J.c(),J.m(u,null)):J&&(J.d(1),J=null);const Ae={};$[1]&1&&(Ae.$$scope={dirty:$,ctx:c}),M.$set(Ae);const Pe={};$[0]&20|$[1]&1&&(Pe.$$scope={dirty:$,ctx:c}),se.$set(Pe),c[5].method?Q?Q.p(c,$):(Q=Ot(c),Q.c(),Q.m(O,null)):Q&&(Q.d(1),Q=null);const Be={};$[1]&1&&(Be.$$scope={dirty:$,ctx:c}),ne.$set(Be);const ge={};$[0]&16&&(ge.disabled=!c[4]),!$e&&$[0]&4&&($e=!0,ge.value=c[2].reference_number,qe(()=>$e=!1)),g.$set(ge),c[5].reference_number?X?X.p(c,$):(X=zt(c),X.c(),X.m(H,null)):X&&(X.d(1),X=null);const ye={};$[1]&1&&(ye.$$scope={dirty:$,ctx:c}),fe.$set(ye);const be={};$[0]&16&&(be.disabled=!c[4]),!Fe&&$[0]&4&&(Fe=!0,be.value=c[2].receipt_url,qe(()=>Fe=!1)),ie.$set(be),c[2].receipt_url?Z?Z.p(c,$):(Z=Kt(c),Z.c(),Z.m(ue,null)):Z&&(Z.d(1),Z=null),c[5].receipt_url?x?x.p(c,$):(x=Yt(c),x.c(),x.m(j,null)):x&&(x.d(1),x=null);const We={};$[1]&1&&(We.$$scope={dirty:$,ctx:c}),Ie.$set(We);const mt={};$[0]&16&&(mt.disabled=!c[4]),!tt&&$[0]&4&&(tt=!0,mt.value=c[2].paid_by,qe(()=>tt=!1)),ke.$set(mt),c[5].paid_by?ee?ee.p(c,$):(ee=Wt(c),ee.c(),ee.m(oe,null)):ee&&(ee.d(1),ee=null);const Dt={};$[1]&1&&(Dt.$$scope={dirty:$,ctx:c}),De.$set(Dt);const pt={};$[0]&16&&(pt.disabled=!c[4]),!at&&$[0]&4&&(at=!0,pt.value=c[2].paid_at,qe(()=>at=!1)),we.$set(pt),c[5].paid_at?te?te.p(c,$):(te=Jt(c),te.c(),te.m(ce,null)):te&&(te.d(1),te=null);const St={};$[1]&1&&(St.$$scope={dirty:$,ctx:c}),Se.$set(St);const dt={};$[0]&16&&(dt.disabled=!c[4]),!ut&&$[0]&4&&(ut=!0,dt.value=c[2].notes,qe(()=>ut=!1)),Ee.$set(dt),c[5].notes?le?le.p(c,$):(le=Qt(c),le.c(),le.m(_e,null)):le&&(le.d(1),le=null);const $t={};$[0]&80&&($t.disabled=!c[4]||c[6]),$[0]&66|$[1]&1&&($t.$$scope={dirty:$,ctx:c}),Ve.$set($t),(!Ke||$[0]&2&&Qe!==(Qe=c[1]?"?/update":"?/create"))&&w(e,"action",Qe)},i(c){Ke||(h(l.$$.fragment,c),h(s.$$.fragment,c),h(o.$$.fragment,c),h(I.$$.fragment,c),h(M.$$.fragment,c),h(se.$$.fragment,c),h(ne.$$.fragment,c),h(g.$$.fragment,c),h(fe.$$.fragment,c),h(ie.$$.fragment,c),h(Ie.$$.fragment,c),h(ke.$$.fragment,c),h(De.$$.fragment,c),h(we.$$.fragment,c),h(Se.$$.fragment,c),h(Ee.$$.fragment,c),h(Ve.$$.fragment,c),Ke=!0)},o(c){E(l.$$.fragment,c),E(s.$$.fragment,c),E(o.$$.fragment,c),E(I.$$.fragment,c),E(M.$$.fragment,c),E(se.$$.fragment,c),E(ne.$$.fragment,c),E(g.$$.fragment,c),E(fe.$$.fragment,c),E(ie.$$.fragment,c),E(Ie.$$.fragment,c),E(ke.$$.fragment,c),E(De.$$.fragment,c),E(we.$$.fragment,c),E(Se.$$.fragment,c),E(Ee.$$.fragment,c),E(Ve.$$.fragment,c),Ke=!1},d(c){c&&_(e),K&&K.d(),R(l),R(s),Y&&Y.d(),R(o),R(I),W&&W.d(),J&&J.d(),R(M),R(se),Q&&Q.d(),R(ne),R(g),X&&X.d(),R(fe),R(ie),Z&&Z.d(),x&&x.d(),R(Ie),R(ke),ee&&ee.d(),R(De),R(we),te&&te.d(),R(Se),R(Ee),le&&le.d(),R(Ve),_t=!1,wt()}}}const cn=3;function bt(a){switch(a){case"CASH":return"default";case"BANK":return"secondary";case"GCASH":return"outline";default:return"destructive"}}function ze(a){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(a)}function _n(a,e,t){let n,l,i,s,f,{data:r}=e,{billings:u=[]}=e,{editMode:o=!1}=e,{payment:m=void 0}=e;const b=kl(),{form:I,errors:P,enhance:L,submitting:G,reset:de}=El(r.form,{id:"paymentForm",validators:Cl(Vl),resetForm:!0,taintedMessage:null,onResult:({result:g})=>{g.type==="success"&&(b("paymentAdded"),de())}});gt(a,I,g=>t(2,i=g)),gt(a,P,g=>t(5,s=g)),gt(a,G,g=>t(6,f=g));function O(){i.id=this.value,I.set(i)}const M=g=>I.update($e=>({...$e,billing_id:g.id}));function ae(g){a.$$.not_equal(i.amount,g)&&(i.amount=g,I.set(i))}const se=g=>I.update($e=>({...$e,method:g}));function he(g){a.$$.not_equal(i.reference_number,g)&&(i.reference_number=g,I.set(i))}function re(g){a.$$.not_equal(i.receipt_url,g)&&(i.receipt_url=g,I.set(i))}function H(g){a.$$.not_equal(i.paid_by,g)&&(i.paid_by=g,I.set(i))}function ne(g){a.$$.not_equal(i.paid_at,g)&&(i.paid_at=g,I.set(i))}function ve(g){a.$$.not_equal(i.notes,g)&&(i.notes=g,I.set(i))}return a.$$set=g=>{"data"in g&&t(11,r=g.data),"billings"in g&&t(0,u=g.billings),"editMode"in g&&t(1,o=g.editMode),"payment"in g&&t(12,m=g.payment)},a.$$.update=()=>{a.$$.dirty[0]&4098&&m&&o&&I.set({...m}),a.$$.dirty[0]&2048&&t(4,n=r.isAdminLevel||r.isAccountant||r.isFrontdesk),a.$$.dirty[0]&2048&&(r.isAdminLevel||r.isAccountant),a.$$.dirty[0]&5&&t(3,l=u.find(g=>g.id===i.billing_id))},[u,o,i,l,n,s,f,I,P,L,G,r,m,O,M,ae,se,he,re,H,ne,ve]}class mn extends rl{constructor(e){super(),fl(this,e,_n,on,sl,{data:11,billings:0,editMode:1,payment:12},null,[-1,-1])}}function Xt(a,e,t){const n=a.slice();return n[8]=e[t],n}function pn(a){let e,t,n=a[2]?"Edit":"Create",l,i,s,f,r,u,o;return f=new vt({props:{variant:"outline",$$slots:{default:[$n]},$$scope:{ctx:a}}}),f.$on("click",a[7]),u=new mn({props:{data:a[0],billings:a[0].billings??[],editMode:!!a[2],payment:a[2]}}),u.$on("paymentAdded",a[4]),{c(){e=y("div"),t=y("h1"),l=v(n),i=v(" Payment"),s=C(),D(f.$$.fragment),r=C(),D(u.$$.fragment),this.h()},l(m){e=N(m,"DIV",{class:!0});var b=T(e);t=N(b,"H1",{class:!0});var I=T(t);l=k(I,n),i=k(I," Payment"),I.forEach(_),s=A(b),S(f.$$.fragment,b),b.forEach(_),r=A(m),S(u.$$.fragment,m),this.h()},h(){w(t,"class","text-2xl font-bold"),w(e,"class","flex justify-between items-center")},m(m,b){d(m,e,b),p(e,t),p(t,l),p(t,i),p(e,s),V(f,e,null),d(m,r,b),V(u,m,b),o=!0},p(m,b){(!o||b&4)&&n!==(n=m[2]?"Edit":"Create")&&B(l,n);const I={};b&2048&&(I.$$scope={dirty:b,ctx:m}),f.$set(I);const P={};b&1&&(P.data=m[0]),b&1&&(P.billings=m[0].billings??[]),b&4&&(P.editMode=!!m[2]),b&4&&(P.payment=m[2]),u.$set(P)},i(m){o||(h(f.$$.fragment,m),h(u.$$.fragment,m),o=!0)},o(m){E(f.$$.fragment,m),E(u.$$.fragment,m),o=!1},d(m){m&&(_(e),_(r)),R(f),R(u,m)}}}function dn(a){let e,t,n="Payments",l,i,s,f,r,u,o=(a[0].isAdminLevel||a[0].isAccountant||a[0].isFrontdesk||a[0].isResident)&&Zt(a);const m=[hn,bn],b=[];function I(P,L){return P[0].payments?0:1}return s=I(a),f=b[s]=m[s](a),{c(){e=y("div"),t=y("h1"),t.textContent=n,l=C(),o&&o.c(),i=C(),f.c(),r=q(),this.h()},l(P){e=N(P,"DIV",{class:!0});var L=T(e);t=N(L,"H1",{class:!0,"data-svelte-h":!0}),Te(t)!=="svelte-1n3kx7h"&&(t.textContent=n),l=A(L),o&&o.l(L),L.forEach(_),i=A(P),f.l(P),r=q(),this.h()},h(){w(t,"class","text-2xl font-bold"),w(e,"class","flex justify-between items-center")},m(P,L){d(P,e,L),p(e,t),p(e,l),o&&o.m(e,null),d(P,i,L),b[s].m(P,L),d(P,r,L),u=!0},p(P,L){P[0].isAdminLevel||P[0].isAccountant||P[0].isFrontdesk||P[0].isResident?o?(o.p(P,L),L&1&&h(o,1)):(o=Zt(P),o.c(),h(o,1),o.m(e,null)):o&&(Me(),E(o,1,1,()=>{o=null}),He());let G=s;s=I(P),s===G?b[s].p(P,L):(Me(),E(b[G],1,1,()=>{b[G]=null}),He(),f=b[s],f?f.p(P,L):(f=b[s]=m[s](P),f.c()),h(f,1),f.m(r.parentNode,r))},i(P){u||(h(o),h(f),u=!0)},o(P){E(o),E(f),u=!1},d(P){P&&(_(e),_(i),_(r)),o&&o.d(),b[s].d(P)}}}function $n(a){let e;return{c(){e=v("Cancel")},l(t){e=k(t,"Cancel")},m(t,n){d(t,e,n)},d(t){t&&_(e)}}}function Zt(a){let e,t;return e=new vt({props:{$$slots:{default:[gn]},$$scope:{ctx:a}}}),e.$on("click",a[5]),{c(){D(e.$$.fragment)},l(n){S(e.$$.fragment,n)},m(n,l){V(e,n,l),t=!0},p(n,l){const i={};l&2048&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){R(e,n)}}}function gn(a){let e;return{c(){e=v("Create Payment")},l(t){e=k(t,"Create Payment")},m(t,n){d(t,e,n)},d(t){t&&_(e)}}}function bn(a){let e,t="No payments found";return{c(){e=y("div"),e.textContent=t,this.h()},l(n){e=N(n,"DIV",{class:!0,"data-svelte-h":!0}),Te(e)!=="svelte-12nr9ed"&&(e.textContent=t),this.h()},h(){w(e,"class","text-center py-8 text-muted-foreground")},m(n,l){d(n,e,l)},p:Le,i:Le,o:Le,d(n){n&&_(e)}}}function hn(a){let e,t,n=Oe(a[0].payments),l=[];for(let s=0;s<n.length;s+=1)l[s]=nl(Xt(a,n,s));const i=s=>E(l[s],1,1,()=>{l[s]=null});return{c(){e=y("div");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=N(s,"DIV",{class:!0});var f=T(e);for(let r=0;r<l.length;r+=1)l[r].l(f);f.forEach(_),this.h()},h(){w(e,"class","grid gap-4 md:grid-cols-2 lg:grid-cols-3")},m(s,f){d(s,e,f);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null);t=!0},p(s,f){if(f&9){n=Oe(s[0].payments);let r;for(r=0;r<n.length;r+=1){const u=Xt(s,n,r);l[r]?(l[r].p(u,f),h(l[r],1)):(l[r]=nl(u),l[r].c(),h(l[r],1),l[r].m(e,null))}for(Me(),r=n.length;r<l.length;r+=1)i(r);He()}},i(s){if(!t){for(let f=0;f<n.length;f+=1)h(l[f]);t=!0}},o(s){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)E(l[f]);t=!1},d(s){s&&_(e),ht(l,s)}}}function vn(a){var n;let e=((n=a[8].billing)==null?void 0:n.status)+"",t;return{c(){t=v(e)},l(l){t=k(l,e)},m(l,i){d(l,t,i)},p(l,i){var s;i&1&&e!==(e=((s=l[8].billing)==null?void 0:s.status)+"")&&B(t,e)},d(l){l&&_(t)}}}function kn(a){var s,f,r;let e=(((f=(s=a[8].billing)==null?void 0:s.lease)==null?void 0:f.name)??"Unknown")+"",t,n,l,i;return l=new kt({props:{variant:al((r=a[8].billing)==null?void 0:r.status),$$slots:{default:[vn]},$$scope:{ctx:a}}}),{c(){t=v(e),n=C(),D(l.$$.fragment)},l(u){t=k(u,e),n=A(u),S(l.$$.fragment,u)},m(u,o){d(u,t,o),d(u,n,o),V(l,u,o),i=!0},p(u,o){var b,I,P;(!i||o&1)&&e!==(e=(((I=(b=u[8].billing)==null?void 0:b.lease)==null?void 0:I.name)??"Unknown")+"")&&B(t,e);const m={};o&1&&(m.variant=al((P=u[8].billing)==null?void 0:P.status)),o&2049&&(m.$$scope={dirty:o,ctx:u}),l.$set(m)},i(u){i||(h(l.$$.fragment,u),i=!0)},o(u){E(l.$$.fragment,u),i=!1},d(u){u&&(_(t),_(n)),R(l,u)}}}function xt(a){let e,t=a[8].billing.utility_type+"",n;return{c(){e=v("- "),n=v(t)},l(l){e=k(l,"- "),n=k(l,t)},m(l,i){d(l,e,i),d(l,n,i)},p(l,i){i&1&&t!==(t=l[8].billing.utility_type+"")&&B(n,t)},d(l){l&&(_(e),_(n))}}}function wn(a){var s,f;let e=((s=a[8].billing)==null?void 0:s.type)+"",t,n,l,i=((f=a[8].billing)==null?void 0:f.utility_type)&&xt(a);return{c(){t=v(e),n=C(),i&&i.c(),l=q()},l(r){t=k(r,e),n=A(r),i&&i.l(r),l=q()},m(r,u){d(r,t,u),d(r,n,u),i&&i.m(r,u),d(r,l,u)},p(r,u){var o,m;u&1&&e!==(e=((o=r[8].billing)==null?void 0:o.type)+"")&&B(t,e),(m=r[8].billing)!=null&&m.utility_type?i?i.p(r,u):(i=xt(r),i.c(),i.m(l.parentNode,l)):i&&(i.d(1),i=null)},d(r){r&&(_(t),_(n),_(l)),i&&i.d(r)}}}function En(a){let e,t,n,l;return e=new Dl({props:{class:"flex justify-between items-center",$$slots:{default:[kn]},$$scope:{ctx:a}}}),n=new Nl({props:{$$slots:{default:[wn]},$$scope:{ctx:a}}}),{c(){D(e.$$.fragment),t=C(),D(n.$$.fragment)},l(i){S(e.$$.fragment,i),t=A(i),S(n.$$.fragment,i)},m(i,s){V(e,i,s),d(i,t,s),V(n,i,s),l=!0},p(i,s){const f={};s&2049&&(f.$$scope={dirty:s,ctx:i}),e.$set(f);const r={};s&2049&&(r.$$scope={dirty:s,ctx:i}),n.$set(r)},i(i){l||(h(e.$$.fragment,i),h(n.$$.fragment,i),l=!0)},o(i){E(e.$$.fragment,i),E(n.$$.fragment,i),l=!1},d(i){i&&_(t),R(e,i),R(n,i)}}}function el(a){let e,t,n="Rental_unit:",l,i,s=a[8].billing.rental_unit.rental_unit_number+"",f,r,u=a[8].billing.rental_unit.floor&&tl(a);return{c(){e=y("div"),t=y("span"),t.textContent=n,l=C(),i=y("span"),f=v(s),r=C(),u&&u.c(),this.h()},l(o){e=N(o,"DIV",{class:!0});var m=T(e);t=N(m,"SPAN",{class:!0,"data-svelte-h":!0}),Te(t)!=="svelte-1ozu0dp"&&(t.textContent=n),l=A(m),i=N(m,"SPAN",{class:!0});var b=T(i);f=k(b,s),r=A(b),u&&u.l(b),b.forEach(_),m.forEach(_),this.h()},h(){w(t,"class","text-muted-foreground"),w(i,"class","font-medium"),w(e,"class","flex justify-between")},m(o,m){d(o,e,m),p(e,t),p(e,l),p(e,i),p(i,f),p(i,r),u&&u.m(i,null)},p(o,m){m&1&&s!==(s=o[8].billing.rental_unit.rental_unit_number+"")&&B(f,s),o[8].billing.rental_unit.floor?u?u.p(o,m):(u=tl(o),u.c(),u.m(i,null)):u&&(u.d(1),u=null)},d(o){o&&_(e),u&&u.d()}}}function tl(a){let e,t=a[8].billing.rental_unit.floor.floor_number+"",n,l,i,s=a[8].billing.rental_unit.floor.wing&&ll(a);return{c(){e=v("- Floor "),n=v(t),l=C(),s&&s.c(),i=q()},l(f){e=k(f,"- Floor "),n=k(f,t),l=A(f),s&&s.l(f),i=q()},m(f,r){d(f,e,r),d(f,n,r),d(f,l,r),s&&s.m(f,r),d(f,i,r)},p(f,r){r&1&&t!==(t=f[8].billing.rental_unit.floor.floor_number+"")&&B(n,t),f[8].billing.rental_unit.floor.wing?s?s.p(f,r):(s=ll(f),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d(f){f&&(_(e),_(n),_(l),_(i)),s&&s.d(f)}}}function ll(a){let e,t=a[8].billing.rental_unit.floor.wing+"",n;return{c(){e=v("Wing "),n=v(t)},l(l){e=k(l,"Wing "),n=k(l,t)},m(l,i){d(l,e,i),d(l,n,i)},p(l,i){i&1&&t!==(t=l[8].billing.rental_unit.floor.wing+"")&&B(n,t)},d(l){l&&(_(e),_(n))}}}function Cn(a){var $e;let e,t,n,l="Amount:",i,s,f,r=a[8].amount+"",u,o,m,b,I="Method:",P,L,G=a[8].method+"",de,O,M,ae,se="Date:",he,re,H=new Date(a[8].paid_at).toLocaleDateString()+"",ne,ve,g=(($e=a[8].billing)==null?void 0:$e.rental_unit)&&el(a);return{c(){e=y("div"),t=y("div"),n=y("span"),n.textContent=l,i=C(),s=y("span"),f=v("$"),u=v(r),o=C(),m=y("div"),b=y("span"),b.textContent=I,P=C(),L=y("span"),de=v(G),O=C(),M=y("div"),ae=y("span"),ae.textContent=se,he=C(),re=y("span"),ne=v(H),ve=C(),g&&g.c(),this.h()},l(z){e=N(z,"DIV",{class:!0});var F=T(e);t=N(F,"DIV",{class:!0});var j=T(t);n=N(j,"SPAN",{class:!0,"data-svelte-h":!0}),Te(n)!=="svelte-zt38xe"&&(n.textContent=l),i=A(j),s=N(j,"SPAN",{class:!0});var fe=T(s);f=k(fe,"$"),u=k(fe,r),fe.forEach(_),j.forEach(_),o=A(F),m=N(F,"DIV",{class:!0});var Ne=T(m);b=N(Ne,"SPAN",{class:!0,"data-svelte-h":!0}),Te(b)!=="svelte-7c89cj"&&(b.textContent=I),P=A(Ne),L=N(Ne,"SPAN",{class:!0});var ue=T(L);de=k(ue,G),ue.forEach(_),Ne.forEach(_),O=A(F),M=N(F,"DIV",{class:!0});var ie=T(M);ae=N(ie,"SPAN",{class:!0,"data-svelte-h":!0}),Te(ae)!=="svelte-18ak01e"&&(ae.textContent=se),he=A(ie),re=N(ie,"SPAN",{class:!0});var Fe=T(re);ne=k(Fe,H),Fe.forEach(_),ie.forEach(_),ve=A(F),g&&g.l(F),F.forEach(_),this.h()},h(){w(n,"class","text-muted-foreground"),w(s,"class","font-medium"),w(t,"class","flex justify-between"),w(b,"class","text-muted-foreground"),w(L,"class","font-medium"),w(m,"class","flex justify-between"),w(ae,"class","text-muted-foreground"),w(re,"class","font-medium"),w(M,"class","flex justify-between"),w(e,"class","space-y-2")},m(z,F){d(z,e,F),p(e,t),p(t,n),p(t,i),p(t,s),p(s,f),p(s,u),p(e,o),p(e,m),p(m,b),p(m,P),p(m,L),p(L,de),p(e,O),p(e,M),p(M,ae),p(M,he),p(M,re),p(re,ne),p(e,ve),g&&g.m(e,null)},p(z,F){var j;F&1&&r!==(r=z[8].amount+"")&&B(u,r),F&1&&G!==(G=z[8].method+"")&&B(de,G),F&1&&H!==(H=new Date(z[8].paid_at).toLocaleDateString()+"")&&B(ne,H),(j=z[8].billing)!=null&&j.rental_unit?g?g.p(z,F):(g=el(z),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},d(z){z&&_(e),g&&g.d()}}}function An(a){let e,t,n,l,i;return e=new Il({props:{$$slots:{default:[En]},$$scope:{ctx:a}}}),n=new yl({props:{$$slots:{default:[Cn]},$$scope:{ctx:a}}}),{c(){D(e.$$.fragment),t=C(),D(n.$$.fragment),l=C()},l(s){S(e.$$.fragment,s),t=A(s),S(n.$$.fragment,s),l=A(s)},m(s,f){V(e,s,f),d(s,t,f),V(n,s,f),d(s,l,f),i=!0},p(s,f){const r={};f&2049&&(r.$$scope={dirty:f,ctx:s}),e.$set(r);const u={};f&2049&&(u.$$scope={dirty:f,ctx:s}),n.$set(u)},i(s){i||(h(e.$$.fragment,s),h(n.$$.fragment,s),i=!0)},o(s){E(e.$$.fragment,s),E(n.$$.fragment,s),i=!1},d(s){s&&(_(t),_(l)),R(e,s),R(n,s)}}}function nl(a){let e,t;function n(){return a[6](a[8])}return e=new Pl({props:{class:"cursor-pointer",$$slots:{default:[An]},$$scope:{ctx:a}}}),e.$on("click",n),{c(){D(e.$$.fragment)},l(l){S(e.$$.fragment,l)},m(l,i){V(e,l,i),t=!0},p(l,i){a=l;const s={};i&2049&&(s.$$scope={dirty:i,ctx:a}),e.$set(s)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){R(e,l)}}}function il(a){let e,t='<p class="text-yellow-800">You are viewing this page in read-only mode. Contact an administrator if you need to make changes.</p>';return{c(){e=y("div"),e.innerHTML=t,this.h()},l(n){e=N(n,"DIV",{class:!0,"data-svelte-h":!0}),Te(e)!=="svelte-dzu69c"&&(e.innerHTML=t),this.h()},h(){w(e,"class","mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg")},m(n,l){d(n,e,l)},d(n){n&&_(e)}}}function Pn(a){let e,t,n,l,i,s;const f=[dn,pn],r=[];function u(m,b){return m[1]?1:0}t=u(a),n=r[t]=f[t](a);let o=!a[0].isAdminLevel&&!a[0].isAccountant&&!a[0].isFrontdesk&&!a[0].isResident&&il();return{c(){e=y("div"),n.c(),l=C(),o&&o.c(),i=q(),this.h()},l(m){e=N(m,"DIV",{class:!0});var b=T(e);n.l(b),b.forEach(_),l=A(m),o&&o.l(m),i=q(),this.h()},h(){w(e,"class","space-y-4")},m(m,b){d(m,e,b),r[t].m(e,null),d(m,l,b),o&&o.m(m,b),d(m,i,b),s=!0},p(m,[b]){let I=t;t=u(m),t===I?r[t].p(m,b):(Me(),E(r[I],1,1,()=>{r[I]=null}),He(),n=r[t],n?n.p(m,b):(n=r[t]=f[t](m),n.c()),h(n,1),n.m(e,null)),!m[0].isAdminLevel&&!m[0].isAccountant&&!m[0].isFrontdesk&&!m[0].isResident?o||(o=il(),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},i(m){s||(h(n),s=!0)},o(m){E(n),s=!1},d(m){m&&(_(e),_(l),_(i)),r[t].d(),o&&o.d(m)}}}function al(a){switch(a){case"PAID":return"default";case"PENDING":return"secondary";case"PARTIAL":return"outline";case"OVERDUE":return"destructive";default:return"outline"}}function yn(a,e,t){let{data:n}=e,l=!1,i;function s(m){(n.isAdminLevel||n.isAccountant||n.isFrontdesk)&&(t(2,i=m),t(1,l=!0))}function f(){t(1,l=!1),t(2,i=void 0)}const r=()=>{t(1,l=!0),t(2,i=void 0)},u=m=>s(m),o=()=>{t(1,l=!1),t(2,i=void 0)};return a.$$set=m=>{"data"in m&&t(0,n=m.data)},[n,l,i,s,f,r,u,o]}class zn extends rl{constructor(e){super(),fl(this,e,yn,Pn,sl,{data:0})}}export{zn as component};
