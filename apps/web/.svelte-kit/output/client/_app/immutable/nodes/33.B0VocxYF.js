import{s as ye,a as c,t as R,b as A,f as d,g as y,h as z,d as i,j as V,p as Y,k as h,i as q,l as a,m as K,n as te,z as Ce}from"../chunks/scheduler.Bl--k1HL.js";import{e as ae}from"../chunks/each.En5UpT5R.js";import{S as ke,i as De}from"../chunks/index.DR8de1tj.js";import{R as Ee}from"../chunks/roleConfig.DlmfXarb.js";function de(s,e,l){const t=s.slice();return t[4]=e[l],t}function fe(s,e,l){const t=s.slice();return t[7]=e[l].path,t[8]=e[l].label,t}function he(s){let e,l,t=s[0].profile.org_id+"",o;return{c(){e=c("p"),l=R("Organization ID: "),o=R(t),this.h()},l(f){e=d(f,"P",{class:!0});var r=y(e);l=z(r,"Organization ID: "),o=z(r,t),r.forEach(i),this.h()},h(){h(e,"class","text-gray-600")},m(f,r){q(f,e,r),a(e,l),a(e,o)},p(f,r){r&1&&t!==(t=f[0].profile.org_id+"")&&K(o,t)},d(f){f&&i(e)}}}function ue(s){let e,l,t=s[8]+"",o,f;return{c(){e=c("a"),l=c("h3"),o=R(t),f=A(),this.h()},l(r){e=d(r,"A",{href:!0,class:!0});var v=y(e);l=d(v,"H3",{class:!0});var b=y(l);o=z(b,t),b.forEach(i),f=V(v),v.forEach(i),this.h()},h(){h(l,"class","text-lg font-semibold mb-1"),h(e,"href",s[7].replace("/**","")),h(e,"class","block p-4 bg-muted hover:bg-muted/80 rounded-lg transition-colors duration-200")},m(r,v){q(r,e,v),a(e,l),a(l,o),a(e,f)},p:te,d(r){r&&i(e)}}}function Ie(s){let e,l="<p>No ID cards generated yet.</p>";return{c(){e=c("div"),e.innerHTML=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-1yc40kp"&&(e.innerHTML=l),this.h()},h(){h(e,"class","bg-white rounded-lg shadow-md p-6 text-center text-gray-500")},m(t,o){q(t,e,o)},p:te,d(t){t&&i(e)}}}function Te(s){let e,l,t="Recent ID Cards",o,f,r,v,b='<tr class="bg-muted"><th class="px-4 py-2 text-left">ID</th> <th class="px-4 py-2 text-left">ID Number</th> <th class="px-4 py-2 text-left">Name</th> <th class="px-4 py-2 text-left">Created At</th> <th class="px-4 py-2 text-left">Has Images</th></tr>',j,P,L=ae(s[0].recentCards),_=[];for(let m=0;m<L.length;m+=1)_[m]=ve(de(s,L,m));return{c(){e=c("div"),l=c("h2"),l.textContent=t,o=A(),f=c("div"),r=c("table"),v=c("thead"),v.innerHTML=b,j=A(),P=c("tbody");for(let m=0;m<_.length;m+=1)_[m].c();this.h()},l(m){e=d(m,"DIV",{class:!0});var x=y(e);l=d(x,"H2",{class:!0,"data-svelte-h":!0}),Y(l)!=="svelte-1ocdpnv"&&(l.textContent=t),o=V(x),f=d(x,"DIV",{class:!0});var n=y(f);r=d(n,"TABLE",{class:!0});var k=y(r);v=d(k,"THEAD",{"data-svelte-h":!0}),Y(v)!=="svelte-o00ae4"&&(v.innerHTML=b),j=V(k),P=d(k,"TBODY",{});var F=y(P);for(let M=0;M<_.length;M+=1)_[M].l(F);F.forEach(i),k.forEach(i),n.forEach(i),x.forEach(i),this.h()},h(){h(l,"class","text-2xl font-bold mb-4"),h(r,"class","min-w-full table-auto"),h(f,"class","overflow-x-auto"),h(e,"class","card-content bg-white rounded-lg shadow-md p-6")},m(m,x){q(m,e,x),a(e,l),a(e,o),a(e,f),a(f,r),a(r,v),a(r,j),a(r,P);for(let n=0;n<_.length;n+=1)_[n]&&_[n].m(P,null)},p(m,x){if(x&1){L=ae(m[0].recentCards);let n;for(n=0;n<L.length;n+=1){const k=de(m,L,n);_[n]?_[n].p(k,x):(_[n]=ve(k),_[n].c(),_[n].m(P,null))}for(;n<_.length;n+=1)_[n].d(1);_.length=L.length}},d(m){m&&i(e),Ce(_,m)}}}function we(s){let e,l="<p>Error loading recent activity. Please try again later.</p>";return{c(){e=c("div"),e.innerHTML=l,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-10z42rt"&&(e.innerHTML=l),this.h()},h(){h(e,"class","bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-8")},m(t,o){q(t,e,o)},p:te,d(t){t&&i(e)}}}function _e(s){let e,l="Front";return{c(){e=c("span"),e.textContent=l,this.h()},l(t){e=d(t,"SPAN",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-g5ev0i"&&(e.textContent=l),this.h()},h(){h(e,"class","px-2 py-1 text-sm bg-green-100 text-green-800 rounded-full")},m(t,o){q(t,e,o)},d(t){t&&i(e)}}}function me(s){let e,l="Back";return{c(){e=c("span"),e.textContent=l,this.h()},l(t){e=d(t,"SPAN",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-n9be00"&&(e.textContent=l),this.h()},h(){h(e,"class","px-2 py-1 text-sm bg-green-100 text-green-800 rounded-full")},m(t,o){q(t,e,o)},d(t){t&&i(e)}}}function pe(s){let e,l="No Images";return{c(){e=c("span"),e.textContent=l,this.h()},l(t){e=d(t,"SPAN",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-jobszw"&&(e.textContent=l),this.h()},h(){h(e,"class","px-2 py-1 text-sm bg-gray-100 text-gray-800 rounded-full")},m(t,o){q(t,e,o)},d(t){t&&i(e)}}}function ve(s){let e,l,t=s[4].id+"",o,f,r,v=be(s[4].data)+"",b,j,P,L=xe(s[4].data)+"",_,m,x,n=ge(s[4].created_at)+"",k,F,M,D,W,Q,G,g=s[4].front_image&&_e(),C=s[4].back_image&&me(),T=!s[4].front_image&&!s[4].back_image&&pe();return{c(){e=c("tr"),l=c("td"),o=R(t),f=A(),r=c("td"),b=R(v),j=A(),P=c("td"),_=R(L),m=A(),x=c("td"),k=R(n),F=A(),M=c("td"),D=c("div"),g&&g.c(),W=A(),C&&C.c(),Q=A(),T&&T.c(),G=A(),this.h()},l(w){e=d(w,"TR",{class:!0});var p=y(e);l=d(p,"TD",{class:!0});var X=y(l);o=z(X,t),X.forEach(i),f=V(p),r=d(p,"TD",{class:!0});var I=y(r);b=z(I,v),I.forEach(i),j=V(p),P=d(p,"TD",{class:!0});var U=y(P);_=z(U,L),U.forEach(i),m=V(p),x=d(p,"TD",{class:!0});var E=y(x);k=z(E,n),E.forEach(i),F=V(p),M=d(p,"TD",{class:!0});var ee=y(M);D=d(ee,"DIV",{class:!0});var B=y(D);g&&g.l(B),W=V(B),C&&C.l(B),Q=V(B),T&&T.l(B),B.forEach(i),ee.forEach(i),G=V(p),p.forEach(i),this.h()},h(){h(l,"class","px-4 py-2 font-mono text-sm"),h(r,"class","px-4 py-2"),h(P,"class","px-4 py-2"),h(x,"class","px-4 py-2"),h(D,"class","flex gap-2"),h(M,"class","px-4 py-2"),h(e,"class","border-t hover:bg-gray-50")},m(w,p){q(w,e,p),a(e,l),a(l,o),a(e,f),a(e,r),a(r,b),a(e,j),a(e,P),a(P,_),a(e,m),a(e,x),a(x,k),a(e,F),a(e,M),a(M,D),g&&g.m(D,null),a(D,W),C&&C.m(D,null),a(D,Q),T&&T.m(D,null),a(e,G)},p(w,p){p&1&&t!==(t=w[4].id+"")&&K(o,t),p&1&&v!==(v=be(w[4].data)+"")&&K(b,v),p&1&&L!==(L=xe(w[4].data)+"")&&K(_,L),p&1&&n!==(n=ge(w[4].created_at)+"")&&K(k,n),w[4].front_image?g||(g=_e(),g.c(),g.m(D,W)):g&&(g.d(1),g=null),w[4].back_image?C||(C=me(),C.c(),C.m(D,Q)):C&&(C.d(1),C=null),!w[4].front_image&&!w[4].back_image?T||(T=pe(),T.c(),T.m(D,null)):T&&(T.d(1),T=null)},d(w){w&&i(e),g&&g.d(),C&&C.d(),T&&T.d()}}}function Ne(s){var re,ne,oe;let e,l,t,o,f=(((re=s[0].profile)==null?void 0:re.email)||((ne=s[0].user)==null?void 0:ne.email))+"",r,v,b,j,P=s[1].label+"",L,_,m,x,n,k,F="Total ID Cards",M,D,W=s[0].totalCards+"",Q,G,g,C,T="Quick Actions",w,p,X,I=((oe=s[0].profile)==null?void 0:oe.org_id)&&he(s),U=ae(s[2]),E=[];for(let u=0;u<U.length;u+=1)E[u]=ue(fe(s,U,u));function ee(u,N){var H;return u[0].error?we:((H=u[0].recentCards)==null?void 0:H.length)>0?Te:Ie}let B=ee(s),O=B(s);return{c(){e=c("div"),l=c("div"),t=c("h1"),o=R("Welcome, "),r=R(f),v=A(),b=c("p"),j=R("Role: "),L=R(P),_=A(),I&&I.c(),m=A(),x=c("div"),n=c("div"),k=c("h3"),k.textContent=F,M=A(),D=c("p"),Q=R(W),G=A(),g=c("div"),C=c("h2"),C.textContent=T,w=A(),p=c("div");for(let u=0;u<E.length;u+=1)E[u].c();X=A(),O.c(),this.h()},l(u){e=d(u,"DIV",{class:!0});var N=y(e);l=d(N,"DIV",{class:!0});var H=y(l);t=d(H,"H1",{class:!0});var Z=y(t);o=z(Z,"Welcome, "),r=z(Z,f),Z.forEach(i),v=V(H),b=d(H,"P",{class:!0});var $=y(b);j=z($,"Role: "),L=z($,P),$.forEach(i),_=V(H),I&&I.l(H),H.forEach(i),m=V(N),x=d(N,"DIV",{class:!0});var S=y(x);n=d(S,"DIV",{class:!0});var J=y(n);k=d(J,"H3",{class:!0,"data-svelte-h":!0}),Y(k)!=="svelte-9uvrbj"&&(k.textContent=F),M=V(J),D=d(J,"P",{class:!0});var ie=y(D);Q=z(ie,W),ie.forEach(i),J.forEach(i),S.forEach(i),G=V(N),g=d(N,"DIV",{class:!0});var le=y(g);C=d(le,"H2",{class:!0,"data-svelte-h":!0}),Y(C)!=="svelte-3nlria"&&(C.textContent=T),w=V(le),p=d(le,"DIV",{class:!0});var ce=y(p);for(let se=0;se<E.length;se+=1)E[se].l(ce);ce.forEach(i),le.forEach(i),X=V(N),O.l(N),N.forEach(i),this.h()},h(){h(t,"class","text-3xl font-bold mb-2"),h(b,"class","text-gray-600"),h(l,"class","card-content bg-white rounded-lg shadow-md p-6 mb-8"),h(k,"class","text-lg font-semibold mb-2"),h(D,"class","text-3xl font-bold text-primary"),h(n,"class","card-content rounded-lg shadow-md p-6"),h(x,"class","grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"),h(C,"class","text-2xl font-bold mb-4"),h(p,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"),h(g,"class","card-content rounded-lg shadow-md p-6 mb-8"),h(e,"class","container mx-auto px-4 py-8")},m(u,N){q(u,e,N),a(e,l),a(l,t),a(t,o),a(t,r),a(l,v),a(l,b),a(b,j),a(b,L),a(l,_),I&&I.m(l,null),a(e,m),a(e,x),a(x,n),a(n,k),a(n,M),a(n,D),a(D,Q),a(e,G),a(e,g),a(g,C),a(g,w),a(g,p);for(let H=0;H<E.length;H+=1)E[H]&&E[H].m(p,null);a(e,X),O.m(e,null)},p(u,[N]){var H,Z,$;if(N&1&&f!==(f=(((H=u[0].profile)==null?void 0:H.email)||((Z=u[0].user)==null?void 0:Z.email))+"")&&K(r,f),($=u[0].profile)!=null&&$.org_id?I?I.p(u,N):(I=he(u),I.c(),I.m(l,null)):I&&(I.d(1),I=null),N&1&&W!==(W=u[0].totalCards+"")&&K(Q,W),N&4){U=ae(u[2]);let S;for(S=0;S<U.length;S+=1){const J=fe(u,U,S);E[S]?E[S].p(J,N):(E[S]=ue(J),E[S].c(),E[S].m(p,null))}for(;S<E.length;S+=1)E[S].d(1);E.length=U.length}B===(B=ee(u))&&O?O.p(u,N):(O.d(1),O=B(u),O&&(O.c(),O.m(e,null)))},i:te,o:te,d(u){u&&i(e),I&&I.d(),Ce(E,u),O.d()}}}function ge(s){return new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function be(s){try{return(s==null?void 0:s.id_number)||"N/A"}catch{return"N/A"}}function xe(s){try{return(s==null?void 0:s.full_name)||"N/A"}catch{return"N/A"}}function He(s,e,l){var v;let{data:t}=e;const o=((v=t.profile)==null?void 0:v.role)||"id_gen_user",f=Ee[o],r=f.allowedPaths.filter(b=>b.showInNav);return s.$$set=b=>{"data"in b&&l(0,t=b.data)},[t,f,r]}class Se extends ke{constructor(e){super(),De(this,e,He,Ne,ye,{data:0})}}export{Se as component};
