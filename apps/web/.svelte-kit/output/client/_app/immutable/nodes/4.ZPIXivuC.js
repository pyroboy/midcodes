import{s as pe,a as S,b as k,t as T,f as z,g as M,p as y,j as C,h as V,d as $,k as R,i as m,l as v,m as K,c as Ke,o as Je,n as ee,e as x,z as ue,y as De,A as Qe,M as Xe,O as Ye}from"../chunks/scheduler.O3yElrGi.js";import{S as _e,i as de,g as re,b as u,e as le,t as c,c as p,a as _,m as d,d as g,f as Ze}from"../chunks/index.ZL6-Qda4.js";import{g as Te}from"../chunks/entry.CPepBop_.js";import{e as te}from"../chunks/each.DIkwcrxx.js";import"../chunks/index.D5P3bu3G.js";import{R as ge,S as he,a as be,V as ve,b as we}from"../chunks/index.CXcOdhrV.js";import{R as me}from"../chunks/roleConfig.DlmfXarb.js";import{p as xe}from"../chunks/stores.COJDcE9o.js";import{B as We}from"../chunks/button.UQtnxgui.js";import{C as ne}from"../chunks/card.VXLJCglc.js";import{C as se}from"../chunks/card-content.BcXlgrz8.js";import{C as ae}from"../chunks/card-description.5Vnb1SMn.js";import{C as oe,a as fe}from"../chunks/card-title.BtGlweLB.js";import{T as ke,a as Ce,b as Ee,c as ie,d as $e,e as ce}from"../chunks/table-row._jvj8VnP.js";function Ve(f,e,l){const t=f.slice();return t[25]=e[l],t}function Oe(f,e,l){const t=f.slice();return t[28]=e[l],t}function Re(f,e,l){const t=f.slice();return t[31]=e[l],t}function Se(f){let e,l,t="Metadata:",s,r,n=JSON.stringify(f[3].metadata,null,2)+"",o;return{c(){e=S("div"),l=S("h3"),l.textContent=t,s=k(),r=S("pre"),o=T(n),this.h()},l(a){e=z(a,"DIV",{class:!0});var i=M(e);l=z(i,"H3",{class:!0,"data-svelte-h":!0}),y(l)!=="svelte-n557mj"&&(l.textContent=t),s=C(i),r=z(i,"PRE",{class:!0});var E=M(r);o=V(E,n),E.forEach($),i.forEach($),this.h()},h(){R(l,"class","text-sm font-medium mb-2"),R(r,"class","text-xs overflow-auto max-h-48 p-2 bg-white dark:bg-gray-900 rounded border dark:border-gray-700"),R(e,"class","mt-4 p-3 bg-gray-50 dark:bg-gray-800 rounded-md")},m(a,i){m(a,e,i),v(e,l),v(e,s),v(e,r),v(r,o)},p(a,i){i[0]&8&&n!==(n=JSON.stringify(a[3].metadata,null,2)+"")&&K(o,n)},d(a){a&&$(e)}}}function ye(f){let e,l,t,s="Role",r,n,o,a,i,E,P;n=new ge({props:{onSelectedChange:f[12],disabled:f[4],$$slots:{default:[nt]},$$scope:{ctx:f}}});let w=f[1]&&Ae(f),D=f[0]&&(f[0]==="event_admin"||f[0]==="event_qr_checker")&&Ne(f);return E=new We({props:{class:"w-full",disabled:f[4]||!f[7],$$slots:{default:[mt]},$$scope:{ctx:f}}}),E.$on("click",f[15]),{c(){e=S("div"),l=S("div"),t=S("label"),t.textContent=s,r=k(),p(n.$$.fragment),o=k(),w&&w.c(),a=k(),D&&D.c(),i=k(),p(E.$$.fragment),this.h()},l(h){e=z(h,"DIV",{class:!0});var b=M(e);l=z(b,"DIV",{class:!0});var O=M(l);t=z(O,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),y(t)!=="svelte-yjabc4"&&(t.textContent=s),r=C(O),_(n.$$.fragment,O),O.forEach($),o=C(b),w&&w.l(b),a=C(b),D&&D.l(b),i=C(b),_(E.$$.fragment,b),b.forEach($),this.h()},h(){R(t,"for","role"),R(t,"class","text-sm font-medium"),R(l,"class","space-y-2"),R(e,"class","space-y-4")},m(h,b){m(h,e,b),v(e,l),v(l,t),v(l,r),d(n,l,null),v(e,o),w&&w.m(e,null),v(e,a),D&&D.m(e,null),v(e,i),d(E,e,null),P=!0},p(h,b){const O={};b[0]&16&&(O.disabled=h[4]),b[1]&8&&(O.$$scope={dirty:b,ctx:h}),n.$set(O),h[1]?w?(w.p(h,b),b[0]&2&&c(w,1)):(w=Ae(h),w.c(),c(w,1),w.m(e,a)):w&&(re(),u(w,1,1,()=>{w=null}),le()),h[0]&&(h[0]==="event_admin"||h[0]==="event_qr_checker")?D?(D.p(h,b),b[0]&1&&c(D,1)):(D=Ne(h),D.c(),c(D,1),D.m(e,i)):D&&(re(),u(D,1,1,()=>{D=null}),le());const L={};b[0]&144&&(L.disabled=h[4]||!h[7]),b[1]&8&&(L.$$scope={dirty:b,ctx:h}),E.$set(L)},i(h){P||(c(n.$$.fragment,h),c(w),c(D),c(E.$$.fragment,h),P=!0)},o(h){u(n.$$.fragment,h),u(w),u(D),u(E.$$.fragment,h),P=!1},d(h){h&&$(e),g(n),w&&w.d(),D&&D.d(),g(E)}}}function et(f){let e,l;return e=new We({props:{variant:"outline",class:"w-full",disabled:f[4],$$slots:{default:[pt]},$$scope:{ctx:f}}}),e.$on("click",f[16]),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){d(e,t,s),l=!0},p(t,s){const r={};s[0]&16&&(r.disabled=t[4]),s[1]&8&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){l||(c(e.$$.fragment,t),l=!0)},o(t){u(e.$$.fragment,t),l=!1},d(t){g(e,t)}}}function tt(f){let e,l;return e=new ve({props:{placeholder:"Select role"}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){d(e,t,s),l=!0},p:ee,i(t){l||(c(e.$$.fragment,t),l=!0)},o(t){u(e.$$.fragment,t),l=!1},d(t){g(e,t)}}}function rt(f){let e=f[11](f[31])+"",l,t;return{c(){l=T(e),t=k()},l(s){l=V(s,e),t=C(s)},m(s,r){m(s,l,r),m(s,t,r)},p:ee,d(s){s&&($(l),$(t))}}}function ze(f){let e,l;return e=new we({props:{value:f[31],$$slots:{default:[rt]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){d(e,t,s),l=!0},p(t,s){const r={};s[1]&8&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){l||(c(e.$$.fragment,t),l=!0)},o(t){u(e.$$.fragment,t),l=!1},d(t){g(e,t)}}}function lt(f){let e,l,t=te(f[10]),s=[];for(let n=0;n<t.length;n+=1)s[n]=ze(Re(f,t,n));const r=n=>u(s[n],1,1,()=>{s[n]=null});return{c(){for(let n=0;n<s.length;n+=1)s[n].c();e=x()},l(n){for(let o=0;o<s.length;o+=1)s[o].l(n);e=x()},m(n,o){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(n,o);m(n,e,o),l=!0},p(n,o){if(o[0]&3072){t=te(n[10]);let a;for(a=0;a<t.length;a+=1){const i=Re(n,t,a);s[a]?(s[a].p(i,o),c(s[a],1)):(s[a]=ze(i),s[a].c(),c(s[a],1),s[a].m(e.parentNode,e))}for(re(),a=t.length;a<s.length;a+=1)r(a);le()}},i(n){if(!l){for(let o=0;o<t.length;o+=1)c(s[o]);l=!0}},o(n){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)u(s[o]);l=!1},d(n){n&&$(e),ue(s,n)}}}function nt(f){let e,l,t,s;return e=new he({props:{$$slots:{default:[tt]},$$scope:{ctx:f}}}),t=new be({props:{$$slots:{default:[lt]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment),l=k(),p(t.$$.fragment)},l(r){_(e.$$.fragment,r),l=C(r),_(t.$$.fragment,r)},m(r,n){d(e,r,n),m(r,l,n),d(t,r,n),s=!0},p(r,n){const o={};n[1]&8&&(o.$$scope={dirty:n,ctx:r}),e.$set(o);const a={};n[1]&8&&(a.$$scope={dirty:n,ctx:r}),t.$set(a)},i(r){s||(c(e.$$.fragment,r),c(t.$$.fragment,r),s=!0)},o(r){u(e.$$.fragment,r),u(t.$$.fragment,r),s=!1},d(r){r&&$(l),g(e,r),g(t,r)}}}function Ae(f){let e,l,t="Organization",s,r,n;return r=new ge({props:{onSelectedChange:f[13],disabled:f[4],$$slots:{default:[ft]},$$scope:{ctx:f}}}),{c(){e=S("div"),l=S("label"),l.textContent=t,s=k(),p(r.$$.fragment),this.h()},l(o){e=z(o,"DIV",{class:!0});var a=M(e);l=z(a,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),y(l)!=="svelte-17cdk64"&&(l.textContent=t),s=C(a),_(r.$$.fragment,a),a.forEach($),this.h()},h(){R(l,"for","organization"),R(l,"class","text-sm font-medium"),R(e,"class","space-y-2")},m(o,a){m(o,e,a),v(e,l),v(e,s),d(r,e,null),n=!0},p(o,a){const i={};a[0]&16&&(i.disabled=o[4]),a[0]&32|a[1]&8&&(i.$$scope={dirty:a,ctx:o}),r.$set(i)},i(o){n||(c(r.$$.fragment,o),n=!0)},o(o){u(r.$$.fragment,o),n=!1},d(o){o&&$(e),g(r)}}}function st(f){let e,l;return e=new ve({props:{placeholder:"Select organization"}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){d(e,t,s),l=!0},p:ee,i(t){l||(c(e.$$.fragment,t),l=!0)},o(t){u(e.$$.fragment,t),l=!1},d(t){g(e,t)}}}function at(f){let e=f[28].name+"",l,t;return{c(){l=T(e),t=k()},l(s){l=V(s,e),t=C(s)},m(s,r){m(s,l,r),m(s,t,r)},p(s,r){r[0]&32&&e!==(e=s[28].name+"")&&K(l,e)},d(s){s&&($(l),$(t))}}}function Pe(f){let e,l;return e=new we({props:{value:f[28],$$slots:{default:[at]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){d(e,t,s),l=!0},p(t,s){const r={};s[0]&32&&(r.value=t[28]),s[0]&32|s[1]&8&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){l||(c(e.$$.fragment,t),l=!0)},o(t){u(e.$$.fragment,t),l=!1},d(t){g(e,t)}}}function ot(f){let e,l,t=te(f[5]),s=[];for(let n=0;n<t.length;n+=1)s[n]=Pe(Oe(f,t,n));const r=n=>u(s[n],1,1,()=>{s[n]=null});return{c(){for(let n=0;n<s.length;n+=1)s[n].c();e=x()},l(n){for(let o=0;o<s.length;o+=1)s[o].l(n);e=x()},m(n,o){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(n,o);m(n,e,o),l=!0},p(n,o){if(o[0]&32){t=te(n[5]);let a;for(a=0;a<t.length;a+=1){const i=Oe(n,t,a);s[a]?(s[a].p(i,o),c(s[a],1)):(s[a]=Pe(i),s[a].c(),c(s[a],1),s[a].m(e.parentNode,e))}for(re(),a=t.length;a<s.length;a+=1)r(a);le()}},i(n){if(!l){for(let o=0;o<t.length;o+=1)c(s[o]);l=!0}},o(n){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)u(s[o]);l=!1},d(n){n&&$(e),ue(s,n)}}}function ft(f){let e,l,t,s;return e=new he({props:{$$slots:{default:[st]},$$scope:{ctx:f}}}),t=new be({props:{$$slots:{default:[ot]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment),l=k(),p(t.$$.fragment)},l(r){_(e.$$.fragment,r),l=C(r),_(t.$$.fragment,r)},m(r,n){d(e,r,n),m(r,l,n),d(t,r,n),s=!0},p(r,n){const o={};n[1]&8&&(o.$$scope={dirty:n,ctx:r}),e.$set(o);const a={};n[0]&32|n[1]&8&&(a.$$scope={dirty:n,ctx:r}),t.$set(a)},i(r){s||(c(e.$$.fragment,r),c(t.$$.fragment,r),s=!0)},o(r){u(e.$$.fragment,r),u(t.$$.fragment,r),s=!1},d(r){r&&$(l),g(e,r),g(t,r)}}}function Ne(f){let e,l,t="Event",s,r,n;return r=new ge({props:{onSelectedChange:f[14],disabled:f[4],$$slots:{default:[it]},$$scope:{ctx:f}}}),{c(){e=S("div"),l=S("label"),l.textContent=t,s=k(),p(r.$$.fragment),this.h()},l(o){e=z(o,"DIV",{class:!0});var a=M(e);l=z(a,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),y(l)!=="svelte-15nkoxk"&&(l.textContent=t),s=C(a),_(r.$$.fragment,a),a.forEach($),this.h()},h(){R(l,"for","event"),R(l,"class","text-sm font-medium"),R(e,"class","space-y-2")},m(o,a){m(o,e,a),v(e,l),v(e,s),d(r,e,null),n=!0},p(o,a){const i={};a[0]&16&&(i.disabled=o[4]),a[0]&256|a[1]&8&&(i.$$scope={dirty:a,ctx:o}),r.$set(i)},i(o){n||(c(r.$$.fragment,o),n=!0)},o(o){u(r.$$.fragment,o),n=!1},d(o){o&&$(e),g(r)}}}function $t(f){let e,l;return e=new ve({props:{placeholder:"Select event"}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){d(e,t,s),l=!0},p:ee,i(t){l||(c(e.$$.fragment,t),l=!0)},o(t){u(e.$$.fragment,t),l=!1},d(t){g(e,t)}}}function ct(f){let e=(f[25].event_url||f[25].event_name)+"",l,t;return{c(){l=T(e),t=k()},l(s){l=V(s,e),t=C(s)},m(s,r){m(s,l,r),m(s,t,r)},p(s,r){r[0]&256&&e!==(e=(s[25].event_url||s[25].event_name)+"")&&K(l,e)},d(s){s&&($(l),$(t))}}}function Be(f){let e,l;return e=new we({props:{value:f[25],$$slots:{default:[ct]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){d(e,t,s),l=!0},p(t,s){const r={};s[0]&256&&(r.value=t[25]),s[0]&256|s[1]&8&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){l||(c(e.$$.fragment,t),l=!0)},o(t){u(e.$$.fragment,t),l=!1},d(t){g(e,t)}}}function ut(f){let e,l,t=te(f[8]),s=[];for(let n=0;n<t.length;n+=1)s[n]=Be(Ve(f,t,n));const r=n=>u(s[n],1,1,()=>{s[n]=null});return{c(){for(let n=0;n<s.length;n+=1)s[n].c();e=x()},l(n){for(let o=0;o<s.length;o+=1)s[o].l(n);e=x()},m(n,o){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(n,o);m(n,e,o),l=!0},p(n,o){if(o[0]&256){t=te(n[8]);let a;for(a=0;a<t.length;a+=1){const i=Ve(n,t,a);s[a]?(s[a].p(i,o),c(s[a],1)):(s[a]=Be(i),s[a].c(),c(s[a],1),s[a].m(e.parentNode,e))}for(re(),a=t.length;a<s.length;a+=1)r(a);le()}},i(n){if(!l){for(let o=0;o<t.length;o+=1)c(s[o]);l=!0}},o(n){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)u(s[o]);l=!1},d(n){n&&$(e),ue(s,n)}}}function it(f){let e,l,t,s;return e=new he({props:{$$slots:{default:[$t]},$$scope:{ctx:f}}}),t=new be({props:{$$slots:{default:[ut]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment),l=k(),p(t.$$.fragment)},l(r){_(e.$$.fragment,r),l=C(r),_(t.$$.fragment,r)},m(r,n){d(e,r,n),m(r,l,n),d(t,r,n),s=!0},p(r,n){const o={};n[1]&8&&(o.$$scope={dirty:n,ctx:r}),e.$set(o);const a={};n[0]&256|n[1]&8&&(a.$$scope={dirty:n,ctx:r}),t.$set(a)},i(r){s||(c(e.$$.fragment,r),c(t.$$.fragment,r),s=!0)},o(r){u(e.$$.fragment,r),u(t.$$.fragment,r),s=!1},d(r){r&&$(l),g(e,r),g(t,r)}}}function mt(f){let e;return{c(){e=T("Start Emulation")},l(l){e=V(l,"Start Emulation")},m(l,t){m(l,e,t)},d(l){l&&$(e)}}}function pt(f){let e;return{c(){e=T("Stop Emulation")},l(l){e=V(l,"Stop Emulation")},m(l,t){m(l,e,t)},d(l){l&&$(e)}}}function Ue(f){let e,l,t="Currently Emulating:",s,r,n,o=f[11](f[3].emulated_role)+"",a,i,E,P,w=f[3].emulated_org_id+"",D;return{c(){e=S("div"),l=S("h3"),l.textContent=t,s=k(),r=S("p"),n=T("Role: "),a=T(o),i=k(),E=S("p"),P=T("Organization ID: "),D=T(w),this.h()},l(h){e=z(h,"DIV",{class:!0});var b=M(e);l=z(b,"H3",{class:!0,"data-svelte-h":!0}),y(l)!=="svelte-1klx3k6"&&(l.textContent=t),s=C(b),r=z(b,"P",{class:!0});var O=M(r);n=V(O,"Role: "),a=V(O,o),O.forEach($),i=C(b),E=z(b,"P",{class:!0});var L=M(E);P=V(L,"Organization ID: "),D=V(L,w),L.forEach($),b.forEach($),this.h()},h(){R(l,"class","text-lg font-medium text-yellow-800"),R(r,"class","mt-1 text-yellow-700"),R(E,"class","mt-1 text-yellow-700"),R(e,"class","mt-8 p-4 bg-yellow-50 border border-yellow-200 rounded")},m(h,b){m(h,e,b),v(e,l),v(e,s),v(e,r),v(r,n),v(r,a),v(e,i),v(e,E),v(E,P),v(E,D)},p(h,b){b[0]&8&&o!==(o=h[11](h[3].emulated_role)+"")&&K(a,o),b[0]&8&&w!==(w=h[3].emulated_org_id+"")&&K(D,w)},d(h){h&&$(e)}}}function _t(f){var A,W;let e,l,t='<h2 class="text-lg font-semibold text-foreground dark:text-white">Role Emulator</h2>',s,r,n,o="Emulation Status:",a,i,E,P,w,D,h,b=!!f[2]+"",O,L,F,B,q,Q,Y,I=((A=f[3])==null?void 0:A.metadata)&&Se(f);const N=[et,ye],H=[];function J(U,j){return U[9]?0:1}B=J(f),q=H[B]=N[B](f);let G=((W=f[3])==null?void 0:W.emulated_org_id)&&Ue(f);return{c(){e=S("div"),l=S("div"),l.innerHTML=t,s=k(),r=S("div"),n=S("h3"),n.textContent=o,a=k(),i=S("pre"),E=T("Active: "),P=T(f[9]),w=T(`
Current Role: `),D=T(f[6]),h=T(`
Has Context: `),O=T(b),L=k(),I&&I.c(),F=k(),q.c(),Q=k(),G&&G.c(),this.h()},l(U){e=z(U,"DIV",{class:!0});var j=M(e);l=z(j,"DIV",{class:!0,"data-svelte-h":!0}),y(l)!=="svelte-1nkxtu4"&&(l.innerHTML=t),s=C(j),r=z(j,"DIV",{class:!0});var X=M(r);n=z(X,"H3",{class:!0,"data-svelte-h":!0}),y(n)!=="svelte-ftcomy"&&(n.textContent=o),a=C(X),i=z(X,"PRE",{class:!0});var Z=M(i);E=V(Z,"Active: "),P=V(Z,f[9]),w=V(Z,`
Current Role: `),D=V(Z,f[6]),h=V(Z,`
Has Context: `),O=V(Z,b),Z.forEach($),X.forEach($),L=C(j),I&&I.l(j),F=C(j),q.l(j),Q=C(j),G&&G.l(j),j.forEach($),this.h()},h(){R(l,"class","flex items-center gap-2"),R(n,"class","text-sm font-medium mb-2"),R(i,"class","text-xs overflow-auto max-h-48 p-2 bg-white dark:bg-gray-900 rounded border dark:border-gray-700"),R(r,"class","mt-4 p-3 bg-gray-50 dark:bg-gray-800 rounded-md"),R(e,"class","space-y-4 p-4 border rounded-lg bg-card text-card-foreground dark:bg-gray-900 dark:border-gray-800")},m(U,j){m(U,e,j),v(e,l),v(e,s),v(e,r),v(r,n),v(r,a),v(r,i),v(i,E),v(i,P),v(i,w),v(i,D),v(i,h),v(i,O),v(e,L),I&&I.m(e,null),v(e,F),H[B].m(e,null),v(e,Q),G&&G.m(e,null),Y=!0},p(U,j){var Z,Ie;(!Y||j[0]&512)&&K(P,U[9]),(!Y||j[0]&64)&&K(D,U[6]),(!Y||j[0]&4)&&b!==(b=!!U[2]+"")&&K(O,b),(Z=U[3])!=null&&Z.metadata?I?I.p(U,j):(I=Se(U),I.c(),I.m(e,F)):I&&(I.d(1),I=null);let X=B;B=J(U),B===X?H[B].p(U,j):(re(),u(H[X],1,1,()=>{H[X]=null}),le(),q=H[B],q?q.p(U,j):(q=H[B]=N[B](U),q.c()),c(q,1),q.m(e,Q)),(Ie=U[3])!=null&&Ie.emulated_org_id?G?G.p(U,j):(G=Ue(U),G.c(),G.m(e,null)):G&&(G.d(1),G=null)},i(U){Y||(c(q),Y=!0)},o(U){u(q),Y=!1},d(U){U&&$(e),I&&I.d(),H[B].d(),G&&G.d()}}}function dt(f,e,l){let t,s,r,n,o,a,i,E,P,w;Ke(f,xe,A=>l(24,w=A));let D,h,b,O=!1,L=[],F=[],B=null,q=null;const Q=Object.keys(me);function Y(A){return me[A].label}Je(async()=>{try{const{data:A,error:W}=await fetch("/api/organizations",{headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"}).then(X=>X.json());if(W)throw W;l(5,L=A);const{data:U,error:j}=await fetch("/api/events",{headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"}).then(X=>X.json());if(j)throw j;l(19,F=U||[]),console.log("Loaded events:",F)}catch(A){console.error("Failed to load data:",A)}});function I(A){if(!A){l(0,D=void 0);return}l(0,D=A.value)}function N(A){l(20,B=(A==null?void 0:A.value)??null),l(21,q=null)}function H(A){l(21,q=(A==null?void 0:A.value)??null)}async function J(){if(!D){console.error("Please select a role first");return}if(o&&!h){console.error("Please select an organization");return}l(4,O=!0);try{const A=F.find(Z=>Z.id===b),W={emulatedRole:D,...h&&{emulatedOrgId:h},...b&&{context:{event_id:b,event_url:(A==null?void 0:A.event_url)||null}}};console.log("[Role Emulation] Sending payload:",W);const U=await fetch("/api/role-emulation",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(W)}),j=await U.json();if(console.log("[Role Emulation] Response:",j),!U.ok){const Z=j.error||j.message||"Failed to emulate role";throw console.error("[Role Emulation] Error:",Z),new Error(Z)}await new Promise(Z=>setTimeout(Z,1e3));const X=me[D].defaultPath(W.context);window.location.href=X}catch(A){console.error("[Role Emulation] Full error:",A);const W=A instanceof Error?A.message:"An error occurred";console.error(W)}finally{l(4,O=!1)}}async function G(){l(4,O=!0);try{const A=await fetch("/api/role-emulation",{method:"DELETE",headers:{Accept:"application/json"}}),W=await A.json();if(console.log("Stop emulation response:",W),!A.ok)throw new Error(W.message||"Failed to stop emulation");window.location.reload()}catch(A){A instanceof Error&&A.message,console.error("Stop emulation error:",A)}finally{l(4,O=!1)}}return f.$$.update=()=>{var A,W;f.$$.dirty[0]&16777216&&l(3,t=(A=w.data.session)==null?void 0:A.roleEmulation),f.$$.dirty[0]&8&&l(9,s=(t==null?void 0:t.active)??!1),f.$$.dirty[0]&1048576&&B&&l(17,h=B.id),f.$$.dirty[0]&2097152&&q&&l(18,b=q.id),f.$$.dirty[0]&655360&&l(8,r=h?F.filter(U=>U.org_id===h):F),f.$$.dirty[0]&1&&l(23,n=D?me[D]:null),f.$$.dirty[0]&8388608&&l(1,o=(n==null?void 0:n.requiresOrgId)??!1),f.$$.dirty[0]&1&&l(22,a=D==="event_admin"||D==="event_qr_checker"),f.$$.dirty[0]&4587523&&l(7,i=D&&(!o||h)&&(!a||b)),f.$$.dirty[0]&8&&l(6,E=t==null?void 0:t.emulated_role),f.$$.dirty[0]&8&&l(2,P=((W=t==null?void 0:t.metadata)==null?void 0:W.context)??null),f.$$.dirty[0]&12&&t&&(console.log("Emulation data:",t),console.log("Context data:",P))},[D,o,P,t,O,L,E,i,r,s,Q,Y,I,N,H,J,G,h,b,F,B,q,a,n,w]}class gt extends _e{constructor(e){super(),de(this,e,dt,_t,pe,{},null,[-1,-1])}}function ht(f){let e,l,t,s,r,n,o,a,i,E,P,w,D,h;return t=new gt({}),{c(){e=S("nav"),l=S("div"),p(t.$$.fragment),s=k(),r=S("button"),n=T("Id Card Gen"),a=k(),i=S("button"),E=T("Event Manager"),this.h()},l(b){e=z(b,"NAV",{class:!0});var O=M(e);l=z(O,"DIV",{class:!0});var L=M(l);_(t.$$.fragment,L),L.forEach($),s=C(O),r=z(O,"BUTTON",{class:!0});var F=M(r);n=V(F,"Id Card Gen"),F.forEach($),a=C(O),i=z(O,"BUTTON",{class:!0});var B=M(i);E=V(B,"Event Manager"),B.forEach($),O.forEach($),this.h()},h(){R(l,"class","mb-4 pb-4 border-b"),R(r,"class",o="p-3 text-left hover:bg-gray-100 rounded-lg transition-colors "+(f[0]==="dashboard"?"bg-gray-100":"")+" svelte-m5bgwi"),R(i,"class",P="p-3 text-left hover:bg-gray-100 rounded-lg transition-colors "+(f[0]==="event-manager"?"bg-gray-100":"")+" svelte-m5bgwi"),R(e,"class","flex flex-col gap-2 p-4 min-w-[200px]")},m(b,O){m(b,e,O),v(e,l),d(t,l,null),v(e,s),v(e,r),v(r,n),v(e,a),v(e,i),v(i,E),w=!0,D||(h=[De(r,"click",f[1]),De(i,"click",f[2])],D=!0)},p(b,[O]){(!w||O&1&&o!==(o="p-3 text-left hover:bg-gray-100 rounded-lg transition-colors "+(b[0]==="dashboard"?"bg-gray-100":"")+" svelte-m5bgwi"))&&R(r,"class",o),(!w||O&1&&P!==(P="p-3 text-left hover:bg-gray-100 rounded-lg transition-colors "+(b[0]==="event-manager"?"bg-gray-100":"")+" svelte-m5bgwi"))&&R(i,"class",P)},i(b){w||(c(t.$$.fragment,b),w=!0)},o(b){u(t.$$.fragment,b),w=!1},d(b){b&&$(e),g(t),D=!1,Qe(h)}}}function bt(f,e,l){let{currentView:t="dashboard"}=e;const s=()=>l(0,t="dashboard"),r=()=>l(0,t="event-manager");return f.$$set=n=>{"currentView"in n&&l(0,t=n.currentView)},[t,s,r]}class vt extends _e{constructor(e){super(),de(this,e,bt,ht,pe,{currentView:0})}}function je(f,e,l){const t=f.slice();return t[3]=e[l],t}function Le(f,e,l){const t=f.slice();return t[6]=e[l].orgName,t[7]=e[l].count,t}function Me(f,e,l){const t=f.slice();return t[6]=e[l].orgName,t[7]=e[l].count,t}function wt(f){let e;return{c(){e=T("Total Templates")},l(l){e=V(l,"Total Templates")},m(l,t){m(l,e,t)},d(l){l&&$(e)}}}function kt(f){let e;return{c(){e=T("Active templates across all orgs")},l(l){e=V(l,"Active templates across all orgs")},m(l,t){m(l,e,t)},d(l){l&&$(e)}}}function Ct(f){let e,l,t,s;return e=new fe({props:{$$slots:{default:[wt]},$$scope:{ctx:f}}}),t=new ae({props:{$$slots:{default:[kt]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment),l=k(),p(t.$$.fragment)},l(r){_(e.$$.fragment,r),l=C(r),_(t.$$.fragment,r)},m(r,n){d(e,r,n),m(r,l,n),d(t,r,n),s=!0},p(r,n){const o={};n&4096&&(o.$$scope={dirty:n,ctx:r}),e.$set(o);const a={};n&4096&&(a.$$scope={dirty:n,ctx:r}),t.$set(a)},i(r){s||(c(e.$$.fragment,r),c(t.$$.fragment,r),s=!0)},o(r){u(e.$$.fragment,r),u(t.$$.fragment,r),s=!1},d(r){r&&$(l),g(e,r),g(t,r)}}}function Et(f){let e,l=f[0].stats.totalTemplates+"",t;return{c(){e=S("p"),t=T(l),this.h()},l(s){e=z(s,"P",{class:!0});var r=M(e);t=V(r,l),r.forEach($),this.h()},h(){R(e,"class","text-4xl font-bold")},m(s,r){m(s,e,r),v(e,t)},p(s,r){r&1&&l!==(l=s[0].stats.totalTemplates+"")&&K(t,l)},d(s){s&&$(e)}}}function It(f){let e,l,t,s;return e=new oe({props:{$$slots:{default:[Ct]},$$scope:{ctx:f}}}),t=new se({props:{$$slots:{default:[Et]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment),l=k(),p(t.$$.fragment)},l(r){_(e.$$.fragment,r),l=C(r),_(t.$$.fragment,r)},m(r,n){d(e,r,n),m(r,l,n),d(t,r,n),s=!0},p(r,n){const o={};n&4096&&(o.$$scope={dirty:n,ctx:r}),e.$set(o);const a={};n&4097&&(a.$$scope={dirty:n,ctx:r}),t.$set(a)},i(r){s||(c(e.$$.fragment,r),c(t.$$.fragment,r),s=!0)},o(r){u(e.$$.fragment,r),u(t.$$.fragment,r),s=!1},d(r){r&&$(l),g(e,r),g(t,r)}}}function Dt(f){let e;return{c(){e=T("Total ID Cards")},l(l){e=V(l,"Total ID Cards")},m(l,t){m(l,e,t)},d(l){l&&$(e)}}}function Tt(f){let e;return{c(){e=T("Generated ID cards")},l(l){e=V(l,"Generated ID cards")},m(l,t){m(l,e,t)},d(l){l&&$(e)}}}function Vt(f){let e,l,t,s;return e=new fe({props:{$$slots:{default:[Dt]},$$scope:{ctx:f}}}),t=new ae({props:{$$slots:{default:[Tt]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment),l=k(),p(t.$$.fragment)},l(r){_(e.$$.fragment,r),l=C(r),_(t.$$.fragment,r)},m(r,n){d(e,r,n),m(r,l,n),d(t,r,n),s=!0},p(r,n){const o={};n&4096&&(o.$$scope={dirty:n,ctx:r}),e.$set(o);const a={};n&4096&&(a.$$scope={dirty:n,ctx:r}),t.$set(a)},i(r){s||(c(e.$$.fragment,r),c(t.$$.fragment,r),s=!0)},o(r){u(e.$$.fragment,r),u(t.$$.fragment,r),s=!1},d(r){r&&$(l),g(e,r),g(t,r)}}}function Ot(f){let e,l=f[0].stats.totalIdCards+"",t;return{c(){e=S("p"),t=T(l),this.h()},l(s){e=z(s,"P",{class:!0});var r=M(e);t=V(r,l),r.forEach($),this.h()},h(){R(e,"class","text-4xl font-bold")},m(s,r){m(s,e,r),v(e,t)},p(s,r){r&1&&l!==(l=s[0].stats.totalIdCards+"")&&K(t,l)},d(s){s&&$(e)}}}function Rt(f){let e,l,t,s;return e=new oe({props:{$$slots:{default:[Vt]},$$scope:{ctx:f}}}),t=new se({props:{$$slots:{default:[Ot]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment),l=k(),p(t.$$.fragment)},l(r){_(e.$$.fragment,r),l=C(r),_(t.$$.fragment,r)},m(r,n){d(e,r,n),m(r,l,n),d(t,r,n),s=!0},p(r,n){const o={};n&4096&&(o.$$scope={dirty:n,ctx:r}),e.$set(o);const a={};n&4097&&(a.$$scope={dirty:n,ctx:r}),t.$set(a)},i(r){s||(c(e.$$.fragment,r),c(t.$$.fragment,r),s=!0)},o(r){u(e.$$.fragment,r),u(t.$$.fragment,r),s=!1},d(r){r&&$(l),g(e,r),g(t,r)}}}function St(f){let e;return{c(){e=T("Organizations")},l(l){e=V(l,"Organizations")},m(l,t){m(l,e,t)},d(l){l&&$(e)}}}function zt(f){let e;return{c(){e=T("Active organizations")},l(l){e=V(l,"Active organizations")},m(l,t){m(l,e,t)},d(l){l&&$(e)}}}function At(f){let e,l,t,s;return e=new fe({props:{$$slots:{default:[St]},$$scope:{ctx:f}}}),t=new ae({props:{$$slots:{default:[zt]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment),l=k(),p(t.$$.fragment)},l(r){_(e.$$.fragment,r),l=C(r),_(t.$$.fragment,r)},m(r,n){d(e,r,n),m(r,l,n),d(t,r,n),s=!0},p(r,n){const o={};n&4096&&(o.$$scope={dirty:n,ctx:r}),e.$set(o);const a={};n&4096&&(a.$$scope={dirty:n,ctx:r}),t.$set(a)},i(r){s||(c(e.$$.fragment,r),c(t.$$.fragment,r),s=!0)},o(r){u(e.$$.fragment,r),u(t.$$.fragment,r),s=!1},d(r){r&&$(l),g(e,r),g(t,r)}}}function Pt(f){let e,l=f[0].stats.totalOrganizations+"",t;return{c(){e=S("p"),t=T(l),this.h()},l(s){e=z(s,"P",{class:!0});var r=M(e);t=V(r,l),r.forEach($),this.h()},h(){R(e,"class","text-4xl font-bold")},m(s,r){m(s,e,r),v(e,t)},p(s,r){r&1&&l!==(l=s[0].stats.totalOrganizations+"")&&K(t,l)},d(s){s&&$(e)}}}function Nt(f){let e,l,t,s;return e=new oe({props:{$$slots:{default:[At]},$$scope:{ctx:f}}}),t=new se({props:{$$slots:{default:[Pt]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment),l=k(),p(t.$$.fragment)},l(r){_(e.$$.fragment,r),l=C(r),_(t.$$.fragment,r)},m(r,n){d(e,r,n),m(r,l,n),d(t,r,n),s=!0},p(r,n){const o={};n&4096&&(o.$$scope={dirty:n,ctx:r}),e.$set(o);const a={};n&4097&&(a.$$scope={dirty:n,ctx:r}),t.$set(a)},i(r){s||(c(e.$$.fragment,r),c(t.$$.fragment,r),s=!0)},o(r){u(e.$$.fragment,r),u(t.$$.fragment,r),s=!1},d(r){r&&$(l),g(e,r),g(t,r)}}}function Bt(f){let e;return{c(){e=T("Total Users")},l(l){e=V(l,"Total Users")},m(l,t){m(l,e,t)},d(l){l&&$(e)}}}function Ut(f){let e;return{c(){e=T("Registered users")},l(l){e=V(l,"Registered users")},m(l,t){m(l,e,t)},d(l){l&&$(e)}}}function jt(f){let e,l,t,s;return e=new fe({props:{$$slots:{default:[Bt]},$$scope:{ctx:f}}}),t=new ae({props:{$$slots:{default:[Ut]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment),l=k(),p(t.$$.fragment)},l(r){_(e.$$.fragment,r),l=C(r),_(t.$$.fragment,r)},m(r,n){d(e,r,n),m(r,l,n),d(t,r,n),s=!0},p(r,n){const o={};n&4096&&(o.$$scope={dirty:n,ctx:r}),e.$set(o);const a={};n&4096&&(a.$$scope={dirty:n,ctx:r}),t.$set(a)},i(r){s||(c(e.$$.fragment,r),c(t.$$.fragment,r),s=!0)},o(r){u(e.$$.fragment,r),u(t.$$.fragment,r),s=!1},d(r){r&&$(l),g(e,r),g(t,r)}}}function Lt(f){let e,l=f[0].stats.totalUsers+"",t;return{c(){e=S("p"),t=T(l),this.h()},l(s){e=z(s,"P",{class:!0});var r=M(e);t=V(r,l),r.forEach($),this.h()},h(){R(e,"class","text-4xl font-bold")},m(s,r){m(s,e,r),v(e,t)},p(s,r){r&1&&l!==(l=s[0].stats.totalUsers+"")&&K(t,l)},d(s){s&&$(e)}}}function Mt(f){let e,l,t,s;return e=new oe({props:{$$slots:{default:[jt]},$$scope:{ctx:f}}}),t=new se({props:{$$slots:{default:[Lt]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment),l=k(),p(t.$$.fragment)},l(r){_(e.$$.fragment,r),l=C(r),_(t.$$.fragment,r)},m(r,n){d(e,r,n),m(r,l,n),d(t,r,n),s=!0},p(r,n){const o={};n&4096&&(o.$$scope={dirty:n,ctx:r}),e.$set(o);const a={};n&4097&&(a.$$scope={dirty:n,ctx:r}),t.$set(a)},i(r){s||(c(e.$$.fragment,r),c(t.$$.fragment,r),s=!0)},o(r){u(e.$$.fragment,r),u(t.$$.fragment,r),s=!1},d(r){r&&$(l),g(e,r),g(t,r)}}}function Ht(f){let e;return{c(){e=T("User Distribution")},l(l){e=V(l,"User Distribution")},m(l,t){m(l,e,t)},d(l){l&&$(e)}}}function qt(f){let e;return{c(){e=T("Users by role")},l(l){e=V(l,"Users by role")},m(l,t){m(l,e,t)},d(l){l&&$(e)}}}function Ft(f){let e,l,t,s;return e=new fe({props:{$$slots:{default:[Ht]},$$scope:{ctx:f}}}),t=new ae({props:{$$slots:{default:[qt]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment),l=k(),p(t.$$.fragment)},l(r){_(e.$$.fragment,r),l=C(r),_(t.$$.fragment,r)},m(r,n){d(e,r,n),m(r,l,n),d(t,r,n),s=!0},p(r,n){const o={};n&4096&&(o.$$scope={dirty:n,ctx:r}),e.$set(o);const a={};n&4096&&(a.$$scope={dirty:n,ctx:r}),t.$set(a)},i(r){s||(c(e.$$.fragment,r),c(t.$$.fragment,r),s=!0)},o(r){u(e.$$.fragment,r),u(t.$$.fragment,r),s=!1},d(r){r&&$(l),g(e,r),g(t,r)}}}function Gt(f){let e,l,t,s=f[0].stats.usersByRole.superAdmin+"",r,n,o,a="Super Admins",i,E,P,w=f[0].stats.usersByRole.orgAdmin+"",D,h,b,O="Org Admins",L,F,B,q=f[0].stats.usersByRole.user+"",Q,Y,I,N="Regular Users";return{c(){e=S("div"),l=S("div"),t=S("p"),r=T(s),n=k(),o=S("p"),o.textContent=a,i=k(),E=S("div"),P=S("p"),D=T(w),h=k(),b=S("p"),b.textContent=O,L=k(),F=S("div"),B=S("p"),Q=T(q),Y=k(),I=S("p"),I.textContent=N,this.h()},l(H){e=z(H,"DIV",{class:!0});var J=M(e);l=z(J,"DIV",{class:!0});var G=M(l);t=z(G,"P",{class:!0});var A=M(t);r=V(A,s),A.forEach($),n=C(G),o=z(G,"P",{class:!0,"data-svelte-h":!0}),y(o)!=="svelte-ogh2tn"&&(o.textContent=a),G.forEach($),i=C(J),E=z(J,"DIV",{class:!0});var W=M(E);P=z(W,"P",{class:!0});var U=M(P);D=V(U,w),U.forEach($),h=C(W),b=z(W,"P",{class:!0,"data-svelte-h":!0}),y(b)!=="svelte-hbc0si"&&(b.textContent=O),W.forEach($),L=C(J),F=z(J,"DIV",{class:!0});var j=M(F);B=z(j,"P",{class:!0});var X=M(B);Q=V(X,q),X.forEach($),Y=C(j),I=z(j,"P",{class:!0,"data-svelte-h":!0}),y(I)!=="svelte-x9ig6s"&&(I.textContent=N),j.forEach($),J.forEach($),this.h()},h(){R(t,"class","text-2xl font-bold"),R(o,"class","text-sm text-muted-foreground"),R(l,"class","text-center p-4 rounded-lg bg-primary/10"),R(P,"class","text-2xl font-bold"),R(b,"class","text-sm text-muted-foreground"),R(E,"class","text-center p-4 rounded-lg bg-primary/10"),R(B,"class","text-2xl font-bold"),R(I,"class","text-sm text-muted-foreground"),R(F,"class","text-center p-4 rounded-lg bg-primary/10"),R(e,"class","grid grid-cols-3 gap-4")},m(H,J){m(H,e,J),v(e,l),v(l,t),v(t,r),v(l,n),v(l,o),v(e,i),v(e,E),v(E,P),v(P,D),v(E,h),v(E,b),v(e,L),v(e,F),v(F,B),v(B,Q),v(F,Y),v(F,I)},p(H,J){J&1&&s!==(s=H[0].stats.usersByRole.superAdmin+"")&&K(r,s),J&1&&w!==(w=H[0].stats.usersByRole.orgAdmin+"")&&K(D,w),J&1&&q!==(q=H[0].stats.usersByRole.user+"")&&K(Q,q)},d(H){H&&$(e)}}}function Jt(f){let e,l,t,s;return e=new oe({props:{$$slots:{default:[Ft]},$$scope:{ctx:f}}}),t=new se({props:{$$slots:{default:[Gt]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment),l=k(),p(t.$$.fragment)},l(r){_(e.$$.fragment,r),l=C(r),_(t.$$.fragment,r)},m(r,n){d(e,r,n),m(r,l,n),d(t,r,n),s=!0},p(r,n){const o={};n&4096&&(o.$$scope={dirty:n,ctx:r}),e.$set(o);const a={};n&4097&&(a.$$scope={dirty:n,ctx:r}),t.$set(a)},i(r){s||(c(e.$$.fragment,r),c(t.$$.fragment,r),s=!0)},o(r){u(e.$$.fragment,r),u(t.$$.fragment,r),s=!1},d(r){r&&$(l),g(e,r),g(t,r)}}}function Wt(f){let e;return{c(){e=T("Templates per Organization")},l(l){e=V(l,"Templates per Organization")},m(l,t){m(l,e,t)},d(l){l&&$(e)}}}function Kt(f){let e;return{c(){e=T("Number of templates created by each org")},l(l){e=V(l,"Number of templates created by each org")},m(l,t){m(l,e,t)},d(l){l&&$(e)}}}function Qt(f){let e,l,t,s;return e=new fe({props:{$$slots:{default:[Wt]},$$scope:{ctx:f}}}),t=new ae({props:{$$slots:{default:[Kt]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment),l=k(),p(t.$$.fragment)},l(r){_(e.$$.fragment,r),l=C(r),_(t.$$.fragment,r)},m(r,n){d(e,r,n),m(r,l,n),d(t,r,n),s=!0},p(r,n){const o={};n&4096&&(o.$$scope={dirty:n,ctx:r}),e.$set(o);const a={};n&4096&&(a.$$scope={dirty:n,ctx:r}),t.$set(a)},i(r){s||(c(e.$$.fragment,r),c(t.$$.fragment,r),s=!0)},o(r){u(e.$$.fragment,r),u(t.$$.fragment,r),s=!1},d(r){r&&$(l),g(e,r),g(t,r)}}}function Xt(f){let e;return{c(){e=T("Organization")},l(l){e=V(l,"Organization")},m(l,t){m(l,e,t)},d(l){l&&$(e)}}}function Yt(f){let e;return{c(){e=T("Templates")},l(l){e=V(l,"Templates")},m(l,t){m(l,e,t)},d(l){l&&$(e)}}}function Zt(f){let e,l,t,s;return e=new $e({props:{$$slots:{default:[Xt]},$$scope:{ctx:f}}}),t=new $e({props:{class:"text-right",$$slots:{default:[Yt]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment),l=k(),p(t.$$.fragment)},l(r){_(e.$$.fragment,r),l=C(r),_(t.$$.fragment,r)},m(r,n){d(e,r,n),m(r,l,n),d(t,r,n),s=!0},p(r,n){const o={};n&4096&&(o.$$scope={dirty:n,ctx:r}),e.$set(o);const a={};n&4096&&(a.$$scope={dirty:n,ctx:r}),t.$set(a)},i(r){s||(c(e.$$.fragment,r),c(t.$$.fragment,r),s=!0)},o(r){u(e.$$.fragment,r),u(t.$$.fragment,r),s=!1},d(r){r&&$(l),g(e,r),g(t,r)}}}function xt(f){let e,l;return e=new ie({props:{$$slots:{default:[Zt]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){d(e,t,s),l=!0},p(t,s){const r={};s&4096&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){l||(c(e.$$.fragment,t),l=!0)},o(t){u(e.$$.fragment,t),l=!1},d(t){g(e,t)}}}function yt(f){let e=f[6]+"",l;return{c(){l=T(e)},l(t){l=V(t,e)},m(t,s){m(t,l,s)},p(t,s){s&1&&e!==(e=t[6]+"")&&K(l,e)},d(t){t&&$(l)}}}function er(f){let e=f[7]+"",l;return{c(){l=T(e)},l(t){l=V(t,e)},m(t,s){m(t,l,s)},p(t,s){s&1&&e!==(e=t[7]+"")&&K(l,e)},d(t){t&&$(l)}}}function tr(f){let e,l,t,s,r;return e=new ce({props:{$$slots:{default:[yt]},$$scope:{ctx:f}}}),t=new ce({props:{class:"text-right",$$slots:{default:[er]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment),l=k(),p(t.$$.fragment),s=k()},l(n){_(e.$$.fragment,n),l=C(n),_(t.$$.fragment,n),s=C(n)},m(n,o){d(e,n,o),m(n,l,o),d(t,n,o),m(n,s,o),r=!0},p(n,o){const a={};o&4097&&(a.$$scope={dirty:o,ctx:n}),e.$set(a);const i={};o&4097&&(i.$$scope={dirty:o,ctx:n}),t.$set(i)},i(n){r||(c(e.$$.fragment,n),c(t.$$.fragment,n),r=!0)},o(n){u(e.$$.fragment,n),u(t.$$.fragment,n),r=!1},d(n){n&&($(l),$(s)),g(e,n),g(t,n)}}}function He(f){let e,l;return e=new ie({props:{$$slots:{default:[tr]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){d(e,t,s),l=!0},p(t,s){const r={};s&4097&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){l||(c(e.$$.fragment,t),l=!0)},o(t){u(e.$$.fragment,t),l=!1},d(t){g(e,t)}}}function rr(f){let e,l,t=te(f[0].stats.templatesPerOrg),s=[];for(let n=0;n<t.length;n+=1)s[n]=He(Me(f,t,n));const r=n=>u(s[n],1,1,()=>{s[n]=null});return{c(){for(let n=0;n<s.length;n+=1)s[n].c();e=x()},l(n){for(let o=0;o<s.length;o+=1)s[o].l(n);e=x()},m(n,o){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(n,o);m(n,e,o),l=!0},p(n,o){if(o&1){t=te(n[0].stats.templatesPerOrg);let a;for(a=0;a<t.length;a+=1){const i=Me(n,t,a);s[a]?(s[a].p(i,o),c(s[a],1)):(s[a]=He(i),s[a].c(),c(s[a],1),s[a].m(e.parentNode,e))}for(re(),a=t.length;a<s.length;a+=1)r(a);le()}},i(n){if(!l){for(let o=0;o<t.length;o+=1)c(s[o]);l=!0}},o(n){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)u(s[o]);l=!1},d(n){n&&$(e),ue(s,n)}}}function lr(f){let e,l,t,s;return e=new Ce({props:{$$slots:{default:[xt]},$$scope:{ctx:f}}}),t=new Ee({props:{$$slots:{default:[rr]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment),l=k(),p(t.$$.fragment)},l(r){_(e.$$.fragment,r),l=C(r),_(t.$$.fragment,r)},m(r,n){d(e,r,n),m(r,l,n),d(t,r,n),s=!0},p(r,n){const o={};n&4096&&(o.$$scope={dirty:n,ctx:r}),e.$set(o);const a={};n&4097&&(a.$$scope={dirty:n,ctx:r}),t.$set(a)},i(r){s||(c(e.$$.fragment,r),c(t.$$.fragment,r),s=!0)},o(r){u(e.$$.fragment,r),u(t.$$.fragment,r),s=!1},d(r){r&&$(l),g(e,r),g(t,r)}}}function nr(f){let e,l;return e=new ke({props:{$$slots:{default:[lr]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){d(e,t,s),l=!0},p(t,s){const r={};s&4097&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){l||(c(e.$$.fragment,t),l=!0)},o(t){u(e.$$.fragment,t),l=!1},d(t){g(e,t)}}}function sr(f){let e,l,t,s;return e=new oe({props:{$$slots:{default:[Qt]},$$scope:{ctx:f}}}),t=new se({props:{$$slots:{default:[nr]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment),l=k(),p(t.$$.fragment)},l(r){_(e.$$.fragment,r),l=C(r),_(t.$$.fragment,r)},m(r,n){d(e,r,n),m(r,l,n),d(t,r,n),s=!0},p(r,n){const o={};n&4096&&(o.$$scope={dirty:n,ctx:r}),e.$set(o);const a={};n&4097&&(a.$$scope={dirty:n,ctx:r}),t.$set(a)},i(r){s||(c(e.$$.fragment,r),c(t.$$.fragment,r),s=!0)},o(r){u(e.$$.fragment,r),u(t.$$.fragment,r),s=!1},d(r){r&&$(l),g(e,r),g(t,r)}}}function ar(f){let e;return{c(){e=T("ID Cards per Organization")},l(l){e=V(l,"ID Cards per Organization")},m(l,t){m(l,e,t)},d(l){l&&$(e)}}}function or(f){let e;return{c(){e=T("Number of ID cards generated by each org")},l(l){e=V(l,"Number of ID cards generated by each org")},m(l,t){m(l,e,t)},d(l){l&&$(e)}}}function fr(f){let e,l,t,s;return e=new fe({props:{$$slots:{default:[ar]},$$scope:{ctx:f}}}),t=new ae({props:{$$slots:{default:[or]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment),l=k(),p(t.$$.fragment)},l(r){_(e.$$.fragment,r),l=C(r),_(t.$$.fragment,r)},m(r,n){d(e,r,n),m(r,l,n),d(t,r,n),s=!0},p(r,n){const o={};n&4096&&(o.$$scope={dirty:n,ctx:r}),e.$set(o);const a={};n&4096&&(a.$$scope={dirty:n,ctx:r}),t.$set(a)},i(r){s||(c(e.$$.fragment,r),c(t.$$.fragment,r),s=!0)},o(r){u(e.$$.fragment,r),u(t.$$.fragment,r),s=!1},d(r){r&&$(l),g(e,r),g(t,r)}}}function $r(f){let e;return{c(){e=T("Organization")},l(l){e=V(l,"Organization")},m(l,t){m(l,e,t)},d(l){l&&$(e)}}}function cr(f){let e;return{c(){e=T("ID Cards")},l(l){e=V(l,"ID Cards")},m(l,t){m(l,e,t)},d(l){l&&$(e)}}}function ur(f){let e,l,t,s;return e=new $e({props:{$$slots:{default:[$r]},$$scope:{ctx:f}}}),t=new $e({props:{class:"text-right",$$slots:{default:[cr]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment),l=k(),p(t.$$.fragment)},l(r){_(e.$$.fragment,r),l=C(r),_(t.$$.fragment,r)},m(r,n){d(e,r,n),m(r,l,n),d(t,r,n),s=!0},p(r,n){const o={};n&4096&&(o.$$scope={dirty:n,ctx:r}),e.$set(o);const a={};n&4096&&(a.$$scope={dirty:n,ctx:r}),t.$set(a)},i(r){s||(c(e.$$.fragment,r),c(t.$$.fragment,r),s=!0)},o(r){u(e.$$.fragment,r),u(t.$$.fragment,r),s=!1},d(r){r&&$(l),g(e,r),g(t,r)}}}function ir(f){let e,l;return e=new ie({props:{$$slots:{default:[ur]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){d(e,t,s),l=!0},p(t,s){const r={};s&4096&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){l||(c(e.$$.fragment,t),l=!0)},o(t){u(e.$$.fragment,t),l=!1},d(t){g(e,t)}}}function mr(f){let e=f[6]+"",l;return{c(){l=T(e)},l(t){l=V(t,e)},m(t,s){m(t,l,s)},p(t,s){s&1&&e!==(e=t[6]+"")&&K(l,e)},d(t){t&&$(l)}}}function pr(f){let e=f[7]+"",l;return{c(){l=T(e)},l(t){l=V(t,e)},m(t,s){m(t,l,s)},p(t,s){s&1&&e!==(e=t[7]+"")&&K(l,e)},d(t){t&&$(l)}}}function _r(f){let e,l,t,s,r;return e=new ce({props:{$$slots:{default:[mr]},$$scope:{ctx:f}}}),t=new ce({props:{class:"text-right",$$slots:{default:[pr]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment),l=k(),p(t.$$.fragment),s=k()},l(n){_(e.$$.fragment,n),l=C(n),_(t.$$.fragment,n),s=C(n)},m(n,o){d(e,n,o),m(n,l,o),d(t,n,o),m(n,s,o),r=!0},p(n,o){const a={};o&4097&&(a.$$scope={dirty:o,ctx:n}),e.$set(a);const i={};o&4097&&(i.$$scope={dirty:o,ctx:n}),t.$set(i)},i(n){r||(c(e.$$.fragment,n),c(t.$$.fragment,n),r=!0)},o(n){u(e.$$.fragment,n),u(t.$$.fragment,n),r=!1},d(n){n&&($(l),$(s)),g(e,n),g(t,n)}}}function qe(f){let e,l;return e=new ie({props:{$$slots:{default:[_r]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){d(e,t,s),l=!0},p(t,s){const r={};s&4097&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){l||(c(e.$$.fragment,t),l=!0)},o(t){u(e.$$.fragment,t),l=!1},d(t){g(e,t)}}}function dr(f){let e,l,t=te(f[0].stats.idCardsPerOrg),s=[];for(let n=0;n<t.length;n+=1)s[n]=qe(Le(f,t,n));const r=n=>u(s[n],1,1,()=>{s[n]=null});return{c(){for(let n=0;n<s.length;n+=1)s[n].c();e=x()},l(n){for(let o=0;o<s.length;o+=1)s[o].l(n);e=x()},m(n,o){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(n,o);m(n,e,o),l=!0},p(n,o){if(o&1){t=te(n[0].stats.idCardsPerOrg);let a;for(a=0;a<t.length;a+=1){const i=Le(n,t,a);s[a]?(s[a].p(i,o),c(s[a],1)):(s[a]=qe(i),s[a].c(),c(s[a],1),s[a].m(e.parentNode,e))}for(re(),a=t.length;a<s.length;a+=1)r(a);le()}},i(n){if(!l){for(let o=0;o<t.length;o+=1)c(s[o]);l=!0}},o(n){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)u(s[o]);l=!1},d(n){n&&$(e),ue(s,n)}}}function gr(f){let e,l,t,s;return e=new Ce({props:{$$slots:{default:[ir]},$$scope:{ctx:f}}}),t=new Ee({props:{$$slots:{default:[dr]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment),l=k(),p(t.$$.fragment)},l(r){_(e.$$.fragment,r),l=C(r),_(t.$$.fragment,r)},m(r,n){d(e,r,n),m(r,l,n),d(t,r,n),s=!0},p(r,n){const o={};n&4096&&(o.$$scope={dirty:n,ctx:r}),e.$set(o);const a={};n&4097&&(a.$$scope={dirty:n,ctx:r}),t.$set(a)},i(r){s||(c(e.$$.fragment,r),c(t.$$.fragment,r),s=!0)},o(r){u(e.$$.fragment,r),u(t.$$.fragment,r),s=!1},d(r){r&&$(l),g(e,r),g(t,r)}}}function hr(f){let e,l;return e=new ke({props:{$$slots:{default:[gr]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){d(e,t,s),l=!0},p(t,s){const r={};s&4097&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){l||(c(e.$$.fragment,t),l=!0)},o(t){u(e.$$.fragment,t),l=!1},d(t){g(e,t)}}}function br(f){let e,l,t,s;return e=new oe({props:{$$slots:{default:[fr]},$$scope:{ctx:f}}}),t=new se({props:{$$slots:{default:[hr]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment),l=k(),p(t.$$.fragment)},l(r){_(e.$$.fragment,r),l=C(r),_(t.$$.fragment,r)},m(r,n){d(e,r,n),m(r,l,n),d(t,r,n),s=!0},p(r,n){const o={};n&4096&&(o.$$scope={dirty:n,ctx:r}),e.$set(o);const a={};n&4097&&(a.$$scope={dirty:n,ctx:r}),t.$set(a)},i(r){s||(c(e.$$.fragment,r),c(t.$$.fragment,r),s=!0)},o(r){u(e.$$.fragment,r),u(t.$$.fragment,r),s=!1},d(r){r&&$(l),g(e,r),g(t,r)}}}function vr(f){let e;return{c(){e=T("Recent ID Cards")},l(l){e=V(l,"Recent ID Cards")},m(l,t){m(l,e,t)},d(l){l&&$(e)}}}function wr(f){let e;return{c(){e=T("Latest ID cards generated across all organizations")},l(l){e=V(l,"Latest ID cards generated across all organizations")},m(l,t){m(l,e,t)},d(l){l&&$(e)}}}function kr(f){let e,l,t,s;return e=new fe({props:{$$slots:{default:[vr]},$$scope:{ctx:f}}}),t=new ae({props:{$$slots:{default:[wr]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment),l=k(),p(t.$$.fragment)},l(r){_(e.$$.fragment,r),l=C(r),_(t.$$.fragment,r)},m(r,n){d(e,r,n),m(r,l,n),d(t,r,n),s=!0},p(r,n){const o={};n&4096&&(o.$$scope={dirty:n,ctx:r}),e.$set(o);const a={};n&4096&&(a.$$scope={dirty:n,ctx:r}),t.$set(a)},i(r){s||(c(e.$$.fragment,r),c(t.$$.fragment,r),s=!0)},o(r){u(e.$$.fragment,r),u(t.$$.fragment,r),s=!1},d(r){r&&$(l),g(e,r),g(t,r)}}}function Cr(f){let e;return{c(){e=T("Organization")},l(l){e=V(l,"Organization")},m(l,t){m(l,e,t)},d(l){l&&$(e)}}}function Er(f){let e;return{c(){e=T("Template")},l(l){e=V(l,"Template")},m(l,t){m(l,e,t)},d(l){l&&$(e)}}}function Ir(f){let e;return{c(){e=T("Created At")},l(l){e=V(l,"Created At")},m(l,t){m(l,e,t)},d(l){l&&$(e)}}}function Dr(f){let e,l,t,s,r,n;return e=new $e({props:{$$slots:{default:[Cr]},$$scope:{ctx:f}}}),t=new $e({props:{$$slots:{default:[Er]},$$scope:{ctx:f}}}),r=new $e({props:{$$slots:{default:[Ir]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment),l=k(),p(t.$$.fragment),s=k(),p(r.$$.fragment)},l(o){_(e.$$.fragment,o),l=C(o),_(t.$$.fragment,o),s=C(o),_(r.$$.fragment,o)},m(o,a){d(e,o,a),m(o,l,a),d(t,o,a),m(o,s,a),d(r,o,a),n=!0},p(o,a){const i={};a&4096&&(i.$$scope={dirty:a,ctx:o}),e.$set(i);const E={};a&4096&&(E.$$scope={dirty:a,ctx:o}),t.$set(E);const P={};a&4096&&(P.$$scope={dirty:a,ctx:o}),r.$set(P)},i(o){n||(c(e.$$.fragment,o),c(t.$$.fragment,o),c(r.$$.fragment,o),n=!0)},o(o){u(e.$$.fragment,o),u(t.$$.fragment,o),u(r.$$.fragment,o),n=!1},d(o){o&&($(l),$(s)),g(e,o),g(t,o),g(r,o)}}}function Tr(f){let e,l;return e=new ie({props:{$$slots:{default:[Dr]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){d(e,t,s),l=!0},p(t,s){const r={};s&4096&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){l||(c(e.$$.fragment,t),l=!0)},o(t){u(e.$$.fragment,t),l=!1},d(t){g(e,t)}}}function Vr(f){var s;let e=(((s=f[0].organizations.find(t))==null?void 0:s.name)||"Unknown")+"",l;function t(...r){return f[1](f[3],...r)}return{c(){l=T(e)},l(r){l=V(r,e)},m(r,n){m(r,l,n)},p(r,n){var o;f=r,n&1&&e!==(e=(((o=f[0].organizations.find(t))==null?void 0:o.name)||"Unknown")+"")&&K(l,e)},d(r){r&&$(l)}}}function Or(f){var s;let e=(((s=f[0].templates.find(t))==null?void 0:s.name)||"Unknown")+"",l;function t(...r){return f[2](f[3],...r)}return{c(){l=T(e)},l(r){l=V(r,e)},m(r,n){m(r,l,n)},p(r,n){var o;f=r,n&1&&e!==(e=(((o=f[0].templates.find(t))==null?void 0:o.name)||"Unknown")+"")&&K(l,e)},d(r){r&&$(l)}}}function Rr(f){let e=Ge(f[3].created_at)+"",l;return{c(){l=T(e)},l(t){l=V(t,e)},m(t,s){m(t,l,s)},p(t,s){s&1&&e!==(e=Ge(t[3].created_at)+"")&&K(l,e)},d(t){t&&$(l)}}}function Sr(f){let e,l,t,s,r,n,o;return e=new ce({props:{$$slots:{default:[Vr]},$$scope:{ctx:f}}}),t=new ce({props:{$$slots:{default:[Or]},$$scope:{ctx:f}}}),r=new ce({props:{$$slots:{default:[Rr]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment),l=k(),p(t.$$.fragment),s=k(),p(r.$$.fragment),n=k()},l(a){_(e.$$.fragment,a),l=C(a),_(t.$$.fragment,a),s=C(a),_(r.$$.fragment,a),n=C(a)},m(a,i){d(e,a,i),m(a,l,i),d(t,a,i),m(a,s,i),d(r,a,i),m(a,n,i),o=!0},p(a,i){const E={};i&4097&&(E.$$scope={dirty:i,ctx:a}),e.$set(E);const P={};i&4097&&(P.$$scope={dirty:i,ctx:a}),t.$set(P);const w={};i&4097&&(w.$$scope={dirty:i,ctx:a}),r.$set(w)},i(a){o||(c(e.$$.fragment,a),c(t.$$.fragment,a),c(r.$$.fragment,a),o=!0)},o(a){u(e.$$.fragment,a),u(t.$$.fragment,a),u(r.$$.fragment,a),o=!1},d(a){a&&($(l),$(s),$(n)),g(e,a),g(t,a),g(r,a)}}}function Fe(f){let e,l;return e=new ie({props:{$$slots:{default:[Sr]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){d(e,t,s),l=!0},p(t,s){const r={};s&4097&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){l||(c(e.$$.fragment,t),l=!0)},o(t){u(e.$$.fragment,t),l=!1},d(t){g(e,t)}}}function zr(f){let e,l,t=te(f[0].idcards.slice(0,5)),s=[];for(let n=0;n<t.length;n+=1)s[n]=Fe(je(f,t,n));const r=n=>u(s[n],1,1,()=>{s[n]=null});return{c(){for(let n=0;n<s.length;n+=1)s[n].c();e=x()},l(n){for(let o=0;o<s.length;o+=1)s[o].l(n);e=x()},m(n,o){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(n,o);m(n,e,o),l=!0},p(n,o){if(o&1){t=te(n[0].idcards.slice(0,5));let a;for(a=0;a<t.length;a+=1){const i=je(n,t,a);s[a]?(s[a].p(i,o),c(s[a],1)):(s[a]=Fe(i),s[a].c(),c(s[a],1),s[a].m(e.parentNode,e))}for(re(),a=t.length;a<s.length;a+=1)r(a);le()}},i(n){if(!l){for(let o=0;o<t.length;o+=1)c(s[o]);l=!0}},o(n){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)u(s[o]);l=!1},d(n){n&&$(e),ue(s,n)}}}function Ar(f){let e,l,t,s;return e=new Ce({props:{$$slots:{default:[Tr]},$$scope:{ctx:f}}}),t=new Ee({props:{$$slots:{default:[zr]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment),l=k(),p(t.$$.fragment)},l(r){_(e.$$.fragment,r),l=C(r),_(t.$$.fragment,r)},m(r,n){d(e,r,n),m(r,l,n),d(t,r,n),s=!0},p(r,n){const o={};n&4096&&(o.$$scope={dirty:n,ctx:r}),e.$set(o);const a={};n&4097&&(a.$$scope={dirty:n,ctx:r}),t.$set(a)},i(r){s||(c(e.$$.fragment,r),c(t.$$.fragment,r),s=!0)},o(r){u(e.$$.fragment,r),u(t.$$.fragment,r),s=!1},d(r){r&&$(l),g(e,r),g(t,r)}}}function Pr(f){let e,l;return e=new ke({props:{$$slots:{default:[Ar]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){d(e,t,s),l=!0},p(t,s){const r={};s&4097&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){l||(c(e.$$.fragment,t),l=!0)},o(t){u(e.$$.fragment,t),l=!1},d(t){g(e,t)}}}function Nr(f){let e,l,t,s;return e=new oe({props:{$$slots:{default:[kr]},$$scope:{ctx:f}}}),t=new se({props:{$$slots:{default:[Pr]},$$scope:{ctx:f}}}),{c(){p(e.$$.fragment),l=k(),p(t.$$.fragment)},l(r){_(e.$$.fragment,r),l=C(r),_(t.$$.fragment,r)},m(r,n){d(e,r,n),m(r,l,n),d(t,r,n),s=!0},p(r,n){const o={};n&4096&&(o.$$scope={dirty:n,ctx:r}),e.$set(o);const a={};n&4097&&(a.$$scope={dirty:n,ctx:r}),t.$set(a)},i(r){s||(c(e.$$.fragment,r),c(t.$$.fragment,r),s=!0)},o(r){u(e.$$.fragment,r),u(t.$$.fragment,r),s=!1},d(r){r&&$(l),g(e,r),g(t,r)}}}function Br(f){let e,l,t="Id Card Gen Dashboard",s,r,n,o,a,i,E,P,w,D,h,b,O,L,F,B,q,Q,Y;return n=new ne({props:{$$slots:{default:[It]},$$scope:{ctx:f}}}),a=new ne({props:{$$slots:{default:[Rt]},$$scope:{ctx:f}}}),E=new ne({props:{$$slots:{default:[Nt]},$$scope:{ctx:f}}}),w=new ne({props:{$$slots:{default:[Mt]},$$scope:{ctx:f}}}),h=new ne({props:{$$slots:{default:[Jt]},$$scope:{ctx:f}}}),L=new ne({props:{$$slots:{default:[sr]},$$scope:{ctx:f}}}),B=new ne({props:{$$slots:{default:[br]},$$scope:{ctx:f}}}),Q=new ne({props:{$$slots:{default:[Nr]},$$scope:{ctx:f}}}),{c(){e=S("div"),l=S("h1"),l.textContent=t,s=k(),r=S("div"),p(n.$$.fragment),o=k(),p(a.$$.fragment),i=k(),p(E.$$.fragment),P=k(),p(w.$$.fragment),D=k(),p(h.$$.fragment),b=k(),O=S("div"),p(L.$$.fragment),F=k(),p(B.$$.fragment),q=k(),p(Q.$$.fragment),this.h()},l(I){e=z(I,"DIV",{class:!0});var N=M(e);l=z(N,"H1",{class:!0,"data-svelte-h":!0}),y(l)!=="svelte-1jsdzi2"&&(l.textContent=t),s=C(N),r=z(N,"DIV",{class:!0});var H=M(r);_(n.$$.fragment,H),o=C(H),_(a.$$.fragment,H),i=C(H),_(E.$$.fragment,H),P=C(H),_(w.$$.fragment,H),H.forEach($),D=C(N),_(h.$$.fragment,N),b=C(N),O=z(N,"DIV",{class:!0});var J=M(O);_(L.$$.fragment,J),F=C(J),_(B.$$.fragment,J),J.forEach($),q=C(N),_(Q.$$.fragment,N),N.forEach($),this.h()},h(){R(l,"class","text-3xl font-bold mb-8"),R(r,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"),R(O,"class","grid grid-cols-1 md:grid-cols-2 gap-6"),R(e,"class","container mx-auto p-6 space-y-6")},m(I,N){m(I,e,N),v(e,l),v(e,s),v(e,r),d(n,r,null),v(r,o),d(a,r,null),v(r,i),d(E,r,null),v(r,P),d(w,r,null),v(e,D),d(h,e,null),v(e,b),v(e,O),d(L,O,null),v(O,F),d(B,O,null),v(e,q),d(Q,e,null),Y=!0},p(I,[N]){const H={};N&4097&&(H.$$scope={dirty:N,ctx:I}),n.$set(H);const J={};N&4097&&(J.$$scope={dirty:N,ctx:I}),a.$set(J);const G={};N&4097&&(G.$$scope={dirty:N,ctx:I}),E.$set(G);const A={};N&4097&&(A.$$scope={dirty:N,ctx:I}),w.$set(A);const W={};N&4097&&(W.$$scope={dirty:N,ctx:I}),h.$set(W);const U={};N&4097&&(U.$$scope={dirty:N,ctx:I}),L.$set(U);const j={};N&4097&&(j.$$scope={dirty:N,ctx:I}),B.$set(j);const X={};N&4097&&(X.$$scope={dirty:N,ctx:I}),Q.$set(X)},i(I){Y||(c(n.$$.fragment,I),c(a.$$.fragment,I),c(E.$$.fragment,I),c(w.$$.fragment,I),c(h.$$.fragment,I),c(L.$$.fragment,I),c(B.$$.fragment,I),c(Q.$$.fragment,I),Y=!0)},o(I){u(n.$$.fragment,I),u(a.$$.fragment,I),u(E.$$.fragment,I),u(w.$$.fragment,I),u(h.$$.fragment,I),u(L.$$.fragment,I),u(B.$$.fragment,I),u(Q.$$.fragment,I),Y=!1},d(I){I&&$(e),g(n),g(a),g(E),g(w),g(h),g(L),g(B),g(Q)}}}function Ge(f){const e=new Date(f);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(e)}function Ur(f,e,l){let{data:t}=e;const s=(n,o)=>o.id===n.org_id,r=(n,o)=>o.id===n.template_id;return f.$$set=n=>{"data"in n&&l(0,t=n.data)},[t,s,r]}class jr extends _e{constructor(e){super(),de(this,e,Ur,Br,pe,{data:0})}}function Lr(f){let e,l,t,s,r,n,o,a;function i(h){f[4](h)}let E={};f[1]!==void 0&&(E.currentView=f[1]),l=new vt({props:E}),Xe.push(()=>Ze(l,"currentView",i));const P=[Fr,qr],w=[];function D(h,b){return h[1]==="dashboard"?0:h[1]==="event-manager"?1:-1}return~(n=D(f))&&(o=w[n]=P[n](f)),{c(){e=S("div"),p(l.$$.fragment),s=k(),r=S("div"),o&&o.c(),this.h()},l(h){e=z(h,"DIV",{class:!0});var b=M(e);_(l.$$.fragment,b),s=C(b),r=z(b,"DIV",{class:!0});var O=M(r);o&&o.l(O),O.forEach($),b.forEach($),this.h()},h(){R(r,"class","flex-1"),R(e,"class","flex")},m(h,b){m(h,e,b),d(l,e,null),v(e,s),v(e,r),~n&&w[n].m(r,null),a=!0},p(h,b){const O={};!t&&b&2&&(t=!0,O.currentView=h[1],Ye(()=>t=!1)),l.$set(O);let L=n;n=D(h),n===L?~n&&w[n].p(h,b):(o&&(re(),u(w[L],1,1,()=>{w[L]=null}),le()),~n?(o=w[n],o?o.p(h,b):(o=w[n]=P[n](h),o.c()),c(o,1),o.m(r,null)):o=null)},i(h){a||(c(l.$$.fragment,h),c(o),a=!0)},o(h){u(l.$$.fragment,h),u(o),a=!1},d(h){h&&$(e),g(l),~n&&w[n].d()}}}function Mr(f){let e,l;return{c(){e=S("div"),l=T(f[3]),this.h()},l(t){e=z(t,"DIV",{class:!0});var s=M(e);l=V(s,f[3]),s.forEach($),this.h()},h(){R(e,"class","error-message")},m(t,s){m(t,e,s),v(e,l)},p(t,s){s&8&&K(l,t[3])},i:ee,o:ee,d(t){t&&$(e)}}}function Hr(f){let e,l="Loading midcodes dashboard...";return{c(){e=S("div"),e.textContent=l,this.h()},l(t){e=z(t,"DIV",{class:!0,"data-svelte-h":!0}),y(e)!=="svelte-1s6yopp"&&(e.textContent=l),this.h()},h(){R(e,"class","loading-spinner")},m(t,s){m(t,e,s)},p:ee,i:ee,o:ee,d(t){t&&$(e)}}}function qr(f){let e,l='<h1 class="text-3xl font-bold">Event Manager</h1> <p class="mt-4">Event management features coming soon...</p>';return{c(){e=S("div"),e.innerHTML=l,this.h()},l(t){e=z(t,"DIV",{class:!0,"data-svelte-h":!0}),y(e)!=="svelte-qqbnf7"&&(e.innerHTML=l),this.h()},h(){R(e,"class","p-6")},m(t,s){m(t,e,s)},p:ee,i:ee,o:ee,d(t){t&&$(e)}}}function Fr(f){let e,l;return e=new jr({props:{data:f[0]}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){d(e,t,s),l=!0},p(t,s){const r={};s&1&&(r.data=t[0]),e.$set(r)},i(t){l||(c(e.$$.fragment,t),l=!0)},o(t){u(e.$$.fragment,t),l=!1},d(t){g(e,t)}}}function Gr(f){let e,l,t,s;const r=[Hr,Mr,Lr],n=[];function o(a,i){return a[2]?0:a[3]?1:2}return e=o(f),l=n[e]=r[e](f),{c(){l.c(),t=x()},l(a){l.l(a),t=x()},m(a,i){n[e].m(a,i),m(a,t,i),s=!0},p(a,[i]){let E=e;e=o(a),e===E?n[e].p(a,i):(re(),u(n[E],1,1,()=>{n[E]=null}),le(),l=n[e],l?l.p(a,i):(l=n[e]=r[e](a),l.c()),c(l,1),l.m(t.parentNode,t))},i(a){s||(c(l),s=!0)},o(a){u(l),s=!1},d(a){a&&$(t),n[e].d(a)}}}function Jr(f,e,l){let{data:t}=e,s="dashboard",r=!0,n=null;Je(()=>{var a;if(!((a=t.session)!=null&&a.user)){Te("/auth");return}t.stats?window.location.pathname.startsWith("/midcodes")||Te("/midcodes"):l(3,n="Failed to load statistics data"),l(2,r=!1)});function o(a){s=a,l(1,s)}return f.$$set=a=>{"data"in a&&l(0,t=a.data)},[t,s,r,n,o]}class al extends _e{constructor(e){super(),de(this,e,Jr,Gr,pe,{data:0})}}export{al as component};
