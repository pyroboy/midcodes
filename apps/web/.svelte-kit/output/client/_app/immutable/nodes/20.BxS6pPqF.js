import{s as Ke,a as P,b as A,f as M,g as I,j as C,d as i,k as $,i as b,l as d,r as at,S as ot,c as ft,v as Me,y as it,t as S,h as O,m as ee,n as ne,e as ie,z as Qe,p as we,X as oe,Y as fe}from"../chunks/scheduler.O3yElrGi.js";import{S as We,i as Ze,c as y,a as V,m as D,t as _,b as g,d as T,g as he,e as ge}from"../chunks/index.ZL6-Qda4.js";import{e as pe,u as ct,o as ut}from"../chunks/each.DIkwcrxx.js";import{s as $t}from"../chunks/formData.Cqbx9YEq.js";import"../chunks/index.D5P3bu3G.js";import{R as Ne,S as xe,a as et,V as tt,b as rt}from"../chunks/index.CXcOdhrV.js";import{I as Se}from"../chunks/input.CuGHtir4.js";import{L as _e}from"../chunks/label.nGZ3SWbE.js";import{z as ae}from"../chunks/index.D4CdqmV7.js";import{B as be}from"../chunks/button.UQtnxgui.js";import{C as Oe}from"../chunks/card.VXLJCglc.js";import{C as st}from"../chunks/card-content.BcXlgrz8.js";import{C as dt,a as pt}from"../chunks/card-title.BtGlweLB.js";import{B as mt}from"../chunks/index.BzLgNpIl.js";import{a as Be}from"../chunks/entry.CPepBop_.js";const lt={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE"},nt={DORMITORY:"DORMITORY",APARTMENT:"APARTMENT",BOARDING_HOUSE:"BOARDING_HOUSE"};ae.object({id:ae.number().optional(),name:ae.string().min(1,"Property name is required"),address:ae.string().min(1,"Address is required"),type:ae.nativeEnum(nt,{required_error:"Property type is required",invalid_type_error:"Invalid property type"}),status:ae.nativeEnum(lt).default("ACTIVE"),created_at:ae.string().datetime().optional(),updated_at:ae.string().datetime().optional()});function Re(a,e,s){const t=a.slice();return t[12]=e[s],t}function je(a,e,s){const t=a.slice();return t[15]=e[s],t}function He(a){let e,s,t;return{c(){e=P("input"),this.h()},l(r){e=M(r,"INPUT",{type:!0,name:!0}),this.h()},h(){$(e,"type","hidden"),$(e,"name","id")},m(r,l){b(r,e,l),Me(e,a[0].id),s||(t=it(e,"input",a[9]),s=!0)},p(r,l){l&1&&Me(e,r[0].id)},d(r){r&&i(e),s=!1,t()}}}function _t(a){let e;return{c(){e=S("Name")},l(s){e=O(s,"Name")},m(s,t){b(s,e,t)},d(s){s&&i(e)}}}function qe(a){let e,s=a[3].name[0]+"",t;return{c(){e=P("p"),t=S(s),this.h()},l(r){e=M(r,"P",{class:!0});var l=I(e);t=O(l,s),l.forEach(i),this.h()},h(){$(e,"class","text-sm text-red-500")},m(r,l){b(r,e,l),d(e,t)},p(r,l){l&8&&s!==(s=r[3].name[0]+"")&&ee(t,s)},d(r){r&&i(e)}}}function ht(a){let e;return{c(){e=S("Address")},l(s){e=O(s,"Address")},m(s,t){b(s,e,t)},d(s){s&&i(e)}}}function ze(a){let e,s=a[3].address[0]+"",t;return{c(){e=P("p"),t=S(s),this.h()},l(r){e=M(r,"P",{class:!0});var l=I(e);t=O(l,s),l.forEach(i),this.h()},h(){$(e,"class","text-sm text-red-500")},m(r,l){b(r,e,l),d(e,t)},p(r,l){l&8&&s!==(s=r[3].address[0]+"")&&ee(t,s)},d(r){r&&i(e)}}}function gt(a){let e;return{c(){e=S("Type")},l(s){e=O(s,"Type")},m(s,t){b(s,e,t)},d(s){s&&i(e)}}}function vt(a){let e,s;return e=new tt({props:{placeholder:"Select property type"}}),{c(){y(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,r){D(e,t,r),s=!0},p:ne,i(t){s||(_(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){T(e,t)}}}function bt(a){let e=a[15].label+"",s;return{c(){s=S(e)},l(t){s=O(t,e)},m(t,r){b(t,s,r)},p:ne,d(t){t&&i(s)}}}function Le(a){let e,s;return e=new rt({props:{value:a[15].value,$$slots:{default:[bt]},$$scope:{ctx:a}}}),{c(){y(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,r){D(e,t,r),s=!0},p(t,r){const l={};r&262144&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){s||(_(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){T(e,t)}}}function wt(a){let e,s,t=pe(a[6]),r=[];for(let n=0;n<t.length;n+=1)r[n]=Le(je(a,t,n));const l=n=>g(r[n],1,1,()=>{r[n]=null});return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ie()},l(n){for(let o=0;o<r.length;o+=1)r[o].l(n);e=ie()},m(n,o){for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(n,o);b(n,e,o),s=!0},p(n,o){if(o&64){t=pe(n[6]);let f;for(f=0;f<t.length;f+=1){const p=je(n,t,f);r[f]?(r[f].p(p,o),_(r[f],1)):(r[f]=Le(p),r[f].c(),_(r[f],1),r[f].m(e.parentNode,e))}for(he(),f=t.length;f<r.length;f+=1)l(f);ge()}},i(n){if(!s){for(let o=0;o<t.length;o+=1)_(r[o]);s=!0}},o(n){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)g(r[o]);s=!1},d(n){n&&i(e),Qe(r,n)}}}function kt(a){let e,s,t,r;return e=new xe({props:{class:"w-full",$$slots:{default:[vt]},$$scope:{ctx:a}}}),t=new et({props:{$$slots:{default:[wt]},$$scope:{ctx:a}}}),{c(){y(e.$$.fragment),s=A(),y(t.$$.fragment)},l(l){V(e.$$.fragment,l),s=C(l),V(t.$$.fragment,l)},m(l,n){D(e,l,n),b(l,s,n),D(t,l,n),r=!0},p(l,n){const o={};n&262144&&(o.$$scope={dirty:n,ctx:l}),e.$set(o);const f={};n&262144&&(f.$$scope={dirty:n,ctx:l}),t.$set(f)},i(l){r||(_(e.$$.fragment,l),_(t.$$.fragment,l),r=!0)},o(l){g(e.$$.fragment,l),g(t.$$.fragment,l),r=!1},d(l){l&&i(s),T(e,l),T(t,l)}}}function Ue(a){let e,s=a[3].type[0]+"",t;return{c(){e=P("p"),t=S(s),this.h()},l(r){e=M(r,"P",{class:!0});var l=I(e);t=O(l,s),l.forEach(i),this.h()},h(){$(e,"class","text-sm text-red-500")},m(r,l){b(r,e,l),d(e,t)},p(r,l){l&8&&s!==(s=r[3].type[0]+"")&&ee(t,s)},d(r){r&&i(e)}}}function Et(a){let e;return{c(){e=S("Status")},l(s){e=O(s,"Status")},m(s,t){b(s,e,t)},d(s){s&&i(e)}}}function It(a){let e,s;return e=new tt({props:{placeholder:"Select status"}}),{c(){y(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,r){D(e,t,r),s=!0},p:ne,i(t){s||(_(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){T(e,t)}}}function yt(a){let e=a[12].label+"",s;return{c(){s=S(e)},l(t){s=O(t,e)},m(t,r){b(t,s,r)},p:ne,d(t){t&&i(s)}}}function Fe(a){let e,s;return e=new rt({props:{value:a[12].value,$$slots:{default:[yt]},$$scope:{ctx:a}}}),{c(){y(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,r){D(e,t,r),s=!0},p(t,r){const l={};r&262144&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){s||(_(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){T(e,t)}}}function Vt(a){let e,s,t=pe(a[7]),r=[];for(let n=0;n<t.length;n+=1)r[n]=Fe(Re(a,t,n));const l=n=>g(r[n],1,1,()=>{r[n]=null});return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ie()},l(n){for(let o=0;o<r.length;o+=1)r[o].l(n);e=ie()},m(n,o){for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(n,o);b(n,e,o),s=!0},p(n,o){if(o&128){t=pe(n[7]);let f;for(f=0;f<t.length;f+=1){const p=Re(n,t,f);r[f]?(r[f].p(p,o),_(r[f],1)):(r[f]=Fe(p),r[f].c(),_(r[f],1),r[f].m(e.parentNode,e))}for(he(),f=t.length;f<r.length;f+=1)l(f);ge()}},i(n){if(!s){for(let o=0;o<t.length;o+=1)_(r[o]);s=!0}},o(n){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)g(r[o]);s=!1},d(n){n&&i(e),Qe(r,n)}}}function Dt(a){let e,s,t,r;return e=new xe({props:{class:"w-full",$$slots:{default:[It]},$$scope:{ctx:a}}}),t=new et({props:{$$slots:{default:[Vt]},$$scope:{ctx:a}}}),{c(){y(e.$$.fragment),s=A(),y(t.$$.fragment)},l(l){V(e.$$.fragment,l),s=C(l),V(t.$$.fragment,l)},m(l,n){D(e,l,n),b(l,s,n),D(t,l,n),r=!0},p(l,n){const o={};n&262144&&(o.$$scope={dirty:n,ctx:l}),e.$set(o);const f={};n&262144&&(f.$$scope={dirty:n,ctx:l}),t.$set(f)},i(l){r||(_(e.$$.fragment,l),_(t.$$.fragment,l),r=!0)},o(l){g(e.$$.fragment,l),g(t.$$.fragment,l),r=!1},d(l){l&&i(s),T(e,l),T(t,l)}}}function Ye(a){let e,s=a[3].status[0]+"",t;return{c(){e=P("p"),t=S(s),this.h()},l(r){e=M(r,"P",{class:!0});var l=I(e);t=O(l,s),l.forEach(i),this.h()},h(){$(e,"class","text-sm text-red-500")},m(r,l){b(r,e,l),d(e,t)},p(r,l){l&8&&s!==(s=r[3].status[0]+"")&&ee(t,s)},d(r){r&&i(e)}}}function Tt(a){let e=a[1]?"Update":"Create",s,t;return{c(){s=S(e),t=S(" Property")},l(r){s=O(r,e),t=O(r," Property")},m(r,l){b(r,s,l),b(r,t,l)},p(r,l){l&2&&e!==(e=r[1]?"Update":"Create")&&ee(s,e)},d(r){r&&(i(s),i(t))}}}function At(a){var ke,Ee,Ie,ye;let e,s,t,r,l,n,o,f,p,k,c,h,m,R,v,N,Q,W,j,ce,X,Y,H,me,x,B,E,J,G,Z,$e,ue,q=a[1]&&a[0]&&He(a);l=new _e({props:{for:"name",$$slots:{default:[_t]},$$scope:{ctx:a}}}),o=new Se({props:{id:"name",name:"name",value:((ke=a[0])==null?void 0:ke.name)??""}});let z=a[3].name&&qe(a);c=new _e({props:{for:"address",$$slots:{default:[ht]},$$scope:{ctx:a}}}),m=new Se({props:{id:"address",name:"address",value:((Ee=a[0])==null?void 0:Ee.address)??""}});let L=a[3].address&&ze(a);Q=new _e({props:{for:"type",$$slots:{default:[gt]},$$scope:{ctx:a}}}),j=new Ne({props:{name:"type",items:a[6],selected:(Ie=a[0])==null?void 0:Ie.type,$$slots:{default:[kt]},$$scope:{ctx:a}}});let U=a[3].type&&Ue(a);H=new _e({props:{for:"status",$$slots:{default:[Et]},$$scope:{ctx:a}}}),x=new Ne({props:{name:"status",items:a[7],selected:((ye=a[0])==null?void 0:ye.status)??"ACTIVE",$$slots:{default:[Dt]},$$scope:{ctx:a}}});let F=a[3].status&&Ye(a);return G=new be({props:{type:"submit",$$slots:{default:[Tt]},$$scope:{ctx:a}}}),{c(){e=P("form"),q&&q.c(),s=A(),t=P("div"),r=P("div"),y(l.$$.fragment),n=A(),y(o.$$.fragment),f=A(),z&&z.c(),p=A(),k=P("div"),y(c.$$.fragment),h=A(),y(m.$$.fragment),R=A(),L&&L.c(),v=A(),N=P("div"),y(Q.$$.fragment),W=A(),y(j.$$.fragment),ce=A(),U&&U.c(),X=A(),Y=P("div"),y(H.$$.fragment),me=A(),y(x.$$.fragment),B=A(),F&&F.c(),E=A(),J=P("div"),y(G.$$.fragment),this.h()},l(u){e=M(u,"FORM",{method:!0,action:!0});var w=I(e);q&&q.l(w),s=C(w),t=M(w,"DIV",{class:!0});var K=I(t);r=M(K,"DIV",{class:!0});var te=I(r);V(l.$$.fragment,te),n=C(te),V(o.$$.fragment,te),f=C(te),z&&z.l(te),te.forEach(i),p=C(K),k=M(K,"DIV",{class:!0});var re=I(k);V(c.$$.fragment,re),h=C(re),V(m.$$.fragment,re),R=C(re),L&&L.l(re),re.forEach(i),v=C(K),N=M(K,"DIV",{class:!0});var se=I(N);V(Q.$$.fragment,se),W=C(se),V(j.$$.fragment,se),ce=C(se),U&&U.l(se),se.forEach(i),X=C(K),Y=M(K,"DIV",{class:!0});var le=I(Y);V(H.$$.fragment,le),me=C(le),V(x.$$.fragment,le),B=C(le),F&&F.l(le),le.forEach(i),E=C(K),J=M(K,"DIV",{class:!0});var de=I(J);V(G.$$.fragment,de),de.forEach(i),K.forEach(i),w.forEach(i),this.h()},h(){$(r,"class","space-y-2"),$(k,"class","space-y-2"),$(N,"class","space-y-2"),$(Y,"class","space-y-2"),$(J,"class","flex justify-end space-x-2"),$(t,"class","space-y-4"),$(e,"method","POST"),$(e,"action",a[2])},m(u,w){b(u,e,w),q&&q.m(e,null),d(e,s),d(e,t),d(t,r),D(l,r,null),d(r,n),D(o,r,null),d(r,f),z&&z.m(r,null),d(t,p),d(t,k),D(c,k,null),d(k,h),D(m,k,null),d(k,R),L&&L.m(k,null),d(t,v),d(t,N),D(Q,N,null),d(N,W),D(j,N,null),d(N,ce),U&&U.m(N,null),d(t,X),d(t,Y),D(H,Y,null),d(Y,me),D(x,Y,null),d(Y,B),F&&F.m(Y,null),d(t,E),d(t,J),D(G,J,null),Z=!0,$e||(ue=at(a[5].call(null,e)),$e=!0)},p(u,[w]){var Te,Ae,Ce,Pe;u[1]&&u[0]?q?q.p(u,w):(q=He(u),q.c(),q.m(e,s)):q&&(q.d(1),q=null);const K={};w&262144&&(K.$$scope={dirty:w,ctx:u}),l.$set(K);const te={};w&1&&(te.value=((Te=u[0])==null?void 0:Te.name)??""),o.$set(te),u[3].name?z?z.p(u,w):(z=qe(u),z.c(),z.m(r,null)):z&&(z.d(1),z=null);const re={};w&262144&&(re.$$scope={dirty:w,ctx:u}),c.$set(re);const se={};w&1&&(se.value=((Ae=u[0])==null?void 0:Ae.address)??""),m.$set(se),u[3].address?L?L.p(u,w):(L=ze(u),L.c(),L.m(k,null)):L&&(L.d(1),L=null);const le={};w&262144&&(le.$$scope={dirty:w,ctx:u}),Q.$set(le);const de={};w&1&&(de.selected=(Ce=u[0])==null?void 0:Ce.type),w&262144&&(de.$$scope={dirty:w,ctx:u}),j.$set(de),u[3].type?U?U.p(u,w):(U=Ue(u),U.c(),U.m(N,null)):U&&(U.d(1),U=null);const Ve={};w&262144&&(Ve.$$scope={dirty:w,ctx:u}),H.$set(Ve);const ve={};w&1&&(ve.selected=((Pe=u[0])==null?void 0:Pe.status)??"ACTIVE"),w&262144&&(ve.$$scope={dirty:w,ctx:u}),x.$set(ve),u[3].status?F?F.p(u,w):(F=Ye(u),F.c(),F.m(Y,null)):F&&(F.d(1),F=null);const De={};w&262146&&(De.$$scope={dirty:w,ctx:u}),G.$set(De),(!Z||w&4)&&$(e,"action",u[2])},i(u){Z||(_(l.$$.fragment,u),_(o.$$.fragment,u),_(c.$$.fragment,u),_(m.$$.fragment,u),_(Q.$$.fragment,u),_(j.$$.fragment,u),_(H.$$.fragment,u),_(x.$$.fragment,u),_(G.$$.fragment,u),Z=!0)},o(u){g(l.$$.fragment,u),g(o.$$.fragment,u),g(c.$$.fragment,u),g(m.$$.fragment,u),g(Q.$$.fragment,u),g(j.$$.fragment,u),g(H.$$.fragment,u),g(x.$$.fragment,u),g(G.$$.fragment,u),Z=!1},d(u){u&&i(e),q&&q.d(),T(l),T(o),z&&z.d(),T(c),T(m),L&&L.d(),T(Q),T(j),U&&U.d(),T(H),T(x),F&&F.d(),T(G),$e=!1,ue()}}}function Ct(a,e,s){let t,r,{data:l}=e,{editMode:n=!1}=e,{property:o=void 0}=e;const f=ot(),{form:p,errors:k,enhance:c}=$t(l.form,{onResult:({result:v})=>{v.type==="success"&&f("propertyAdded")}});ft(a,k,v=>s(3,r=v));const h=Object.entries(nt).map(([v])=>({value:v,label:v.replace("_"," ")})),m=Object.entries(lt).map(([v])=>({value:v,label:v}));function R(){o.id=this.value,s(0,o)}return a.$$set=v=>{"data"in v&&s(8,l=v.data),"editMode"in v&&s(1,n=v.editMode),"property"in v&&s(0,o=v.property)},a.$$.update=()=>{a.$$.dirty&2&&s(2,t=n?"?/update":"?/create")},[o,n,t,r,k,c,h,m,l,R]}class Pt extends We{constructor(e){super(),Ze(this,e,Ct,At,Ke,{data:8,editMode:1,property:0})}}function Ge(a,e,s){const t=a.slice();return t[10]=e[s],t}function Mt(a){let e,s="No properties found";return{c(){e=P("div"),e.textContent=s,this.h()},l(t){e=M(t,"DIV",{class:!0,"data-svelte-h":!0}),we(e)!=="svelte-1bho1lq"&&(e.textContent=s),this.h()},h(){$(e,"class","p-4 text-center text-muted-foreground")},m(t,r){b(t,e,r)},p:ne,i:ne,o:ne,d(t){t&&i(e)}}}function Nt(a){let e=[],s=new Map,t,r,l=pe(a[3]);const n=o=>o[10].id;for(let o=0;o<l.length;o+=1){let f=Ge(a,l,o),p=n(f);s.set(p,e[o]=Xe(p,f))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();t=ie()},l(o){for(let f=0;f<e.length;f+=1)e[f].l(o);t=ie()},m(o,f){for(let p=0;p<e.length;p+=1)e[p]&&e[p].m(o,f);b(o,t,f),r=!0},p(o,f){f&56&&(l=pe(o[3]),he(),e=ct(e,f,n,1,o,l,s,t.parentNode,ut,Xe,t,Ge),ge())},i(o){if(!r){for(let f=0;f<l.length;f+=1)_(e[f]);r=!0}},o(o){for(let f=0;f<e.length;f+=1)g(e[f]);r=!1},d(o){o&&i(t);for(let f=0;f<e.length;f+=1)e[f].d(o)}}}function St(a){let e=a[10].status+"",s;return{c(){s=S(e)},l(t){s=O(t,e)},m(t,r){b(t,s,r)},p(t,r){r&8&&e!==(e=t[10].status+"")&&ee(s,e)},d(t){t&&i(s)}}}function Ot(a){let e,s,t,r;return{c(){e=oe("svg"),s=oe("path"),t=oe("path"),r=S(`
                  Edit`),this.h()},l(l){e=fe(l,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var n=I(e);s=fe(n,"path",{d:!0}),I(s).forEach(i),t=fe(n,"path",{d:!0}),I(t).forEach(i),n.forEach(i),r=O(l,`
                  Edit`),this.h()},h(){$(s,"d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"),$(t,"d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"),$(e,"xmlns","http://www.w3.org/2000/svg"),$(e,"width","16"),$(e,"height","16"),$(e,"viewBox","0 0 24 24"),$(e,"fill","none"),$(e,"stroke","currentColor"),$(e,"stroke-width","2"),$(e,"stroke-linecap","round"),$(e,"stroke-linejoin","round"),$(e,"class","mr-2")},m(l,n){b(l,e,n),d(e,s),d(e,t),b(l,r,n)},p:ne,d(l){l&&(i(e),i(r))}}}function Bt(a){let e,s,t,r,l,n;return{c(){e=oe("svg"),s=oe("path"),t=oe("path"),r=oe("path"),l=oe("path"),n=S(`
                  Delete`),this.h()},l(o){e=fe(o,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var f=I(e);s=fe(f,"path",{d:!0}),I(s).forEach(i),t=fe(f,"path",{d:!0}),I(t).forEach(i),r=fe(f,"path",{d:!0}),I(r).forEach(i),l=fe(f,"path",{d:!0}),I(l).forEach(i),f.forEach(i),n=O(o,`
                  Delete`),this.h()},h(){$(s,"d","M3 6h18"),$(t,"d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"),$(r,"d","M10 11v6"),$(l,"d","M14 11v6"),$(e,"xmlns","http://www.w3.org/2000/svg"),$(e,"width","16"),$(e,"height","16"),$(e,"viewBox","0 0 24 24"),$(e,"fill","none"),$(e,"stroke","currentColor"),$(e,"stroke-width","2"),$(e,"stroke-linecap","round"),$(e,"stroke-linejoin","round"),$(e,"class","mr-2")},m(o,f){b(o,e,f),d(e,s),d(e,t),d(e,r),d(e,l),b(o,n,f)},p:ne,d(o){o&&(i(e),i(n))}}}function Xe(a,e){let s,t,r=e[10].name+"",l,n,o,f=e[10].address+"",p,k,c,h=e[10].type+"",m,R,v,N,Q,W,j,ce,X,Y,H;N=new mt({props:{variant:Je(e[10].status),$$slots:{default:[St]},$$scope:{ctx:e}}});function me(){return e[6](e[10])}j=new be({props:{size:"sm",variant:"outline",$$slots:{default:[Ot]},$$scope:{ctx:e}}}),j.$on("click",me);function x(){return e[7](e[10])}return X=new be({props:{size:"sm",variant:"destructive",disabled:!1,$$slots:{default:[Bt]},$$scope:{ctx:e}}}),X.$on("click",x),{key:a,first:null,c(){s=P("div"),t=P("div"),l=S(r),n=A(),o=P("div"),p=S(f),k=A(),c=P("div"),m=S(h),R=A(),v=P("div"),y(N.$$.fragment),Q=A(),W=P("div"),y(j.$$.fragment),ce=A(),y(X.$$.fragment),Y=A(),this.h()},l(B){s=M(B,"DIV",{class:!0});var E=I(s);t=M(E,"DIV",{class:!0});var J=I(t);l=O(J,r),J.forEach(i),n=C(E),o=M(E,"DIV",{});var G=I(o);p=O(G,f),G.forEach(i),k=C(E),c=M(E,"DIV",{});var Z=I(c);m=O(Z,h),Z.forEach(i),R=C(E),v=M(E,"DIV",{});var $e=I(v);V(N.$$.fragment,$e),$e.forEach(i),Q=C(E),W=M(E,"DIV",{class:!0});var ue=I(W);V(j.$$.fragment,ue),ce=C(ue),V(X.$$.fragment,ue),ue.forEach(i),Y=C(E),E.forEach(i),this.h()},h(){$(t,"class","font-medium"),$(W,"class","flex items-center gap-2"),$(s,"class","grid grid-cols-[2fr_2fr_1fr_1fr_2fr] gap-4 p-4 text-left hover:bg-muted/50 w-full border-b last:border-b-0"),this.first=s},m(B,E){b(B,s,E),d(s,t),d(t,l),d(s,n),d(s,o),d(o,p),d(s,k),d(s,c),d(c,m),d(s,R),d(s,v),D(N,v,null),d(s,Q),d(s,W),D(j,W,null),d(W,ce),D(X,W,null),d(s,Y),H=!0},p(B,E){e=B,(!H||E&8)&&r!==(r=e[10].name+"")&&ee(l,r),(!H||E&8)&&f!==(f=e[10].address+"")&&ee(p,f),(!H||E&8)&&h!==(h=e[10].type+"")&&ee(m,h);const J={};E&8&&(J.variant=Je(e[10].status)),E&8200&&(J.$$scope={dirty:E,ctx:e}),N.$set(J);const G={};E&8192&&(G.$$scope={dirty:E,ctx:e}),j.$set(G);const Z={};E&8192&&(Z.$$scope={dirty:E,ctx:e}),X.$set(Z)},i(B){H||(_(N.$$.fragment,B),_(j.$$.fragment,B),_(X.$$.fragment,B),H=!0)},o(B){g(N.$$.fragment,B),g(j.$$.fragment,B),g(X.$$.fragment,B),H=!1},d(B){B&&i(s),T(N),T(j),T(X)}}}function Rt(a){let e,s='<div class="flex items-center">Name</div> <div class="flex items-center">Address</div> <div class="flex items-center">Type</div> <div class="flex items-center">Status</div> <div class="flex items-center">Actions</div>',t,r,l,n,o;const f=[Nt,Mt],p=[];function k(c,h){var m;return((m=c[3])==null?void 0:m.length)>0?0:1}return r=k(a),l=p[r]=f[r](a),{c(){e=P("div"),e.innerHTML=s,t=A(),l.c(),n=ie(),this.h()},l(c){e=M(c,"DIV",{class:!0,"data-svelte-h":!0}),we(e)!=="svelte-1t6qv8s"&&(e.innerHTML=s),t=C(c),l.l(c),n=ie(),this.h()},h(){$(e,"class","grid grid-cols-[2fr_2fr_1fr_1fr_2fr] gap-4 p-4 font-medium border-b bg-muted/50")},m(c,h){b(c,e,h),b(c,t,h),p[r].m(c,h),b(c,n,h),o=!0},p(c,h){let m=r;r=k(c),r===m?p[r].p(c,h):(he(),g(p[m],1,1,()=>{p[m]=null}),ge(),l=p[r],l?l.p(c,h):(l=p[r]=f[r](c),l.c()),_(l,1),l.m(n.parentNode,n))},i(c){o||(_(l),o=!0)},o(c){g(l),o=!1},d(c){c&&(i(e),i(t),i(n)),p[r].d(c)}}}function jt(a){let e,s;return e=new st({props:{class:"p-0",$$slots:{default:[Rt]},$$scope:{ctx:a}}}),{c(){y(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,r){D(e,t,r),s=!0},p(t,r){const l={};r&8200&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){s||(_(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){T(e,t)}}}function Ht(a){let e=a[1]?"Edit":"Add",s,t;return{c(){s=S(e),t=S(" Property")},l(r){s=O(r,e),t=O(r," Property")},m(r,l){b(r,s,l),b(r,t,l)},p(r,l){l&2&&e!==(e=r[1]?"Edit":"Add")&&ee(s,e)},d(r){r&&(i(s),i(t))}}}function qt(a){let e,s;return e=new pt({props:{$$slots:{default:[Ht]},$$scope:{ctx:a}}}),{c(){y(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,r){D(e,t,r),s=!0},p(t,r){const l={};r&8194&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){s||(_(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){T(e,t)}}}function zt(a){let e,s;return e=new Pt({props:{data:a[0],editMode:a[1],property:a[2]}}),e.$on("propertyAdded",a[8]),{c(){y(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,r){D(e,t,r),s=!0},p(t,r){const l={};r&1&&(l.data=t[0]),r&2&&(l.editMode=t[1]),r&4&&(l.property=t[2]),e.$set(l)},i(t){s||(_(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){T(e,t)}}}function Lt(a){let e,s,t,r;return e=new dt({props:{$$slots:{default:[qt]},$$scope:{ctx:a}}}),t=new st({props:{$$slots:{default:[zt]},$$scope:{ctx:a}}}),{c(){y(e.$$.fragment),s=A(),y(t.$$.fragment)},l(l){V(e.$$.fragment,l),s=C(l),V(t.$$.fragment,l)},m(l,n){D(e,l,n),b(l,s,n),D(t,l,n),r=!0},p(l,n){const o={};n&8194&&(o.$$scope={dirty:n,ctx:l}),e.$set(o);const f={};n&8199&&(f.$$scope={dirty:n,ctx:l}),t.$set(f)},i(l){r||(_(e.$$.fragment,l),_(t.$$.fragment,l),r=!0)},o(l){g(e.$$.fragment,l),g(t.$$.fragment,l),r=!1},d(l){l&&i(s),T(e,l),T(t,l)}}}function Ut(a){let e,s,t,r='<h1 class="text-2xl font-bold">Properties</h1>',l,n,o,f,p,k;return n=new Oe({props:{$$slots:{default:[jt]},$$scope:{ctx:a}}}),p=new Oe({props:{$$slots:{default:[Lt]},$$scope:{ctx:a}}}),{c(){e=P("div"),s=P("div"),t=P("div"),t.innerHTML=r,l=A(),y(n.$$.fragment),o=A(),f=P("div"),y(p.$$.fragment),this.h()},l(c){e=M(c,"DIV",{class:!0});var h=I(e);s=M(h,"DIV",{class:!0});var m=I(s);t=M(m,"DIV",{class:!0,"data-svelte-h":!0}),we(t)!=="svelte-3rizwz"&&(t.innerHTML=r),l=C(m),V(n.$$.fragment,m),m.forEach(i),o=C(h),f=M(h,"DIV",{class:!0});var R=I(f);V(p.$$.fragment,R),R.forEach(i),h.forEach(i),this.h()},h(){$(t,"class","flex justify-between items-center mb-4"),$(s,"class","w-full lg:w-2/3"),$(f,"class","w-full lg:w-1/3"),$(e,"class","container mx-auto p-4 flex flex-col lg:flex-row gap-4")},m(c,h){b(c,e,h),d(e,s),d(s,t),d(s,l),D(n,s,null),d(e,o),d(e,f),D(p,f,null),k=!0},p(c,[h]){const m={};h&8200&&(m.$$scope={dirty:h,ctx:c}),n.$set(m);const R={};h&8199&&(R.$$scope={dirty:h,ctx:c}),p.$set(R)},i(c){k||(_(n.$$.fragment,c),_(p.$$.fragment,c),k=!0)},o(c){g(n.$$.fragment,c),g(p.$$.fragment,c),k=!1},d(c){c&&i(e),T(n),T(p)}}}function Je(a){switch(a){case"ACTIVE":return"secondary";case"INACTIVE":return"destructive";case"MAINTENANCE":return"outline";default:return"default"}}function Ft(a,e,s){let t,r,{data:l}=e,n=!1,o;function f(m){console.log("Property selected for editing:",{id:m.id,name:m.name}),s(2,o=m),s(1,n=!0)}async function p(m){if(!confirm(`Are you sure you want to delete property ${m.name}? This action cannot be undone.`))return;const R=new FormData;R.append("id",m.id.toString());try{const v=await fetch("?/delete",{method:"POST",body:R}),N=await v.json();v.ok?(s(2,o=void 0),s(1,n=!1),await Be("app:properties"),alert("Property deleted successfully")):(console.error("Delete failed:",N),alert(`Failed to delete property: ${N.error||"Unknown error"}`))}catch(v){console.error("Error deleting property:",v),alert(`Error deleting property: ${v instanceof Error?v.message:"Unknown error"}`)}}const k=m=>f(m),c=m=>p(m),h=async()=>{s(2,o=void 0),s(1,n=!1),await Be("app:properties")};return a.$$set=m=>{"data"in m&&s(0,l=m.data)},a.$$.update=()=>{a.$$.dirty&1&&s(3,{properties:t,form:r}=l,t)},[l,n,o,t,f,p,k,c,h]}class ar extends We{constructor(e){super(),Ze(this,e,Ft,Ut,Ke,{data:0})}}export{ar as component};
