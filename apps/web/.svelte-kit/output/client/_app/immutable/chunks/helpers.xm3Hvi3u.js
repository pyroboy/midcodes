import{x as Q,a as J,C as We,u as Pt,n as ke,B as X}from"./utils.DSScpxlp.js";import{d as St,a as Ue,w as Ge}from"./index.C9tjxovB.js";import{l as Rt}from"./array.DDZSQHHD.js";import{I as Ft}from"./scheduler.O3yElrGi.js";function Ct(t){return new Promise(e=>setTimeout(e,t))}let Nt="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Dt=(t=21)=>{let e="",n=t|0;for(;n--;)e+=Nt[Math.random()*64|0];return e};function kt(){return Dt(10)}function wr(t){return t.reduce((e,n)=>(e[n]=kt(),e),{})}const st=()=>typeof window<"u";function Lt(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const ct=t=>st()&&t.test(Lt().toLowerCase()),It=()=>st()&&!!navigator.maxTouchPoints,Mt=()=>ct(/^mac/)&&!It(),Bt=()=>ct(/mac|iphone|ipad|ipod/i),$t=()=>Bt()&&!Mt(),Ce="data-melt-scroll-lock";function Xe(t,e){if(!t)return;const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function Wt(t,e,n){if(!t)return;const r=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{r?t.style.setProperty(e,r):t.style.removeProperty(e)}}function jt(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function xr(t){const e=document,n=e.defaultView??window,{documentElement:r,body:o}=e;if(o.hasAttribute(Ce))return Q;o.setAttribute(Ce,"");const i=n.innerWidth-r.clientWidth,c=()=>Wt(r,"--scrollbar-width",`${i}px`),s=jt(r),u=n.getComputedStyle(o)[s],d=()=>Xe(o,{overflow:"hidden",[s]:`calc(${u} + ${i}px)`}),p=()=>{const{scrollX:h,scrollY:m,visualViewport:g}=n,w=(g==null?void 0:g.offsetLeft)??0,v=(g==null?void 0:g.offsetTop)??0,x=Xe(o,{position:"fixed",overflow:"hidden",top:`${-(m-Math.floor(v))}px`,left:`${-(h-Math.floor(w))}px`,right:"0",[s]:`calc(${u} + ${i}px)`});return()=>{x==null||x(),n.scrollTo(h,m)}},b=[c(),$t()?p():d()];return()=>{b.forEach(h=>h==null?void 0:h()),o.removeAttribute(Ce)}}function Tr(t){const{open:e,forceVisible:n,activeTrigger:r}=t;return St([e,n,r],([o,a,i])=>(o||a)&&i!==null)}function Vt(t){let e=t.parentElement;for(;J(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function Ar(t,e){return e!==void 0?e:Vt(t)==="body"?document.body:null}const q=Math.min,M=Math.max,ve=Math.round,me=Math.floor,K=t=>({x:t,y:t}),Kt={left:"right",right:"left",bottom:"top",top:"bottom"},Ht={start:"end",end:"start"};function Le(t,e,n){return M(t,q(e,n))}function ae(t,e){return typeof t=="function"?t(e):t}function Y(t){return t.split("-")[0]}function se(t){return t.split("-")[1]}function lt(t){return t==="x"?"y":"x"}function je(t){return t==="y"?"height":"width"}function ee(t){return["top","bottom"].includes(Y(t))?"y":"x"}function Ve(t){return lt(ee(t))}function _t(t,e,n){n===void 0&&(n=!1);const r=se(t),o=Ve(t),a=je(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(i=ye(i)),[i,ye(i)]}function zt(t){const e=ye(t);return[Ie(t),e,Ie(e)]}function Ie(t){return t.replace(/start|end/g,e=>Ht[e])}function qt(t,e,n){const r=["left","right"],o=["right","left"],a=["top","bottom"],i=["bottom","top"];switch(t){case"top":case"bottom":return n?e?o:r:e?r:o;case"left":case"right":return e?a:i;default:return[]}}function Yt(t,e,n,r){const o=se(t);let a=qt(Y(t),n==="start",r);return o&&(a=a.map(i=>i+"-"+o),e&&(a=a.concat(a.map(Ie)))),a}function ye(t){return t.replace(/left|right|bottom|top/g,e=>Kt[e])}function Ut(t){return{top:0,right:0,bottom:0,left:0,...t}}function ut(t){return typeof t!="number"?Ut(t):{top:t,right:t,bottom:t,left:t}}function we(t){const{x:e,y:n,width:r,height:o}=t;return{width:r,height:o,top:n,left:e,right:e+r,bottom:n+o,x:e,y:n}}function Ze(t,e,n){let{reference:r,floating:o}=t;const a=ee(e),i=Ve(e),c=je(i),s=Y(e),u=a==="y",d=r.x+r.width/2-o.width/2,p=r.y+r.height/2-o.height/2,b=r[c]/2-o[c]/2;let h;switch(s){case"top":h={x:d,y:r.y-o.height};break;case"bottom":h={x:d,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:p};break;case"left":h={x:r.x-o.width,y:p};break;default:h={x:r.x,y:r.y}}switch(se(e)){case"start":h[i]-=b*(n&&u?-1:1);break;case"end":h[i]+=b*(n&&u?-1:1);break}return h}const Gt=async(t,e,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:i}=n,c=a.filter(Boolean),s=await(i.isRTL==null?void 0:i.isRTL(e));let u=await i.getElementRects({reference:t,floating:e,strategy:o}),{x:d,y:p}=Ze(u,r,s),b=r,h={},m=0;for(let g=0;g<c.length;g++){const{name:w,fn:v}=c[g],{x,y:O,data:F,reset:R}=await v({x:d,y:p,initialPlacement:r,placement:b,strategy:o,middlewareData:h,rects:u,platform:i,elements:{reference:t,floating:e}});d=x??d,p=O??p,h={...h,[w]:{...h[w],...F}},R&&m<=50&&(m++,typeof R=="object"&&(R.placement&&(b=R.placement),R.rects&&(u=R.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:o}):R.rects),{x:d,y:p}=Ze(u,b,s)),g=-1)}return{x:d,y:p,placement:b,strategy:o,middlewareData:h}};async function Ke(t,e){var n;e===void 0&&(e={});const{x:r,y:o,platform:a,rects:i,elements:c,strategy:s}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:b=!1,padding:h=0}=ae(e,t),m=ut(h),w=c[b?p==="floating"?"reference":"floating":p],v=we(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(w)))==null||n?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:u,rootBoundary:d,strategy:s})),x=p==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),F=await(a.isElement==null?void 0:a.isElement(O))?await(a.getScale==null?void 0:a.getScale(O))||{x:1,y:1}:{x:1,y:1},R=we(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:x,offsetParent:O,strategy:s}):x);return{top:(v.top-R.top+m.top)/F.y,bottom:(R.bottom-v.bottom+m.bottom)/F.y,left:(v.left-R.left+m.left)/F.x,right:(R.right-v.right+m.right)/F.x}}const Xt=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:o,rects:a,platform:i,elements:c,middlewareData:s}=e,{element:u,padding:d=0}=ae(t,e)||{};if(u==null)return{};const p=ut(d),b={x:n,y:r},h=Ve(o),m=je(h),g=await i.getDimensions(u),w=h==="y",v=w?"top":"left",x=w?"bottom":"right",O=w?"clientHeight":"clientWidth",F=a.reference[m]+a.reference[h]-b[h]-a.floating[m],R=b[h]-a.reference[h],L=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let N=L?L[O]:0;(!N||!await(i.isElement==null?void 0:i.isElement(L)))&&(N=c.floating[O]||a.floating[m]);const $=F/2-R/2,W=N/2-g[m]/2-1,k=q(p[v],W),I=q(p[x],W),P=k,l=N-g[m]-I,f=N/2-g[m]/2+$,y=Le(P,f,l),A=!s.arrow&&se(o)!=null&&f!==y&&a.reference[m]/2-(f<P?k:I)-g[m]/2<0,E=A?f<P?f-P:f-l:0;return{[h]:b[h]+E,data:{[h]:y,centerOffset:f-y-E,...A&&{alignmentOffset:E}},reset:A}}}),Zt=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:o,middlewareData:a,rects:i,initialPlacement:c,platform:s,elements:u}=e,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:b,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...w}=ae(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const v=Y(o),x=ee(c),O=Y(c)===c,F=await(s.isRTL==null?void 0:s.isRTL(u.floating)),R=b||(O||!g?[ye(c)]:zt(c)),L=m!=="none";!b&&L&&R.push(...Yt(c,g,m,F));const N=[c,...R],$=await Ke(e,w),W=[];let k=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&W.push($[v]),p){const f=_t(o,i,F);W.push($[f[0]],$[f[1]])}if(k=[...k,{placement:o,overflows:W}],!W.every(f=>f<=0)){var I,P;const f=(((I=a.flip)==null?void 0:I.index)||0)+1,y=N[f];if(y)return{data:{index:f,overflows:k},reset:{placement:y}};let A=(P=k.filter(E=>E.overflows[0]<=0).sort((E,S)=>E.overflows[1]-S.overflows[1])[0])==null?void 0:P.placement;if(!A)switch(h){case"bestFit":{var l;const E=(l=k.filter(S=>{if(L){const T=ee(S.placement);return T===x||T==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(T=>T>0).reduce((T,C)=>T+C,0)]).sort((S,T)=>S[1]-T[1])[0])==null?void 0:l[0];E&&(A=E);break}case"initialPlacement":A=c;break}if(o!==A)return{reset:{placement:A}}}return{}}}};async function Jt(t,e){const{placement:n,platform:r,elements:o}=t,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=Y(n),c=se(n),s=ee(n)==="y",u=["left","top"].includes(i)?-1:1,d=a&&s?-1:1,p=ae(e,t);let{mainAxis:b,crossAxis:h,alignmentAxis:m}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return c&&typeof m=="number"&&(h=c==="end"?m*-1:m),s?{x:h*d,y:b*u}:{x:b*u,y:h*d}}const Qt=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:o,y:a,placement:i,middlewareData:c}=e,s=await Jt(e,t);return i===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:o+s.x,y:a+s.y,data:{...s,placement:i}}}}},en=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:o}=e,{mainAxis:a=!0,crossAxis:i=!1,limiter:c={fn:w=>{let{x:v,y:x}=w;return{x:v,y:x}}},...s}=ae(t,e),u={x:n,y:r},d=await Ke(e,s),p=ee(Y(o)),b=lt(p);let h=u[b],m=u[p];if(a){const w=b==="y"?"top":"left",v=b==="y"?"bottom":"right",x=h+d[w],O=h-d[v];h=Le(x,h,O)}if(i){const w=p==="y"?"top":"left",v=p==="y"?"bottom":"right",x=m+d[w],O=m-d[v];m=Le(x,m,O)}const g=c.fn({...e,[b]:h,[p]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[b]:a,[p]:i}}}}}},tn=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:o,rects:a,platform:i,elements:c}=e,{apply:s=()=>{},...u}=ae(t,e),d=await Ke(e,u),p=Y(o),b=se(o),h=ee(o)==="y",{width:m,height:g}=a.floating;let w,v;p==="top"||p==="bottom"?(w=p,v=b===(await(i.isRTL==null?void 0:i.isRTL(c.floating))?"start":"end")?"left":"right"):(v=p,w=b==="end"?"top":"bottom");const x=g-d.top-d.bottom,O=m-d.left-d.right,F=q(g-d[w],x),R=q(m-d[v],O),L=!e.middlewareData.shift;let N=F,$=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&($=O),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=x),L&&!b){const k=M(d.left,0),I=M(d.right,0),P=M(d.top,0),l=M(d.bottom,0);h?$=m-2*(k!==0||I!==0?k+I:M(d.left,d.right)):N=g-2*(P!==0||l!==0?P+l:M(d.top,d.bottom))}await s({...e,availableWidth:$,availableHeight:N});const W=await i.getDimensions(c.floating);return m!==W.width||g!==W.height?{reset:{rects:!0}}:{}}}};function Oe(){return typeof window<"u"}function ce(t){return ft(t)?(t.nodeName||"").toLowerCase():"#document"}function B(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function _(t){var e;return(e=(ft(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ft(t){return Oe()?t instanceof Node||t instanceof B(t).Node:!1}function j(t){return Oe()?t instanceof Element||t instanceof B(t).Element:!1}function H(t){return Oe()?t instanceof HTMLElement||t instanceof B(t).HTMLElement:!1}function Je(t){return!Oe()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof B(t).ShadowRoot}function he(t){const{overflow:e,overflowX:n,overflowY:r,display:o}=V(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(o)}function nn(t){return["table","td","th"].includes(ce(t))}function Pe(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function He(t){const e=_e(),n=j(t)?V(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function rn(t){let e=U(t);for(;H(e)&&!oe(e);){if(He(e))return e;if(Pe(e))return null;e=U(e)}return null}function _e(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function oe(t){return["html","body","#document"].includes(ce(t))}function V(t){return B(t).getComputedStyle(t)}function Se(t){return j(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function U(t){if(ce(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Je(t)&&t.host||_(t);return Je(e)?e.host:e}function dt(t){const e=U(t);return oe(e)?t.ownerDocument?t.ownerDocument.body:t.body:H(e)&&he(e)?e:dt(e)}function pe(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=dt(t),a=o===((r=t.ownerDocument)==null?void 0:r.body),i=B(o);if(a){const c=Me(i);return e.concat(i,i.visualViewport||[],he(o)?o:[],c&&n?pe(c):[])}return e.concat(o,pe(o,[],n))}function Me(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function pt(t){const e=V(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=H(t),a=o?t.offsetWidth:n,i=o?t.offsetHeight:r,c=ve(n)!==a||ve(r)!==i;return c&&(n=a,r=i),{width:n,height:r,$:c}}function ze(t){return j(t)?t:t.contextElement}function ie(t){const e=ze(t);if(!H(e))return K(1);const n=e.getBoundingClientRect(),{width:r,height:o,$:a}=pt(e);let i=(a?ve(n.width):n.width)/r,c=(a?ve(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!c||!Number.isFinite(c))&&(c=1),{x:i,y:c}}const on=K(0);function ht(t){const e=B(t);return!_e()||!e.visualViewport?on:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function an(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==B(t)?!1:e}function te(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),a=ze(t);let i=K(1);e&&(r?j(r)&&(i=ie(r)):i=ie(t));const c=an(a,n,r)?ht(a):K(0);let s=(o.left+c.x)/i.x,u=(o.top+c.y)/i.y,d=o.width/i.x,p=o.height/i.y;if(a){const b=B(a),h=r&&j(r)?B(r):r;let m=b,g=Me(m);for(;g&&r&&h!==m;){const w=ie(g),v=g.getBoundingClientRect(),x=V(g),O=v.left+(g.clientLeft+parseFloat(x.paddingLeft))*w.x,F=v.top+(g.clientTop+parseFloat(x.paddingTop))*w.y;s*=w.x,u*=w.y,d*=w.x,p*=w.y,s+=O,u+=F,m=B(g),g=Me(m)}}return we({width:d,height:p,x:s,y:u})}function qe(t,e){const n=Se(t).scrollLeft;return e?e.left+n:te(_(t)).left+n}function mt(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),o=r.left+e.scrollLeft-(n?0:qe(t,r)),a=r.top+e.scrollTop;return{x:o,y:a}}function sn(t){let{elements:e,rect:n,offsetParent:r,strategy:o}=t;const a=o==="fixed",i=_(r),c=e?Pe(e.floating):!1;if(r===i||c&&a)return n;let s={scrollLeft:0,scrollTop:0},u=K(1);const d=K(0),p=H(r);if((p||!p&&!a)&&((ce(r)!=="body"||he(i))&&(s=Se(r)),H(r))){const h=te(r);u=ie(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}const b=i&&!p&&!a?mt(i,s,!0):K(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+d.x+b.x,y:n.y*u.y-s.scrollTop*u.y+d.y+b.y}}function cn(t){return Array.from(t.getClientRects())}function ln(t){const e=_(t),n=Se(t),r=t.ownerDocument.body,o=M(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=M(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+qe(t);const c=-n.scrollTop;return V(r).direction==="rtl"&&(i+=M(e.clientWidth,r.clientWidth)-o),{width:o,height:a,x:i,y:c}}function un(t,e){const n=B(t),r=_(t),o=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,c=0,s=0;if(o){a=o.width,i=o.height;const u=_e();(!u||u&&e==="fixed")&&(c=o.offsetLeft,s=o.offsetTop)}return{width:a,height:i,x:c,y:s}}function fn(t,e){const n=te(t,!0,e==="fixed"),r=n.top+t.clientTop,o=n.left+t.clientLeft,a=H(t)?ie(t):K(1),i=t.clientWidth*a.x,c=t.clientHeight*a.y,s=o*a.x,u=r*a.y;return{width:i,height:c,x:s,y:u}}function Qe(t,e,n){let r;if(e==="viewport")r=un(t,n);else if(e==="document")r=ln(_(t));else if(j(e))r=fn(e,n);else{const o=ht(t);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return we(r)}function bt(t,e){const n=U(t);return n===e||!j(n)||oe(n)?!1:V(n).position==="fixed"||bt(n,e)}function dn(t,e){const n=e.get(t);if(n)return n;let r=pe(t,[],!1).filter(c=>j(c)&&ce(c)!=="body"),o=null;const a=V(t).position==="fixed";let i=a?U(t):t;for(;j(i)&&!oe(i);){const c=V(i),s=He(i);!s&&c.position==="fixed"&&(o=null),(a?!s&&!o:!s&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||he(i)&&!s&&bt(t,i))?r=r.filter(d=>d!==i):o=c,i=U(i)}return e.set(t,r),r}function pn(t){let{element:e,boundary:n,rootBoundary:r,strategy:o}=t;const i=[...n==="clippingAncestors"?Pe(e)?[]:dn(e,this._c):[].concat(n),r],c=i[0],s=i.reduce((u,d)=>{const p=Qe(e,d,o);return u.top=M(p.top,u.top),u.right=q(p.right,u.right),u.bottom=q(p.bottom,u.bottom),u.left=M(p.left,u.left),u},Qe(e,c,o));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function hn(t){const{width:e,height:n}=pt(t);return{width:e,height:n}}function mn(t,e,n){const r=H(e),o=_(e),a=n==="fixed",i=te(t,!0,a,e);let c={scrollLeft:0,scrollTop:0};const s=K(0);if(r||!r&&!a)if((ce(e)!=="body"||he(o))&&(c=Se(e)),r){const b=te(e,!0,a,e);s.x=b.x+e.clientLeft,s.y=b.y+e.clientTop}else o&&(s.x=qe(o));const u=o&&!r&&!a?mt(o,c):K(0),d=i.left+c.scrollLeft-s.x-u.x,p=i.top+c.scrollTop-s.y-u.y;return{x:d,y:p,width:i.width,height:i.height}}function Ne(t){return V(t).position==="static"}function et(t,e){if(!H(t)||V(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return _(t)===n&&(n=n.ownerDocument.body),n}function gt(t,e){const n=B(t);if(Pe(t))return n;if(!H(t)){let o=U(t);for(;o&&!oe(o);){if(j(o)&&!Ne(o))return o;o=U(o)}return n}let r=et(t,e);for(;r&&nn(r)&&Ne(r);)r=et(r,e);return r&&oe(r)&&Ne(r)&&!He(r)?n:r||rn(t)||n}const bn=async function(t){const e=this.getOffsetParent||gt,n=this.getDimensions,r=await n(t.floating);return{reference:mn(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function gn(t){return V(t).direction==="rtl"}const vn={convertOffsetParentRelativeRectToViewportRelativeRect:sn,getDocumentElement:_,getClippingRect:pn,getOffsetParent:gt,getElementRects:bn,getClientRects:cn,getDimensions:hn,getScale:ie,isElement:j,isRTL:gn};function vt(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function yn(t,e){let n=null,r;const o=_(t);function a(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function i(c,s){c===void 0&&(c=!1),s===void 0&&(s=1),a();const u=t.getBoundingClientRect(),{left:d,top:p,width:b,height:h}=u;if(c||e(),!b||!h)return;const m=me(p),g=me(o.clientWidth-(d+b)),w=me(o.clientHeight-(p+h)),v=me(d),O={rootMargin:-m+"px "+-g+"px "+-w+"px "+-v+"px",threshold:M(0,q(1,s))||1};let F=!0;function R(L){const N=L[0].intersectionRatio;if(N!==s){if(!F)return i();N?i(!1,N):r=setTimeout(()=>{i(!1,1e-7)},1e3)}N===1&&!vt(u,t.getBoundingClientRect())&&i(),F=!1}try{n=new IntersectionObserver(R,{...O,root:o.ownerDocument})}catch{n=new IntersectionObserver(R,O)}n.observe(t)}return i(!0),a}function wn(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:s=!1}=r,u=ze(t),d=o||a?[...u?pe(u):[],...pe(e)]:[];d.forEach(v=>{o&&v.addEventListener("scroll",n,{passive:!0}),a&&v.addEventListener("resize",n)});const p=u&&c?yn(u,n):null;let b=-1,h=null;i&&(h=new ResizeObserver(v=>{let[x]=v;x&&x.target===u&&h&&(h.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var O;(O=h)==null||O.observe(e)})),n()}),u&&!s&&h.observe(u),h.observe(e));let m,g=s?te(t):null;s&&w();function w(){const v=te(t);g&&!vt(g,v)&&n(),g=v,m=requestAnimationFrame(w)}return n(),()=>{var v;d.forEach(x=>{o&&x.removeEventListener("scroll",n),a&&x.removeEventListener("resize",n)}),p==null||p(),(v=h)==null||v.disconnect(),h=null,s&&cancelAnimationFrame(m)}}const xn=Qt,Tn=en,An=Zt,En=tn,On=Xt,Pn=(t,e,n)=>{const r=new Map,o={platform:vn,...n},a={...o.platform,_c:r};return Gt(t,e,{...o,platform:a})},Sn={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},Rn={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function Fn(t,e,n={}){if(!e||!t||n===null)return{destroy:Q};const r={...Sn,...n},o=e.querySelector("[data-arrow=true]"),a=[];r.flip&&a.push(An({boundary:r.boundary,padding:r.overflowPadding}));const i=J(o)?o.offsetHeight/2:0;if(r.gutter||r.offset){const s=r.gutter?{mainAxis:r.gutter}:r.offset;(s==null?void 0:s.mainAxis)!=null&&(s.mainAxis+=i),a.push(xn(s))}a.push(Tn({boundary:r.boundary,crossAxis:r.overlap,padding:r.overflowPadding})),o&&a.push(On({element:o,padding:8})),a.push(En({padding:r.overflowPadding,apply({rects:s,availableHeight:u,availableWidth:d}){r.sameWidth&&Object.assign(e.style,{width:`${Math.round(s.reference.width)}px`,minWidth:"unset"}),r.fitViewport&&Object.assign(e.style,{maxWidth:`${d}px`,maxHeight:`${u}px`})}}));function c(){if(!t||!e||J(t)&&!t.ownerDocument.documentElement.contains(t))return;const{placement:s,strategy:u}=r;Pn(t,e,{placement:s,middleware:a,strategy:u}).then(d=>{const p=Math.round(d.x),b=Math.round(d.y),[h,m]=Cn(d.placement);if(e.setAttribute("data-side",h),e.setAttribute("data-align",m),Object.assign(e.style,{position:r.strategy,top:`${b}px`,left:`${p}px`}),J(o)&&d.middlewareData.arrow){const{x:g,y:w}=d.middlewareData.arrow,v=d.placement.split("-")[0];o.setAttribute("data-side",v),Object.assign(o.style,{position:"absolute",left:g!=null?`${g}px`:"",top:w!=null?`${w}px`:"",[v]:`calc(100% - ${i}px)`,transform:Rn[v],backgroundColor:"inherit",zIndex:"inherit"})}return d})}return Object.assign(e.style,{position:r.strategy}),{destroy:wn(t,e,c)}}function Cn(t){const[e,n="center"]=t.split("-");return[e,n]}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var yt=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],xe=yt.join(","),wt=typeof Element>"u",ne=wt?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Te=!wt&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Ae=function t(e,n){var r;n===void 0&&(n=!0);var o=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),a=o===""||o==="true",i=a||n&&e&&t(e.parentNode);return i},Nn=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},xt=function(e,n,r){if(Ae(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(xe));return n&&ne.call(e,xe)&&o.unshift(e),o=o.filter(r),o},Tt=function t(e,n,r){for(var o=[],a=Array.from(e);a.length;){var i=a.shift();if(!Ae(i,!1))if(i.tagName==="SLOT"){var c=i.assignedElements(),s=c.length?c:i.children,u=t(s,!0,r);r.flatten?o.push.apply(o,u):o.push({scopeParent:i,candidates:u})}else{var d=ne.call(i,xe);d&&r.filter(i)&&(n||!e.includes(i))&&o.push(i);var p=i.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(i),b=!Ae(p,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(i));if(p&&b){var h=t(p===!0?i.children:p.children,!0,r);r.flatten?o.push.apply(o,h):o.push({scopeParent:i,candidates:h})}else a.unshift.apply(a,i.children)}}return o},At=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Z=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Nn(e))&&!At(e)?0:e.tabIndex},Dn=function(e,n){var r=Z(e);return r<0&&n&&!At(e)?0:r},kn=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},Et=function(e){return e.tagName==="INPUT"},Ln=function(e){return Et(e)&&e.type==="hidden"},In=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},Mn=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},Bn=function(e){if(!e.name)return!0;var n=e.form||Te(e),r=function(c){return n.querySelectorAll('input[type="radio"][name="'+c+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(e.name));else try{o=r(e.name)}catch(i){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",i.message),!1}var a=Mn(o,e.form);return!a||a===e},$n=function(e){return Et(e)&&e.type==="radio"},Wn=function(e){return $n(e)&&!Bn(e)},jn=function(e){var n,r=e&&Te(e),o=(n=r)===null||n===void 0?void 0:n.host,a=!1;if(r&&r!==e){var i,c,s;for(a=!!((i=o)!==null&&i!==void 0&&(c=i.ownerDocument)!==null&&c!==void 0&&c.contains(o)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!a&&o;){var u,d,p;r=Te(o),o=(u=r)===null||u===void 0?void 0:u.host,a=!!((d=o)!==null&&d!==void 0&&(p=d.ownerDocument)!==null&&p!==void 0&&p.contains(o))}}return a},tt=function(e){var n=e.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},Vn=function(e,n){var r=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var a=ne.call(e,"details>summary:first-of-type"),i=a?e.parentElement:e;if(ne.call(i,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var c=e;e;){var s=e.parentElement,u=Te(e);if(s&&!s.shadowRoot&&o(s)===!0)return tt(e);e.assignedSlot?e=e.assignedSlot:!s&&u!==e.ownerDocument?e=u.host:e=s}e=c}if(jn(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return tt(e);return!1},Kn=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return ne.call(n,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}n=n.parentElement}return!1},Ee=function(e,n){return!(n.disabled||Ae(n)||Ln(n)||Vn(n,e)||In(n)||Kn(n))},Be=function(e,n){return!(Wn(n)||Z(n)<0||!Ee(e,n))},Hn=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},_n=function t(e){var n=[],r=[];return e.forEach(function(o,a){var i=!!o.scopeParent,c=i?o.scopeParent:o,s=Dn(c,i),u=i?t(o.candidates):c;s===0?i?n.push.apply(n,u):n.push(c):r.push({documentOrder:a,tabIndex:s,item:o,isScope:i,content:u})}),r.sort(kn).reduce(function(o,a){return a.isScope?o.push.apply(o,a.content):o.push(a.content),o},[]).concat(n)},zn=function(e,n){n=n||{};var r;return n.getShadowRoot?r=Tt([e],n.includeContainer,{filter:Be.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Hn}):r=xt(e,n.includeContainer,Be.bind(null,n)),_n(r)},qn=function(e,n){n=n||{};var r;return n.getShadowRoot?r=Tt([e],n.includeContainer,{filter:Ee.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=xt(e,n.includeContainer,Ee.bind(null,n)),r},re=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return ne.call(e,xe)===!1?!1:Be(n,e)},Yn=yt.concat("iframe").join(","),De=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return ne.call(e,Yn)===!1?!1:Ee(n,e)};/*!
* focus-trap 7.6.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function $e(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Un(t){if(Array.isArray(t))return $e(t)}function Gn(t,e,n){return(e=er(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xn(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nt(Object(n),!0).forEach(function(r){Gn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jn(t){return Un(t)||Xn(t)||tr(t)||Zn()}function Qn(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function er(t){var e=Qn(t,"string");return typeof e=="symbol"?e:e+""}function tr(t,e){if(t){if(typeof t=="string")return $e(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$e(t,e):void 0}}var it={activateTrap:function(e,n){if(e.length>0){var r=e[e.length-1];r!==n&&r._setPausedState(!0)}var o=e.indexOf(n);o===-1||e.splice(o,1),e.push(n)},deactivateTrap:function(e,n){var r=e.indexOf(n);r!==-1&&e.splice(r,1),e.length>0&&!e[e.length-1]._isManuallyPaused()&&e[e.length-1]._setPausedState(!1)}},nr=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},rr=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},de=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},ir=function(e){return de(e)&&!e.shiftKey},or=function(e){return de(e)&&e.shiftKey},ot=function(e){return setTimeout(e,0)},fe=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return typeof e=="function"?e.apply(void 0,r):e},be=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},ar=[],sr=function(e,n){var r=(n==null?void 0:n.document)||document,o=(n==null?void 0:n.trapStack)||ar,a=rt({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:ir,isKeyBackward:or},n),i={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},c,s=function(l,f,y){return l&&l[f]!==void 0?l[f]:a[y||f]},u=function(l,f){var y=typeof(f==null?void 0:f.composedPath)=="function"?f.composedPath():void 0;return i.containerGroups.findIndex(function(A){var E=A.container,S=A.tabbableNodes;return E.contains(l)||(y==null?void 0:y.includes(E))||S.find(function(T){return T===l})})},d=function(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=f.hasFallback,A=y===void 0?!1:y,E=f.params,S=E===void 0?[]:E,T=a[l];if(typeof T=="function"&&(T=T.apply(void 0,Jn(S))),T===!0&&(T=void 0),!T){if(T===void 0||T===!1)return T;throw new Error("`".concat(l,"` was specified but was not a node, or did not return a node"))}var C=T;if(typeof T=="string"){try{C=r.querySelector(T)}catch(D){throw new Error("`".concat(l,'` appears to be an invalid selector; error="').concat(D.message,'"'))}if(!C&&!A)throw new Error("`".concat(l,"` as selector refers to no known node"))}return C},p=function(){var l=d("initialFocus",{hasFallback:!0});if(l===!1)return!1;if(l===void 0||l&&!De(l,a.tabbableOptions))if(u(r.activeElement)>=0)l=r.activeElement;else{var f=i.tabbableGroups[0],y=f&&f.firstTabbableNode;l=y||d("fallbackFocus")}else l===null&&(l=d("fallbackFocus"));if(!l)throw new Error("Your focus-trap needs to have at least one focusable element");return l},b=function(){if(i.containerGroups=i.containers.map(function(l){var f=zn(l,a.tabbableOptions),y=qn(l,a.tabbableOptions),A=f.length>0?f[0]:void 0,E=f.length>0?f[f.length-1]:void 0,S=y.find(function(D){return re(D)}),T=y.slice().reverse().find(function(D){return re(D)}),C=!!f.find(function(D){return Z(D)>0});return{container:l,tabbableNodes:f,focusableNodes:y,posTabIndexesFound:C,firstTabbableNode:A,lastTabbableNode:E,firstDomTabbableNode:S,lastDomTabbableNode:T,nextTabbableNode:function(G){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,z=f.indexOf(G);return z<0?le?y.slice(y.indexOf(G)+1).find(function(ue){return re(ue)}):y.slice(0,y.indexOf(G)).reverse().find(function(ue){return re(ue)}):f[z+(le?1:-1)]}}}),i.tabbableGroups=i.containerGroups.filter(function(l){return l.tabbableNodes.length>0}),i.tabbableGroups.length<=0&&!d("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(i.containerGroups.find(function(l){return l.posTabIndexesFound})&&i.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},h=function(l){var f=l.activeElement;if(f)return f.shadowRoot&&f.shadowRoot.activeElement!==null?h(f.shadowRoot):f},m=function(l){if(l!==!1&&l!==h(document)){if(!l||!l.focus){m(p());return}l.focus({preventScroll:!!a.preventScroll}),i.mostRecentlyFocusedNode=l,nr(l)&&l.select()}},g=function(l){var f=d("setReturnFocus",{params:[l]});return f||(f===!1?!1:l)},w=function(l){var f=l.target,y=l.event,A=l.isBackward,E=A===void 0?!1:A;f=f||be(y),b();var S=null;if(i.tabbableGroups.length>0){var T=u(f,y),C=T>=0?i.containerGroups[T]:void 0;if(T<0)E?S=i.tabbableGroups[i.tabbableGroups.length-1].lastTabbableNode:S=i.tabbableGroups[0].firstTabbableNode;else if(E){var D=i.tabbableGroups.findIndex(function(Re){var Fe=Re.firstTabbableNode;return f===Fe});if(D<0&&(C.container===f||De(f,a.tabbableOptions)&&!re(f,a.tabbableOptions)&&!C.nextTabbableNode(f,!1))&&(D=T),D>=0){var G=D===0?i.tabbableGroups.length-1:D-1,le=i.tabbableGroups[G];S=Z(f)>=0?le.lastTabbableNode:le.lastDomTabbableNode}else de(y)||(S=C.nextTabbableNode(f,!1))}else{var z=i.tabbableGroups.findIndex(function(Re){var Fe=Re.lastTabbableNode;return f===Fe});if(z<0&&(C.container===f||De(f,a.tabbableOptions)&&!re(f,a.tabbableOptions)&&!C.nextTabbableNode(f))&&(z=T),z>=0){var ue=z===i.tabbableGroups.length-1?0:z+1,Ye=i.tabbableGroups[ue];S=Z(f)>=0?Ye.firstTabbableNode:Ye.firstDomTabbableNode}else de(y)||(S=C.nextTabbableNode(f))}}else S=d("fallbackFocus");return S},v=function(l){var f=be(l);if(!(u(f,l)>=0)){if(fe(a.clickOutsideDeactivates,l)){c.deactivate({returnFocus:a.returnFocusOnDeactivate});return}fe(a.allowOutsideClick,l)||l.preventDefault()}},x=function(l){var f=be(l),y=u(f,l)>=0;if(y||f instanceof Document)y&&(i.mostRecentlyFocusedNode=f);else{l.stopImmediatePropagation();var A,E=!0;if(i.mostRecentlyFocusedNode)if(Z(i.mostRecentlyFocusedNode)>0){var S=u(i.mostRecentlyFocusedNode),T=i.containerGroups[S].tabbableNodes;if(T.length>0){var C=T.findIndex(function(D){return D===i.mostRecentlyFocusedNode});C>=0&&(a.isKeyForward(i.recentNavEvent)?C+1<T.length&&(A=T[C+1],E=!1):C-1>=0&&(A=T[C-1],E=!1))}}else i.containerGroups.some(function(D){return D.tabbableNodes.some(function(G){return Z(G)>0})})||(E=!1);else E=!1;E&&(A=w({target:i.mostRecentlyFocusedNode,isBackward:a.isKeyBackward(i.recentNavEvent)})),m(A||i.mostRecentlyFocusedNode||p())}i.recentNavEvent=void 0},O=function(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i.recentNavEvent=l;var y=w({event:l,isBackward:f});y&&(de(l)&&l.preventDefault(),m(y))},F=function(l){(a.isKeyForward(l)||a.isKeyBackward(l))&&O(l,a.isKeyBackward(l))},R=function(l){rr(l)&&fe(a.escapeDeactivates,l)!==!1&&(l.preventDefault(),c.deactivate())},L=function(l){var f=be(l);u(f,l)>=0||fe(a.clickOutsideDeactivates,l)||fe(a.allowOutsideClick,l)||(l.preventDefault(),l.stopImmediatePropagation())},N=function(){if(i.active)return it.activateTrap(o,c),i.delayInitialFocusTimer=a.delayInitialFocus?ot(function(){m(p())}):m(p()),r.addEventListener("focusin",x,!0),r.addEventListener("mousedown",v,{capture:!0,passive:!1}),r.addEventListener("touchstart",v,{capture:!0,passive:!1}),r.addEventListener("click",L,{capture:!0,passive:!1}),r.addEventListener("keydown",F,{capture:!0,passive:!1}),r.addEventListener("keydown",R),c},$=function(){if(i.active)return r.removeEventListener("focusin",x,!0),r.removeEventListener("mousedown",v,!0),r.removeEventListener("touchstart",v,!0),r.removeEventListener("click",L,!0),r.removeEventListener("keydown",F,!0),r.removeEventListener("keydown",R),c},W=function(l){var f=l.some(function(y){var A=Array.from(y.removedNodes);return A.some(function(E){return E===i.mostRecentlyFocusedNode})});f&&m(p())},k=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(W):void 0,I=function(){k&&(k.disconnect(),i.active&&!i.paused&&i.containers.map(function(l){k.observe(l,{subtree:!0,childList:!0})}))};return c={get active(){return i.active},get paused(){return i.paused},activate:function(l){if(i.active)return this;var f=s(l,"onActivate"),y=s(l,"onPostActivate"),A=s(l,"checkCanFocusTrap");A||b(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=r.activeElement,f==null||f();var E=function(){A&&b(),N(),I(),y==null||y()};return A?(A(i.containers.concat()).then(E,E),this):(E(),this)},deactivate:function(l){if(!i.active)return this;var f=rt({onDeactivate:a.onDeactivate,onPostDeactivate:a.onPostDeactivate,checkCanReturnFocus:a.checkCanReturnFocus},l);clearTimeout(i.delayInitialFocusTimer),i.delayInitialFocusTimer=void 0,$(),i.active=!1,i.paused=!1,I(),it.deactivateTrap(o,c);var y=s(f,"onDeactivate"),A=s(f,"onPostDeactivate"),E=s(f,"checkCanReturnFocus"),S=s(f,"returnFocus","returnFocusOnDeactivate");y==null||y();var T=function(){ot(function(){S&&m(g(i.nodeFocusedBeforeActivation)),A==null||A()})};return S&&E?(E(g(i.nodeFocusedBeforeActivation)).then(T,T),this):(T(),this)},pause:function(l){return i.active?(i.manuallyPaused=!0,this._setPausedState(!0,l)):this},unpause:function(l){return i.active?(i.manuallyPaused=!1,o[o.length-1]!==this?this:this._setPausedState(!1,l)):this},updateContainerElements:function(l){var f=[].concat(l).filter(Boolean);return i.containers=f.map(function(y){return typeof y=="string"?r.querySelector(y):y}),i.active&&b(),I(),this}},Object.defineProperties(c,{_isManuallyPaused:{value:function(){return i.manuallyPaused}},_setPausedState:{value:function(l,f){if(i.paused===l)return this;if(i.paused=l,l){var y=s(f,"onPause"),A=s(f,"onPostPause");y==null||y(),$(),I(),A==null||A()}else{var E=s(f,"onUnpause"),S=s(f,"onPostUnpause");E==null||E(),b(),N(),I(),S==null||S()}return this}}}),c.updateContainerElements(e),c};function cr(t={}){let e;const{immediate:n,...r}=t,o=Ge(!1),a=Ge(!1),i=p=>e==null?void 0:e.activate(p),c=p=>{e==null||e.deactivate(p)},s=()=>{e&&(e.pause(),a.set(!0))},u=()=>{e&&(e.unpause(),a.set(!1))};return{useFocusTrap:p=>(e=sr(p,{...r,onActivate(){var b;o.set(!0),(b=t.onActivate)==null||b.call(t)},onDeactivate(){var b;o.set(!1),(b=t.onDeactivate)==null||b.call(t)}}),n&&i(),{destroy(){c(),e=void 0}}),hasFocus:Ue(o),isPaused:Ue(a),activate:i,deactivate:c,pause:s,unpause:u}}const ge=[],lr=(t,e)=>{let n=Q;function r(){const a=ge.indexOf(t);a>=0&&ge.splice(a,1)}function o(a){n();const{open:i,onClose:c,shouldCloseOnInteractOutside:s,closeOnInteractOutside:u}=a;Ct(100).then(()=>{i?ge.push(t):r()});function d(){return Rt(ge)===t}function p(){d()&&c&&(c(),r())}function b(m){const g=m.target;We(g)&&g&&d()&&(m.preventDefault(),m.stopPropagation(),m.stopImmediatePropagation())}function h(m){s!=null&&s(m)&&d()&&(m.preventDefault(),m.stopPropagation(),m.stopImmediatePropagation(),p())}n=dr(t,{onInteractOutsideStart:b,onInteractOutside:u?h:void 0,enabled:i}).destroy}return o(e),{update:o,destroy(){r(),n()}}},ur={floating:{},focusTrap:{},modal:{},escapeKeydown:{},portal:"body"},Er=(t,e)=>{t.dataset.escapee="";const{anchorElement:n,open:r,options:o}=e;if(!n||!r||!o)return{destroy:Q};const a={...ur,...o},i=[];if(a.portal!==null&&i.push(fr(t,a.portal).destroy),i.push(Fn(n,t,a.floating).destroy),a.focusTrap!==null){const{useFocusTrap:s}=cr({immediate:!0,escapeDeactivates:!1,allowOutsideClick:!0,returnFocusOnDeactivate:!1,fallbackFocus:t,...a.focusTrap});i.push(s(t).destroy)}a.modal!==null&&i.push(lr(t,{onClose:()=>{J(n)&&(r.set(!1),n.focus())},shouldCloseOnInteractOutside:s=>!(s.defaultPrevented||J(n)&&n.contains(s.target)),...a.modal}).destroy),a.escapeKeydown!==null&&i.push(Pt(t,{enabled:r,handler:()=>{r.set(!1)},...a.escapeKeydown}).destroy);const c=ke(...i);return{destroy(){c()}}},fr=(t,e="body")=>{let n;if(!J(e)&&typeof e!="string")return{destroy:Q};async function r(a){if(e=a,typeof e=="string"){if(n=document.querySelector(e),n===null&&(await Ft(),n=document.querySelector(e)),n===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)n=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.dataset.portal="",n.appendChild(t),t.hidden=!1}function o(){t.remove()}return r(e),{update:r,destroy:o}},dr=(t,e)=>{let n=Q,r=Q,o=!1,a=!1,i=!1;function c(d){n(),r();const{onInteractOutside:p,onInteractOutsideStart:b,enabled:h}=d;if(!h)return;function m(v){p&&at(v,t)&&(b==null||b(v));const x=v.target;We(x)&&Ot(t,x)&&(a=!0),o=!0}function g(v){p==null||p(v)}const w=pr(t);if(typeof PointerEvent<"u"){const v=x=>{r();const O=F=>{s(F)&&g(F),u()};if(x.pointerType==="touch"){r=X(w,"click",O,{capture:!0,once:!0});return}O(x)};n=ke(X(w,"pointerdown",m,!0),X(w,"pointerup",v,!0))}else{const v=O=>{i?i=!1:s(O)&&g(O),u()},x=O=>{i=!0,s(O)&&g(O),u()};n=ke(X(w,"mousedown",m,!0),X(w,"mouseup",v,!0),X(w,"touchstart",m,!0),X(w,"touchend",x,!0))}}function s(d){return!!(o&&!a&&at(d,t))}function u(){o=!1,a=!1}return c(e),{update:c,destroy(){n(),r()}}};function at(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;if(!We(n))return!1;const r=n.ownerDocument;return!r||!r.documentElement.contains(n)?!1:e&&!Ot(e,n)}function Ot(t,e){return t===e||t.contains(e)}function pr(t){return(t==null?void 0:t.ownerDocument)??document}function Or(t){return(e={})=>hr(t,e)}function hr(t,e){const r={...{side:"bottom",align:"center",sideOffset:0,alignOffset:0,sameWidth:!1,avoidCollisions:!0,collisionPadding:8,fitViewport:!1,strategy:"absolute",overlap:!1},...e};t.update(o=>({...o,placement:mr(r.side,r.align),offset:{...o.offset,mainAxis:r.sideOffset,crossAxis:r.alignOffset},gutter:0,sameWidth:r.sameWidth,flip:r.avoidCollisions,overflowPadding:r.collisionPadding,boundary:r.collisionBoundary,fitViewport:r.fitViewport,strategy:r.strategy,overlap:r.overlap}))}function mr(t,e){return e==="center"?t:`${t}-${e}`}export{Ar as a,fr as b,cr as c,Tr as d,Er as e,Or as f,wr as g,kt as h,xr as r,Ct as s,lr as u};
