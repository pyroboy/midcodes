import{t as le,f as ie}from"./utils.D33FkIxg.js";var D=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,y=e=>!e||typeof e!="object"||Object.keys(e).length===0,ae=(e,f)=>JSON.stringify(e)===JSON.stringify(f);function I(e,f){e.forEach(function(n){Array.isArray(n)?I(n,f):f.push(n)})}function L(e){let f=[];return I(e,f),f}var U=(...e)=>L(e).filter(Boolean),W=(e,f)=>{let n={},V=Object.keys(e),w=Object.keys(f);for(let d of V)if(w.includes(d)){let A=e[d],h=f[d];typeof A=="object"&&typeof h=="object"?n[d]=W(A,h):Array.isArray(A)||Array.isArray(h)?n[d]=U(h,A):n[d]=h+" "+A}else n[d]=e[d];for(let d of w)V.includes(d)||(n[d]=f[d]);return n},F=e=>!e||typeof e!="string"?e:e.replace(/\s+/g," ").trim(),se={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},Z=e=>e||void 0,C=(...e)=>Z(L(e).filter(Boolean).join(" ")),J=null,j={},P=!1,M=(...e)=>f=>f.twMerge?((!J||P)&&(P=!1,J=y(j)?le:ie({...j,extend:{theme:j.theme,classGroups:j.classGroups,conflictingClassGroupModifiers:j.conflictingClassGroupModifiers,conflictingClassGroups:j.conflictingClassGroups,...j.extend}})),Z(J(C(e)))):C(e),H=(e,f)=>{for(let n in f)e.hasOwnProperty(n)?e[n]=C(e[n],f[n]):e[n]=f[n];return e},ue=(e,f)=>{let{extend:n=null,slots:V={},variants:w={},compoundVariants:d=[],compoundSlots:A=[],defaultVariants:h={}}=e,b={...se,...f},G=n!=null&&n.base?C(n.base,e==null?void 0:e.base):e==null?void 0:e.base,g=n!=null&&n.variants&&!y(n.variants)?W(w,n.variants):w,x=n!=null&&n.defaultVariants&&!y(n.defaultVariants)?{...n.defaultVariants,...h}:h;!y(b.twMergeConfig)&&!ae(b.twMergeConfig,j)&&(P=!0,j=b.twMergeConfig);let N=y(n==null?void 0:n.slots),S=y(V)?{}:{base:C(e==null?void 0:e.base,N&&(n==null?void 0:n.base)),...V},O=N?S:H({...n==null?void 0:n.slots},y(S)?{base:e==null?void 0:e.base}:S),$=y(n==null?void 0:n.compoundVariants)?d:U(n==null?void 0:n.compoundVariants,d),m=c=>{if(y(g)&&y(V)&&N)return M(G,c==null?void 0:c.class,c==null?void 0:c.className)(b);if($&&!Array.isArray($))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof $}`);if(A&&!Array.isArray(A))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof A}`);let Q=(r,l,t=[],a)=>{let i=t;if(typeof l=="string")i=i.concat(F(l).split(" ").map(s=>`${r}:${s}`));else if(Array.isArray(l))i=i.concat(l.reduce((s,o)=>s.concat(`${r}:${o}`),[]));else if(typeof l=="object"&&typeof a=="string"){for(let s in l)if(l.hasOwnProperty(s)&&s===a){let o=l[s];if(o&&typeof o=="string"){let u=F(o);i[a]?i[a]=i[a].concat(u.split(" ").map(p=>`${r}:${p}`)):i[a]=u.split(" ").map(p=>`${r}:${p}`)}else Array.isArray(o)&&o.length>0&&(i[a]=o.reduce((u,p)=>u.concat(`${r}:${p}`),[]))}}return i},R=(r,l=g,t=null,a=null)=>{var i;let s=l[r];if(!s||y(s))return null;let o=(i=a==null?void 0:a[r])!=null?i:c==null?void 0:c[r];if(o===null)return null;let u=D(o),p=Array.isArray(b.responsiveVariants)&&b.responsiveVariants.length>0||b.responsiveVariants===!0,k=x==null?void 0:x[r],v=[];if(typeof u=="object"&&p)for(let[E,z]of Object.entries(u)){let te=s[z];if(E==="initial"){k=z;continue}Array.isArray(b.responsiveVariants)&&!b.responsiveVariants.includes(E)||(v=Q(E,te,v,t))}let re=u!=null&&typeof u!="object"?u:D(k),T=s[re||"false"];return typeof v=="object"&&typeof t=="string"&&v[t]?H(v,T):v.length>0?(v.push(T),v):T},X=()=>g?Object.keys(g).map(r=>R(r,g)):null,Y=(r,l)=>{if(!g||typeof g!="object")return null;let t=new Array;for(let a in g){let i=R(a,g,r,l),s=r==="base"&&typeof i=="string"?i:i&&i[r];s&&(t[t.length]=s)}return t},B={};for(let r in c)c[r]!==void 0&&(B[r]=c[r]);let K=(r,l)=>{var t;let a=typeof(c==null?void 0:c[r])=="object"?{[r]:(t=c[r])==null?void 0:t.initial}:{};return{...x,...B,...a,...l}},q=(r=[],l)=>{let t=[];for(let{class:a,className:i,...s}of r){let o=!0;for(let[u,p]of Object.entries(s)){let k=K(u,l);if(Array.isArray(p)){if(!p.includes(k[u])){o=!1;break}}else if(k[u]!==p){o=!1;break}}o&&(a&&t.push(a),i&&t.push(i))}return t},ee=r=>{let l=q($,r);if(!Array.isArray(l))return l;let t={};for(let a of l)if(typeof a=="string"&&(t.base=M(t.base,a)(b)),typeof a=="object")for(let[i,s]of Object.entries(a))t[i]=M(t[i],s)(b);return t},ne=r=>{if(A.length<1)return null;let l={};for(let{slots:t=[],class:a,className:i,...s}of A){if(!y(s)){let o=!0;for(let u of Object.keys(s)){let p=K(u,r)[u];if(p===void 0||(Array.isArray(s[u])?!s[u].includes(p):s[u]!==p)){o=!1;break}}if(!o)continue}for(let o of t)l[o]=l[o]||[],l[o].push([a,i])}return l};if(!y(V)||!N){let r={};if(typeof O=="object"&&!y(O))for(let l of Object.keys(O))r[l]=t=>{var a,i;return M(O[l],Y(l,t),((a=ee(t))!=null?a:[])[l],((i=ne(t))!=null?i:[])[l],t==null?void 0:t.class,t==null?void 0:t.className)(b)};return r}return M(G,X(),q($),c==null?void 0:c.class,c==null?void 0:c.className)(b)},_=()=>{if(!(!g||typeof g!="object"))return Object.keys(g)};return m.variantKeys=_(),m.extend=n,m.base=G,m.slots=O,m.variants=g,m.defaultVariants=x,m.compoundSlots=A,m.compoundVariants=$,m};export{ue as c};
